(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"+6XX":function(t,e,n){var r=n("y1pI");t.exports=function(t){return r(this.__data__,t)>-1}},"+K+b":function(t,e,n){var r=n("JHRd");t.exports=function(t){var e=new t.constructor(t.byteLength);return new r(e).set(new r(t)),e}},"+Qka":function(t,e,n){var r=n("fmRc"),i=n("t2Dn"),o=n("cq/+"),a=n("T1AV"),s=n("GoyQ"),u=n("mTTR"),c=n("itsj");t.exports=function t(e,n,l,f,h){e!==n&&o(n,function(o,u){if(h||(h=new r),s(o))a(e,n,u,l,t,f,h);else{var p=f?f(c(e,u),o,u+"",e,n,h):void 0;void 0===p&&(p=o),i(e,u,p)}},u)}},"+iFO":function(t,e,n){var r=n("dTAl"),i=n("LcsW"),o=n("6sVZ");t.exports=function(t){return"function"!=typeof t.constructor||o(t)?{}:r(i(t))}},"+tJ4":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){return function(e){for(var n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.closed||e.complete()}}},"+umK":function(t,e,n){"use strict";function r(){}n.d(e,"a",function(){return r})},"+yVr":function(t,e,n){var r=n("r7kc"),i=n("7GkX");t.exports=function(t){return null==t?[]:r(t,i(t))}},"/9aa":function(t,e,n){var r=n("NykK"),i=n("ExA7");t.exports=function(t){return"symbol"==typeof t||i(t)&&"[object Symbol]"==r(t)}},"/WYv":function(t,e,n){"use strict";function r(t){return t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},0:function(t,e,n){t.exports=n("zUnb")},"0/uQ":function(t,e,n){"use strict";var r=n("6blF"),i=n("/WYv"),o=n("2ePl"),a=n("xTla"),s=n("En8+"),u=n("IUTb"),c=n("pugT"),l=n("S5XQ"),f=n("u67D"),h=n("JcRv"),p=n("Fxb1");function d(t,e){if(!e)return t instanceof r.a?t:new r.a(Object(p.a)(t));if(null!=t){if(function(t){return t&&"function"==typeof t[a.a]}(t))return function(t,e){return new r.a(e?function(n){var r=new c.a;return r.add(e.schedule(function(){var i=t[a.a]();r.add(i.subscribe({next:function(t){r.add(e.schedule(function(){return n.next(t)}))},error:function(t){r.add(e.schedule(function(){return n.error(t)}))},complete:function(){r.add(e.schedule(function(){return n.complete()}))}}))})),r}:Object(h.a)(t))}(t,e);if(Object(i.a)(t))return function(t,e){return new r.a(e?function(n){var r=new c.a;return r.add(e.schedule(function(){return t.then(function(t){r.add(e.schedule(function(){n.next(t),r.add(e.schedule(function(){return n.complete()}))}))},function(t){r.add(e.schedule(function(){return n.error(t)}))})})),r}:Object(l.a)(t))}(t,e);if(Object(o.a)(t))return Object(u.a)(t,e);if(function(t){return t&&"function"==typeof t[s.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(e?function(n){var r,i=new c.a;return i.add(function(){r&&"function"==typeof r.return&&r.return()}),i.add(e.schedule(function(){r=t[s.a](),i.add(e.schedule(function(){if(!n.closed){var t,e;try{var i=r.next();t=i.value,e=i.done}catch(o){return void n.error(o)}e?n.complete():(n.next(t),this.schedule())}}))})),i}:Object(f.a)(t))}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}n.d(e,"a",function(){return d})},"03A+":function(t,e,n){var r=n("JTzB"),i=n("ExA7"),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(t){return i(t)&&a.call(t,"callee")&&!s.call(t,"callee")};t.exports=u},"0Cz8":function(t,e,n){var r=n("Xi7e"),i=n("ebwN"),o=n("e4Nc");t.exports=function(t,e){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!i||a.length<199)return a.push([t,e]),this.size=++n.size,this;n=this.__data__=new o(a)}return n.set(t,e),this.size=n.size,this}},"0JQy":function(t,e){var n="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",r="\\ud83c[\\udffb-\\udfff]",i="[^\\ud800-\\udfff]",o="(?:\\ud83c[\\udde6-\\uddff]){2}",a="[\\ud800-\\udbff][\\udc00-\\udfff]",s="(?:"+n+"|"+r+")?",u="[\\ufe0e\\ufe0f]?"+s+"(?:\\u200d(?:"+[i,o,a].join("|")+")[\\ufe0e\\ufe0f]?"+s+")*",c="(?:"+[i+n+"?",n,o,a,"[\\ud800-\\udfff]"].join("|")+")",l=RegExp(r+"(?="+r+")|"+c+u,"g");t.exports=function(t){return t.match(l)||[]}},"0ycA":function(t,e){t.exports=function(){return[]}},"1+5i":function(t,e,n){var r=n("w/wX"),i=n("sEf8"),o=n("mdPL"),a=o&&o.isSet,s=a?i(a):r;t.exports=s},"1hJj":function(t,e,n){var r=n("e4Nc"),i=n("ftKO"),o=n("3A9y");function a(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new r;++e<n;)this.add(t[e])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,t.exports=a},"2Bdj":function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},"2ajD":function(t,e){t.exports=function(t){return t!=t}},"2ePl":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t}},"2gN3":function(t,e,n){var r=n("Kz5y");t.exports=r["__core-js_shared__"]},"3A9y":function(t,e){t.exports=function(t){return this.__data__.has(t)}},"3Fdi":function(t,e){var n=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return n.call(t)}catch(e){}try{return t+""}catch(e){}}return""}},"3L66":function(t,e,n){var r=n("MMmD"),i=n("ExA7");t.exports=function(t){return i(t)&&r(t)}},"3OWR":function(t,e,n){var r=n("MrPd"),i=n("juv8"),o=n("LsHQ"),a=n("MMmD"),s=n("6sVZ"),u=n("7GkX"),c=Object.prototype.hasOwnProperty,l=o(function(t,e){if(s(e)||a(e))i(e,u(e),t);else for(var n in e)c.call(e,n)&&r(t,n,e[n])});t.exports=l},"4kuk":function(t,e,n){var r=n("SfRM"),i=n("Hvzi"),o=n("u8Dt"),a=n("ekgI"),s=n("JSQU");function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,t.exports=u},"4qC0":function(t,e,n){var r=n("NykK"),i=n("Z0cm"),o=n("ExA7");t.exports=function(t){return"string"==typeof t||!i(t)&&o(t)&&"[object String]"==r(t)}},"5Tg0":function(t,e,n){(function(t){var r=n("Kz5y"),i=e&&!e.nodeType&&e,o=i&&"object"==typeof t&&t&&!t.nodeType&&t,a=o&&o.exports===i?r.Buffer:void 0,s=a?a.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var n=t.length,r=s?s(n):new t.constructor(n);return t.copy(r),r}}).call(this,n("YuTi")(t))},"67Y/":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("mrSG"),i=n("FFOo");function o(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new a(t,e))}}var a=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.project,this.thisArg))},t}(),s=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.project=n,i.count=0,i.thisArg=r||i,i}return r.__extends(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)},e}(i.a)},"6Joi":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r.default:r,o=n("q/0M"),a=n("mrSG"),s=n("x7I3"),u=n("zVF4"),c=i.SDK_VERSION,l=new o.Logger("@firebase/firestore"),f=function(t){return t[t.DEBUG=0]="DEBUG",t[t.ERROR=1]="ERROR",t[t.SILENT=2]="SILENT",t}({});function h(){return l.logLevel===o.LogLevel.DEBUG?f.DEBUG:l.logLevel===o.LogLevel.SILENT?f.SILENT:f.ERROR}function p(t){switch(t){case f.DEBUG:l.logLevel=o.LogLevel.DEBUG;break;case f.ERROR:l.logLevel=o.LogLevel.ERROR;break;case f.SILENT:l.logLevel=o.LogLevel.SILENT;break;default:l.error("Firestore ("+c+"): Invalid value passed to `setLogLevel`")}}function d(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(l.logLevel<=o.LogLevel.DEBUG){var i=n.map(m);l.debug.apply(l,["Firestore ("+c+") ["+t+"]: "+e].concat(i))}}function y(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(l.logLevel<=o.LogLevel.ERROR){var r=e.map(m);l.error.apply(l,["Firestore ("+c+"): "+t].concat(r))}}function m(t){if("string"==typeof t)return t;var e=b.getPlatform();try{return e.formatJSON(t)}catch(n){return t}}function v(t){var e="FIRESTORE ("+c+") INTERNAL ASSERTION FAILED: "+t;throw y(e),new Error(e)}function g(t,e){t||v(e)}var b=function(){function t(){}return t.setPlatform=function(e){t.platform&&v("Platform already defined"),t.platform=e},t.getPlatform=function(){return t.platform||v("Platform not set"),t.platform},t}();function _(){return b.getPlatform().emptyByteString}var w={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},E=function(t){function e(e,n){var r=t.call(this,n)||this;return r.code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return a.__extends(e,t),e}(Error);function C(t,e){function n(){var t="This constructor is private.";throw e&&(t+=" ",t+=e),new E(w.INVALID_ARGUMENT,t)}for(var r in n.prototype=t.prototype,t)t.hasOwnProperty(r)&&(n[r]=t[r]);return n}function S(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function D(t,e){return void 0!==t?t:e}function O(t,e){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Number(n);isNaN(r)||e(r,t[n])}}function T(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function A(t){for(var e in g(null!=t&&"object"==typeof t,"isEmpty() expects object parameter."),t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function I(t,e){if(0!==e.length)throw new E(w.INVALID_ARGUMENT,"Function "+t+"() does not support arguments, but was called with "+Q(e.length,"argument")+".")}function x(t,e,n){if(e.length!==n)throw new E(w.INVALID_ARGUMENT,"Function "+t+"() requires "+Q(n,"argument")+", but was called with "+Q(e.length,"argument")+".")}function k(t,e,n){if(e.length<n)throw new E(w.INVALID_ARGUMENT,"Function "+t+"() requires at least "+Q(n,"argument")+", but was called with "+Q(e.length,"argument")+".")}function R(t,e,n,r){if(e.length<n||e.length>r)throw new E(w.INVALID_ARGUMENT,"Function "+t+"() requires between "+n+" and "+r+" arguments, but was called with "+Q(e.length,"argument")+".")}function P(t,e,n,r){L(t,e,H(n)+" argument",r)}function N(t,e,n,r){void 0!==r&&P(t,e,n,r)}function j(t,e,n,r){L(t,e,n+" option",r)}function M(t,e,n,r){void 0!==r&&j(t,e,n,r)}function F(t,e,n,r,i){void 0!==r&&function(t,e,n,r,i){for(var o=[],a=0,s=i;a<s.length;a++){var u=s[a];if(u===r)return;o.push(V(u))}var c=V(r);throw new E(w.INVALID_ARGUMENT,"Invalid value "+c+" provided to function "+t+'() for option "'+n+'". Acceptable values: '+o.join(", "))}(t,0,n,r,i)}function L(t,e,n,r){if(!("object"===e?B(r):"non-empty string"===e?"string"==typeof r&&""!==r:typeof r===e)){var i=V(r);throw new E(w.INVALID_ARGUMENT,"Function "+t+"() requires its "+n+" to be of type "+e+", but it was: "+i)}}function B(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}function V(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":v("Unknown wrong type: "+typeof t)}function U(t,e,n){if(void 0===n)throw new E(w.INVALID_ARGUMENT,"Function "+t+"() requires a valid "+H(e)+" argument, but it was undefined.")}function q(t,e,n){T(e,function(e,r){if(n.indexOf(e)<0)throw new E(w.INVALID_ARGUMENT,"Unknown option '"+e+"' passed to function "+t+"(). Available options: "+n.join(", "))})}function z(t,e,n,r){var i=V(r);return new E(w.INVALID_ARGUMENT,"Function "+t+"() requires its "+H(n)+" argument to be a "+e+", but it was: "+i)}function H(t){switch(t){case 1:return"first";case 2:return"second";case 3:return"third";default:return t+"th"}}function Q(t,e){return t+" "+e+(1===t?"":"s")}var K=function(){function t(){}return t.newId=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e="",n=0;n<20;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return g(20===e.length,"Invalid auto ID: "+e),e},t}();function G(t,e){return t<e?-1:t>e?1:0}function W(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].isEqual(e[n]))return!1;return!0}function Y(t){return t+"\0"}function Z(){if("undefined"==typeof Uint8Array)throw new E(w.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function X(){if(!b.getPlatform().base64Available)throw new E(w.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var J=function(){function t(t){X(),this._binaryString=t}return t.fromBase64String=function(e){x("Blob.fromBase64String",arguments,1),P("Blob.fromBase64String","string",1,e),X();try{return new t(b.getPlatform().atob(e))}catch(n){throw new E(w.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+n)}},t.fromUint8Array=function(e){if(x("Blob.fromUint8Array",arguments,1),Z(),!(e instanceof Uint8Array))throw z("Blob.fromUint8Array","Uint8Array",1,e);return new t(Array.prototype.map.call(e,function(t){return String.fromCharCode(t)}).join(""))},t.prototype.toBase64=function(){return x("Blob.toBase64",arguments,0),X(),b.getPlatform().btoa(this._binaryString)},t.prototype.toUint8Array=function(){x("Blob.toUint8Array",arguments,0),Z();for(var t=new Uint8Array(this._binaryString.length),e=0;e<this._binaryString.length;e++)t[e]=this._binaryString.charCodeAt(e);return t},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._binaryString===t._binaryString},t.prototype._compareTo=function(t){return G(this._binaryString,t._binaryString)},t}(),$=C(J,"Use Blob.fromUint8Array() or Blob.fromBase64String() instead."),tt=function(){function t(t,e){if(x("GeoPoint",arguments,2),P("GeoPoint","number",1,t),P("GeoPoint","number",2,e),!isFinite(t)||t<-90||t>90)throw new E(w.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new E(w.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype._compareTo=function(t){return G(this._lat,t._lat)||G(this._long,t._long)},t}(),et=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new E(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new E(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new E(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new E(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?G(this.nanoseconds,t.nanoseconds):G(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t}(),nt=function(){return function(t,e,n,r,i){this.databaseId=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i}}(),rt="(default)",it=function(){function t(t,e){this.projectId=t,this.database=e||rt}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return this.database===rt},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t.prototype.compareTo=function(t){return G(this.projectId,t.projectId)||G(this.database,t.database)},t}(),ot=function(){function t(t,e,n){this.init(t,e,n)}return t.prototype.init=function(t,e,n){void 0===e?e=0:e>t.length&&v("offset "+e+" out of range "+t.length),void 0===n?n=t.length-e:n>t.length-e&&v("length "+n+" out of range "+(t.length-e)),this.segments=t,this.offset=e,this.len=n},t.prototype.construct=function(t,e,n){var r=Object.create(Object.getPrototypeOf(this));return r.init(t,e,n),r},Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):"string"==typeof e?n.push(e):v("Unknown parameter type for Path.child(): "+e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return g(this.length>=(t=void 0===t?1:t),"Can't call popFirst() with less segments"),this.construct(this.segments,this.offset+t,this.length-t)},t.prototype.popLast=function(){return g(!this.isEmpty(),"Can't call popLast() on empty path"),this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return g(!this.isEmpty(),"Can't call firstSegment() on empty path"),this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return g(t<this.length,"Index out of range"),this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),at=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(e,t),e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(t){if(t.indexOf("//")>=0)throw new E(w.INVALID_ARGUMENT,"Invalid path ("+t+"). Paths must not contain // in them.");return new e(t.split("/").filter(function(t){return t.length>0}))},e.EMPTY_PATH=new e([]),e}(ot),st=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ut=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(e,t),e.isValidIdentifier=function(t){return st.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new E(w.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<t.length;){var s=t[i];if("\\"===s){if(i+1===t.length)throw new E(w.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new E(w.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new E(w.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.EMPTY_PATH=new e([]),e}(ot),ct=function(){function t(e){this.path=e,g(t.isDocumentKey(e),"Invalid DocumentKey with an odd number of segments: "+e.toArray().join("/"))}return t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===at.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return at.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new at(e.slice()))},t.fromPathString=function(e){return new t(at.fromString(e))},t.EMPTY=new t(new at([])),t}(),lt=function(){function t(t,e){this.key=t,this.version=e}return t.compareByKey=function(t,e){return ct.comparator(t.key,e.key)},t}(),ft=function(t){function e(e,n,r,i,o){var a=t.call(this,e,n)||this;return a.data=r,a.proto=o,a.hasLocalMutations=!!i.hasLocalMutations,a.hasCommittedMutations=!!i.hasCommittedMutations,a}return a.__extends(e,t),e.prototype.field=function(t){return this.data.field(t)},e.prototype.fieldValue=function(t){var e=this.field(t);return e?e.value():void 0},e.prototype.value=function(){return this.data.value()},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.data.isEqual(t.data)&&this.hasLocalMutations===t.hasLocalMutations&&this.hasCommittedMutations===t.hasCommittedMutations},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.data.toString()+", {hasLocalMutations: "+this.hasLocalMutations+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!0,configurable:!0}),e.compareByField=function(t,e,n){var r=e.field(t),i=n.field(t);return void 0!==r&&void 0!==i?r.compareTo(i):v("Trying to compare documents on fields that don't exist")},e}(lt),ht=function(t){function e(e,n,r){var i=t.call(this,e,n)||this;return i.hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return a.__extends(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(lt),pt=function(t){function e(e,n){return t.call(this,e,n)||this}return a.__extends(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(lt),dt=function(){function t(t,e){this.comparator=t,this.root=e||mt.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,mt.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,mt.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!0,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.inorderTraversal(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new yt(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new yt(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new yt(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new yt(this.root,t,this.comparator,!0)},t}(),yt=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){g(this.nodeStack.length>0,"getNext() called on iterator when hasNext() is false.");var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),mt=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw v("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed())throw v("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check();if(t!==this.right.check())throw v("Black depths differ");return t+(this.isRed()?0:1)},t.EMPTY=null,t.RED=!0,t.BLACK=!1,t}(),vt=function(){function t(){this.size=0}return t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new mt(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}();mt.EMPTY=new vt;var gt=function(t){return t[t.NullValue=0]="NullValue",t[t.BooleanValue=1]="BooleanValue",t[t.NumberValue=2]="NumberValue",t[t.TimestampValue=3]="TimestampValue",t[t.StringValue=4]="StringValue",t[t.BlobValue=5]="BlobValue",t[t.RefValue=6]="RefValue",t[t.GeoPointValue=7]="GeoPointValue",t[t.ArrayValue=8]="ArrayValue",t[t.ObjectValue=9]="ObjectValue",t}({}),bt=function(t){return t[t.Default=0]="Default",t[t.Estimate=1]="Estimate",t[t.Previous=2]="Previous",t}({}),_t=function(){function t(t,e){this.serverTimestampBehavior=t,this.timestampsInSnapshots=e}return t.fromSnapshotOptions=function(e,n){switch(e.serverTimestamps){case"estimate":return new t(bt.Estimate,n);case"previous":return new t(bt.Previous,n);case"none":case void 0:return new t(bt.Default,n);default:return v("fromSnapshotOptions() called with invalid options.")}},t}(),wt=function(){function t(){}return t.prototype.toString=function(){var t=this.value();return null===t?"null":t.toString()},t.prototype.defaultCompareTo=function(t){return g(this.typeOrder!==t.typeOrder,"Default compareTo should not be used for values of same type."),G(this.typeOrder,t.typeOrder)},t}(),Et=function(t){function e(){var e=t.call(this)||this;return e.typeOrder=gt.NullValue,e.internalValue=null,e}return a.__extends(e,t),e.prototype.value=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e},e.prototype.compareTo=function(t){return t instanceof e?0:this.defaultCompareTo(t)},e.INSTANCE=new e,e}(wt),Ct=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=gt.BooleanValue,n}return a.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue===t.internalValue},e.prototype.compareTo=function(t){return t instanceof e?G(this,t):this.defaultCompareTo(t)},e.of=function(t){return t?e.TRUE:e.FALSE},e.TRUE=new e(!0),e.FALSE=new e(!1),e}(wt),St=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=gt.NumberValue,n}return a.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.compareTo=function(t){return t instanceof e?(n=this.internalValue)<(r=t.internalValue)?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1:this.defaultCompareTo(t);var n,r},e}(wt);function Dt(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}var Ot=function(t){function e(e){return t.call(this,e)||this}return a.__extends(e,t),e.prototype.isEqual=function(t){return t instanceof e&&Dt(this.internalValue,t.internalValue)},e}(St),Tt=function(t){function e(e){var n=t.call(this,e)||this;return n.internalValue=e,n}return a.__extends(e,t),e.prototype.isEqual=function(t){return t instanceof e&&Dt(this.internalValue,t.internalValue)},e.NAN=new e(NaN),e.POSITIVE_INFINITY=new e(1/0),e.NEGATIVE_INFINITY=new e(-1/0),e}(St),At=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=gt.StringValue,n}return a.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue===t.internalValue},e.prototype.compareTo=function(t){return t instanceof e?G(this.internalValue,t.internalValue):this.defaultCompareTo(t)},e}(wt),It=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=gt.TimestampValue,n}return a.__extends(e,t),e.prototype.value=function(t){return!t||t.timestampsInSnapshots?this.internalValue:this.internalValue.toDate()},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue.isEqual(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue._compareTo(t.internalValue):t instanceof xt?-1:this.defaultCompareTo(t)},e}(wt),xt=function(t){function e(e,n){var r=t.call(this)||this;return r.localWriteTime=e,r.previousValue=n,r.typeOrder=gt.TimestampValue,r}return a.__extends(e,t),e.prototype.value=function(t){return t&&t.serverTimestampBehavior===bt.Estimate?new It(this.localWriteTime).value(t):t&&t.serverTimestampBehavior===bt.Previous&&this.previousValue?this.previousValue.value(t):null},e.prototype.isEqual=function(t){return t instanceof e&&this.localWriteTime.isEqual(t.localWriteTime)},e.prototype.compareTo=function(t){return t instanceof e?this.localWriteTime._compareTo(t.localWriteTime):t instanceof It?1:this.defaultCompareTo(t)},e.prototype.toString=function(){return"<ServerTimestamp localTime="+this.localWriteTime.toString()+">"},e}(wt),kt=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=gt.BlobValue,n}return a.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue.isEqual(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue._compareTo(t.internalValue):this.defaultCompareTo(t)},e}(wt),Rt=function(t){function e(e,n){var r=t.call(this)||this;return r.databaseId=e,r.key=n,r.typeOrder=gt.RefValue,r}return a.__extends(e,t),e.prototype.value=function(t){return this.key},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.databaseId.isEqual(t.databaseId)},e.prototype.compareTo=function(t){if(t instanceof e){var n=this.databaseId.compareTo(t.databaseId);return 0!==n?n:ct.comparator(this.key,t.key)}return this.defaultCompareTo(t)},e}(wt),Pt=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=gt.GeoPointValue,n}return a.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue.isEqual(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue._compareTo(t.internalValue):this.defaultCompareTo(t)},e}(wt),Nt=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=gt.ObjectValue,n}return a.__extends(e,t),e.prototype.value=function(t){var e={};return this.internalValue.inorderTraversal(function(n,r){e[n]=r.value(t)}),e},e.prototype.forEach=function(t){this.internalValue.inorderTraversal(t)},e.prototype.isEqual=function(t){if(t instanceof e){for(var n=this.internalValue.getIterator(),r=t.internalValue.getIterator();n.hasNext()&&r.hasNext();){var i=n.getNext(),o=r.getNext();if(i.key!==o.key||!i.value.isEqual(o.value))return!1}return!n.hasNext()&&!r.hasNext()}return!1},e.prototype.compareTo=function(t){if(t instanceof e){for(var n=this.internalValue.getIterator(),r=t.internalValue.getIterator();n.hasNext()&&r.hasNext();){var i=n.getNext(),o=r.getNext(),a=G(i.key,o.key)||i.value.compareTo(o.value);if(a)return a}return G(n.hasNext(),r.hasNext())}return this.defaultCompareTo(t)},e.prototype.set=function(t,n){if(g(!t.isEmpty(),"Cannot set field for empty path on ObjectValue"),1===t.length)return this.setChild(t.firstSegment(),n);var r=this.child(t.firstSegment());r instanceof e||(r=e.EMPTY);var i=r.set(t.popFirst(),n);return this.setChild(t.firstSegment(),i)},e.prototype.delete=function(t){if(g(!t.isEmpty(),"Cannot delete field for empty path on ObjectValue"),1===t.length)return new e(this.internalValue.remove(t.firstSegment()));var n=this.child(t.firstSegment());if(n instanceof e){var r=n.delete(t.popFirst());return new e(this.internalValue.insert(t.firstSegment(),r))}return this},e.prototype.contains=function(t){return void 0!==this.field(t)},e.prototype.field=function(t){g(!t.isEmpty(),"Can't get field of empty path");var n=this;return t.forEach(function(t){n=n instanceof e&&n.internalValue.get(t)||void 0}),n},e.prototype.toString=function(){return this.internalValue.toString()},e.prototype.child=function(t){return this.internalValue.get(t)||void 0},e.prototype.setChild=function(t,n){return new e(this.internalValue.insert(t,n))},e.EMPTY=new e(new dt(G)),e}(wt),jt=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=gt.ArrayValue,n}return a.__extends(e,t),e.prototype.value=function(t){return this.internalValue.map(function(e){return e.value(t)})},e.prototype.forEach=function(t){this.internalValue.forEach(t)},e.prototype.isEqual=function(t){if(t instanceof e){if(this.internalValue.length!==t.internalValue.length)return!1;for(var n=0;n<this.internalValue.length;n++)if(!this.internalValue[n].isEqual(t.internalValue[n]))return!1;return!0}return!1},e.prototype.compareTo=function(t){if(t instanceof e){for(var n=Math.min(this.internalValue.length,t.internalValue.length),r=0;r<n;r++){var i=this.internalValue[r].compareTo(t.internalValue[r]);if(i)return i}return G(this.internalValue.length,t.internalValue.length)}return this.defaultCompareTo(t)},e.prototype.toString=function(){return"["+this.internalValue.map(function(t){return t.toString()}).join(",")+"]"},e}(wt),Mt=Number,Ft=Mt.MIN_SAFE_INTEGER||-(Math.pow(2,53)-1),Lt=Mt.MAX_SAFE_INTEGER||Math.pow(2,53)-1,Bt=Mt.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t};function Vt(t){return null==t}function Ut(t){return Bt(t)&&t<=Lt&&t>=Ft}var qt=function(){function t(t,e,n,r,i,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.memoizedCanonicalId=null,this.memoizedOrderBy=null,this.startAt&&this.assertValidBound(this.startAt),this.endAt&&this.assertValidBound(this.endAt)}return t.atPath=function(e){return new t(e)},Object.defineProperty(t.prototype,"orderBy",{get:function(){if(null===this.memoizedOrderBy){var t=this.getInequalityFilterField(),e=this.getFirstOrderByField();if(null!==t&&null===e)this.memoizedOrderBy=t.isKeyField()?[Xt]:[new Zt(t),Xt];else{g(null===t||null!==e&&t.isEqual(e),"First orderBy should match inequality field."),this.memoizedOrderBy=[];for(var n=!1,r=0,i=this.explicitOrderBy;r<i.length;r++){var o=i[r];this.memoizedOrderBy.push(o),o.field.isKeyField()&&(n=!0)}n||this.memoizedOrderBy.push((this.explicitOrderBy.length>0?this.explicitOrderBy[this.explicitOrderBy.length-1].dir:Wt.ASCENDING)===Wt.ASCENDING?Xt:Jt)}}return this.memoizedOrderBy},enumerable:!0,configurable:!0}),t.prototype.addFilter=function(e){g(null==this.getInequalityFilterField()||!(e instanceof Qt)||!e.isInequality()||e.field.isEqual(this.getInequalityFilterField()),"Query must only have one inequality field."),g(!this.isDocumentQuery(),"No filtering allowed for document query");var n=this.filters.concat([e]);return new t(this.path,this.collectionGroup,this.explicitOrderBy.slice(),n,this.limit,this.startAt,this.endAt)},t.prototype.addOrderBy=function(e){g(!this.startAt&&!this.endAt,"Bounds must be set after orderBy");var n=this.explicitOrderBy.concat([e]);return new t(this.path,this.collectionGroup,n,this.filters.slice(),this.limit,this.startAt,this.endAt)},t.prototype.withLimit=function(e){return new t(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),e,this.startAt,this.endAt)},t.prototype.withStartAt=function(e){return new t(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,e,this.endAt)},t.prototype.withEndAt=function(e){return new t(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.startAt,e)},t.prototype.asCollectionQueryAtPath=function(e){return new t(e,null,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.startAt,this.endAt)},t.prototype.canonicalId=function(){if(null===this.memoizedCanonicalId){var t=this.path.canonicalString();this.isCollectionGroupQuery()&&(t+="|cg:"+this.collectionGroup),t+="|f:";for(var e=0,n=this.filters;e<n.length;e++)t+=n[e].canonicalId(),t+=",";t+="|ob:";for(var r=0,i=this.orderBy;r<i.length;r++)t+=i[r].canonicalId(),t+=",";Vt(this.limit)||(t+="|l:",t+=this.limit),this.startAt&&(t+="|lb:",t+=this.startAt.canonicalId()),this.endAt&&(t+="|ub:",t+=this.endAt.canonicalId()),this.memoizedCanonicalId=t}return this.memoizedCanonicalId},t.prototype.toString=function(){var t="Query("+this.path.canonicalString();return this.isCollectionGroupQuery()&&(t+=" collectionGroup="+this.collectionGroup),this.filters.length>0&&(t+=", filters: ["+this.filters.join(", ")+"]"),Vt(this.limit)||(t+=", limit: "+this.limit),this.explicitOrderBy.length>0&&(t+=", orderBy: ["+this.explicitOrderBy.join(", ")+"]"),this.startAt&&(t+=", startAt: "+this.startAt.canonicalId()),this.endAt&&(t+=", endAt: "+this.endAt.canonicalId()),t+")"},t.prototype.isEqual=function(t){if(this.limit!==t.limit)return!1;if(this.orderBy.length!==t.orderBy.length)return!1;for(var e=0;e<this.orderBy.length;e++)if(!this.orderBy[e].isEqual(t.orderBy[e]))return!1;if(this.filters.length!==t.filters.length)return!1;for(e=0;e<this.filters.length;e++)if(!this.filters[e].isEqual(t.filters[e]))return!1;return this.collectionGroup===t.collectionGroup&&!!this.path.isEqual(t.path)&&!(null!==this.startAt?!this.startAt.isEqual(t.startAt):null!==t.startAt)&&(null!==this.endAt?this.endAt.isEqual(t.endAt):null===t.endAt)},t.prototype.docComparator=function(t,e){for(var n=!1,r=0,i=this.orderBy;r<i.length;r++){var o=i[r],a=o.compare(t,e);if(0!==a)return a;n=n||o.field.isKeyField()}return g(n,"orderBy used that doesn't compare on key field"),0},t.prototype.matches=function(t){return this.matchesPathAndCollectionGroup(t)&&this.matchesOrderBy(t)&&this.matchesFilters(t)&&this.matchesBounds(t)},t.prototype.hasLimit=function(){return!Vt(this.limit)},t.prototype.getFirstOrderByField=function(){return this.explicitOrderBy.length>0?this.explicitOrderBy[0].field:null},t.prototype.getInequalityFilterField=function(){for(var t=0,e=this.filters;t<e.length;t++){var n=e[t];if(n instanceof Qt&&n.isInequality())return n.field}return null},t.prototype.hasArrayContainsFilter=function(){return void 0!==this.filters.find(function(t){return t instanceof Qt&&t.op===Ht.ARRAY_CONTAINS})},t.prototype.isDocumentQuery=function(){return ct.isDocumentKey(this.path)&&null===this.collectionGroup&&0===this.filters.length},t.prototype.isCollectionGroupQuery=function(){return null!==this.collectionGroup},t.prototype.matchesPathAndCollectionGroup=function(t){var e=t.key.path;return null!==this.collectionGroup?t.key.hasCollectionId(this.collectionGroup)&&this.path.isPrefixOf(e):ct.isDocumentKey(this.path)?this.path.isEqual(e):this.path.isImmediateParentOf(e)},t.prototype.matchesOrderBy=function(t){for(var e=0,n=this.explicitOrderBy;e<n.length;e++){var r=n[e];if(!r.field.isKeyField()&&void 0===t.field(r.field))return!1}return!0},t.prototype.matchesFilters=function(t){for(var e=0,n=this.filters;e<n.length;e++)if(!n[e].matches(t))return!1;return!0},t.prototype.matchesBounds=function(t){return!(this.startAt&&!this.startAt.sortsBeforeDocument(this.orderBy,t)||this.endAt&&this.endAt.sortsBeforeDocument(this.orderBy,t))},t.prototype.assertValidBound=function(t){g(t.position.length<=this.orderBy.length,"Bound is longer than orderBy")},t}(),zt=function(){function t(){}return t.create=function(t,e,n){if(n.isEqual(Et.INSTANCE)){if(e!==Ht.EQUAL)throw new E(w.INVALID_ARGUMENT,"Invalid query. You can only perform equals comparisons on null.");return new Kt(t)}if(n.isEqual(Tt.NAN)){if(e!==Ht.EQUAL)throw new E(w.INVALID_ARGUMENT,"Invalid query. You can only perform equals comparisons on NaN.");return new Gt(t)}return new Qt(t,e,n)},t}(),Ht=function(){function t(t){this.name=t}return t.fromString=function(e){switch(e){case"<":return t.LESS_THAN;case"<=":return t.LESS_THAN_OR_EQUAL;case"==":return t.EQUAL;case">=":return t.GREATER_THAN_OR_EQUAL;case">":return t.GREATER_THAN;case"array-contains":return t.ARRAY_CONTAINS;default:return v("Unknown relation: "+e)}},t.prototype.toString=function(){return this.name},t.prototype.isEqual=function(t){return this.name===t.name},t.LESS_THAN=new t("<"),t.LESS_THAN_OR_EQUAL=new t("<="),t.EQUAL=new t("=="),t.GREATER_THAN=new t(">"),t.GREATER_THAN_OR_EQUAL=new t(">="),t.ARRAY_CONTAINS=new t("array-contains"),t}(),Qt=function(t){function e(e,n,r){var i=t.call(this)||this;return i.field=e,i.op=n,i.value=r,i}return a.__extends(e,t),e.prototype.matches=function(t){if(this.field.isKeyField()){g(this.value instanceof Rt,"Comparing on key, but filter value not a RefValue"),g(this.op!==Ht.ARRAY_CONTAINS,"array-contains queries don't make sense on document keys.");var e=ct.comparator(t.key,this.value.key);return this.matchesComparison(e)}var n=t.field(this.field);return void 0!==n&&this.matchesValue(n)},e.prototype.matchesValue=function(t){var e=this;return this.op===Ht.ARRAY_CONTAINS?t instanceof jt&&void 0!==t.internalValue.find(function(t){return t.isEqual(e.value)}):this.value.typeOrder===t.typeOrder&&this.matchesComparison(t.compareTo(this.value))},e.prototype.matchesComparison=function(t){switch(this.op){case Ht.LESS_THAN:return t<0;case Ht.LESS_THAN_OR_EQUAL:return t<=0;case Ht.EQUAL:return 0===t;case Ht.GREATER_THAN:return t>0;case Ht.GREATER_THAN_OR_EQUAL:return t>=0;default:return v("Unknown relation op"+this.op)}},e.prototype.isInequality=function(){return this.op!==Ht.EQUAL&&this.op!==Ht.ARRAY_CONTAINS},e.prototype.canonicalId=function(){return this.field.canonicalString()+this.op.toString()+this.value.toString()},e.prototype.isEqual=function(t){return t instanceof e&&this.op.isEqual(t.op)&&this.field.isEqual(t.field)&&this.value.isEqual(t.value)},e.prototype.toString=function(){return this.field.canonicalString()+" "+this.op+" "+this.value.value()},e}(zt),Kt=function(t){function e(e){var n=t.call(this)||this;return n.field=e,n}return a.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return void 0!==e&&null===e.value()},e.prototype.canonicalId=function(){return this.field.canonicalString()+" IS null"},e.prototype.toString=function(){return this.field.canonicalString()+" IS null"},e.prototype.isEqual=function(t){return t instanceof e&&this.field.isEqual(t.field)},e}(zt),Gt=function(t){function e(e){var n=t.call(this)||this;return n.field=e,n}return a.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field),n=e&&e.value();return"number"==typeof n&&isNaN(n)},e.prototype.canonicalId=function(){return this.field.canonicalString()+" IS NaN"},e.prototype.toString=function(){return this.field.canonicalString()+" IS NaN"},e.prototype.isEqual=function(t){return t instanceof e&&this.field.isEqual(t.field)},e}(zt),Wt=function(){function t(t){this.name=t}return t.prototype.toString=function(){return this.name},t.ASCENDING=new t("asc"),t.DESCENDING=new t("desc"),t}(),Yt=function(){function t(t,e){this.position=t,this.before=e}return t.prototype.canonicalId=function(){for(var t=this.before?"b:":"a:",e=0,n=this.position;e<n.length;e++)t+=n[e].toString();return t},t.prototype.sortsBeforeDocument=function(t,e){g(this.position.length<=t.length,"Bound has more components than query's orderBy");for(var n=0,r=0;r<this.position.length;r++){var i=t[r],o=this.position[r];if(i.field.isKeyField())g(o instanceof Rt,"Bound has a non-key value where the key path is being used."),n=ct.comparator(o.key,e.key);else{var a=e.field(i.field);g(void 0!==a,"Field should exist since document matched the orderBy already."),n=o.compareTo(a)}if(i.dir===Wt.DESCENDING&&(n*=-1),0!==n)break}return this.before?n<=0:n<0},t.prototype.isEqual=function(t){if(null===t)return!1;if(this.before!==t.before||this.position.length!==t.position.length)return!1;for(var e=0;e<this.position.length;e++)return this.position[e].isEqual(t.position[e]);return!0},t}(),Zt=function(){function t(t,e){this.field=t,void 0===e&&(e=Wt.ASCENDING),this.dir=e,this.isKeyOrderBy=t.isKeyField()}return t.prototype.compare=function(t,e){var n=this.isKeyOrderBy?ft.compareByKey(t,e):ft.compareByField(this.field,t,e);switch(this.dir){case Wt.ASCENDING:return n;case Wt.DESCENDING:return-1*n;default:return v("Unknown direction: "+this.dir)}},t.prototype.canonicalId=function(){return this.field.canonicalString()+this.dir.toString()},t.prototype.toString=function(){return this.field.canonicalString()+" ("+this.dir+")"},t.prototype.isEqual=function(t){return this.dir===t.dir&&this.field.isEqual(t.field)},t}(),Xt=new Zt(ut.keyField(),Wt.ASCENDING),Jt=new Zt(ut.keyField(),Wt.DESCENDING),$t=function(){function t(t){this.timestamp=t}return t.fromMicroseconds=function(e){var n=Math.floor(e/1e6);return new t(new et(n,e%1e6*1e3))},t.fromTimestamp=function(e){return new t(e)},t.forDeletedDoc=function(){return t.MIN},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t.MIN=new t(new et(0,0)),t}(),te=function(t){return t[t.Listen=0]="Listen",t[t.ExistenceFilterMismatch=1]="ExistenceFilterMismatch",t[t.LimboResolution=2]="LimboResolution",t}({}),ee=function(){function t(t,e,n,r,i,o){void 0===i&&(i=$t.MIN),void 0===o&&(o=_()),this.query=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.resumeToken=o}return t.prototype.copy=function(e){return new t(this.query,this.targetId,this.purpose,void 0===e.sequenceNumber?this.sequenceNumber:e.sequenceNumber,void 0===e.snapshotVersion?this.snapshotVersion:e.snapshotVersion,void 0===e.resumeToken?this.resumeToken:e.resumeToken)},t.prototype.isEqual=function(t){return this.targetId===t.targetId&&this.purpose===t.purpose&&this.sequenceNumber===t.sequenceNumber&&this.snapshotVersion.isEqual(t.snapshotVersion)&&this.resumeToken===t.resumeToken&&this.query.isEqual(t.query)},t}(),ne=function(){function t(t){this.comparator=t,this.data=new dt(this.comparator)}return t.fromMapKeys=function(e){var n=new t(e.comparator);return e.forEach(function(t){n=n.add(t)}),n},t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!0,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new re(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new re(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),re=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),ie=function(){function t(t){this.fields=t}return t.fromSet=function(e){return new t(e)},t.fromArray=function(e){var n=new ne(ut.comparator);return e.forEach(function(t){return n=n.add(t)}),new t(n)},t.prototype.covers=function(t){var e=!1;return this.fields.forEach(function(n){n.isPrefixOf(t)&&(e=!0)}),e},t.prototype.applyTo=function(t){var e=Nt.EMPTY;return this.fields.forEach(function(n){if(n.isEmpty())return t;var r=t.field(n);void 0!==r&&(e=e.set(n,r))}),e},t.prototype.isEqual=function(t){return this.fields.isEqual(t.fields)},t}(),oe=function(){function t(t,e){this.field=t,this.transform=e}return Object.defineProperty(t.prototype,"isIdempotent",{get:function(){return this.transform.isIdempotent},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){return this.field.isEqual(t.field)&&this.transform.isEqual(t.transform)},t}(),ae=function(){return function(t,e){this.version=t,this.transformResults=e}}(),se=function(t){return t[t.Set=0]="Set",t[t.Patch=1]="Patch",t[t.Transform=2]="Transform",t[t.Delete=3]="Delete",t}({}),ue=function(){function t(t,e){this.updateTime=t,this.exists=e,g(void 0===t||void 0===e,'Precondition can specify "exists" or "updateTime" but not both')}return t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!0,configurable:!0}),t.prototype.isValidFor=function(t){return void 0!==this.updateTime?t instanceof ft&&t.version.isEqual(this.updateTime):void 0!==this.exists?this.exists===t instanceof ft:(g(this.isNone,"Precondition should be empty"),!0)},t.prototype.isEqual=function(t){return n=t.updateTime,(null!=(e=this.updateTime)?!(!n||!e.isEqual(n)):e===n)&&this.exists===t.exists;var e,n},t.NONE=new t,t}(),ce=function(){function t(){}return t.prototype.verifyKeyMatches=function(t){null!=t&&g(t.key.isEqual(this.key),"Can only apply a mutation to a document with the same key")},t.getPostMutationVersion=function(t){return t instanceof ft?t.version:$t.MIN},t}(),le=function(t){function e(e,n,r){var i=t.call(this)||this;return i.key=e,i.value=n,i.precondition=r,i.type=se.Set,i}return a.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){return this.verifyKeyMatches(t),g(null==e.transformResults,"Transform results received by SetMutation."),new ft(this.key,e.version,this.value,{hasCommittedMutations:!0})},e.prototype.applyToLocalView=function(t,e,n){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var r=ce.getPostMutationVersion(t);return new ft(this.key,r,this.value,{hasLocalMutations:!0})},Object.defineProperty(e.prototype,"isIdempotent",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fieldMask",{get:function(){return null},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.value.isEqual(t.value)&&this.precondition.isEqual(t.precondition)},e}(ce),fe=function(t){function e(e,n,r,i){var o=t.call(this)||this;return o.key=e,o.data=n,o.fieldMask=r,o.precondition=i,o.type=se.Patch,o}return a.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){if(this.verifyKeyMatches(t),g(null==e.transformResults,"Transform results received by PatchMutation."),!this.precondition.isValidFor(t))return new pt(this.key,e.version);var n=this.patchDocument(t);return new ft(this.key,e.version,n,{hasCommittedMutations:!0})},e.prototype.applyToLocalView=function(t,e,n){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var r=ce.getPostMutationVersion(t),i=this.patchDocument(t);return new ft(this.key,r,i,{hasLocalMutations:!0})},Object.defineProperty(e.prototype,"isIdempotent",{get:function(){return!0},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.fieldMask.isEqual(t.fieldMask)&&this.precondition.isEqual(t.precondition)},e.prototype.patchDocument=function(t){return this.patchObject(t instanceof ft?t.data:Nt.EMPTY)},e.prototype.patchObject=function(t){var e=this;return this.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=e.data.field(n);t=void 0!==r?t.set(n,r):t.delete(n)}}),t},e}(ce),he=function(t){function e(e,n){var r=t.call(this)||this;return r.key=e,r.fieldTransforms=n,r.type=se.Transform,r.precondition=ue.exists(!0),r}return a.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){if(this.verifyKeyMatches(t),g(null!=e.transformResults,"Transform results missing for TransformMutation."),!this.precondition.isValidFor(t))return new pt(this.key,e.version);var n=this.requireDocument(t),r=this.serverTransformResults(t,e.transformResults),i=e.version,o=this.transformObject(n.data,r);return new ft(this.key,i,o,{hasCommittedMutations:!0})},e.prototype.applyToLocalView=function(t,e,n){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var r=this.requireDocument(t),i=this.localTransformResults(n,e),o=this.transformObject(r.data,i);return new ft(this.key,r.version,o,{hasLocalMutations:!0})},Object.defineProperty(e.prototype,"isIdempotent",{get:function(){for(var t=0,e=this.fieldTransforms;t<e.length;t++)if(!e[t].isIdempotent)return!1;return!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fieldMask",{get:function(){var t=new ne(ut.comparator);return this.fieldTransforms.forEach(function(e){return t=t.add(e.field)}),new ie(t)},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&W(this.fieldTransforms,t.fieldTransforms)&&this.precondition.isEqual(t.precondition)},e.prototype.requireDocument=function(t){g(t instanceof ft,"Unknown MaybeDocument type "+t);var e=t;return g(e.key.isEqual(this.key),"Can only transform a document with the same key"),e},e.prototype.serverTransformResults=function(t,e){var n=[];g(this.fieldTransforms.length===e.length,"server transform result count ("+e.length+") should match field transform count ("+this.fieldTransforms.length+")");for(var r=0;r<e.length;r++){var i=this.fieldTransforms[r],o=i.transform,a=null;t instanceof ft&&(a=t.field(i.field)||null),n.push(o.applyToRemoteDocument(a,e[r]))}return n},e.prototype.localTransformResults=function(t,e){for(var n=[],r=0,i=this.fieldTransforms;r<i.length;r++){var o=i[r],a=o.transform,s=null;e instanceof ft&&(s=e.field(o.field)||null),n.push(a.applyToLocalView(s,t))}return n},e.prototype.transformObject=function(t,e){g(e.length===this.fieldTransforms.length,"TransformResults length mismatch.");for(var n=0;n<this.fieldTransforms.length;n++)t=t.set(this.fieldTransforms[n].field,e[n]);return t},e}(ce),pe=function(t){function e(e,n){var r=t.call(this)||this;return r.key=e,r.precondition=n,r.type=se.Delete,r}return a.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){return this.verifyKeyMatches(t),g(null==e.transformResults,"Transform results received by DeleteMutation."),new ht(this.key,e.version,{hasCommittedMutations:!0})},e.prototype.applyToLocalView=function(t,e,n){return this.verifyKeyMatches(t),this.precondition.isValidFor(t)?(t&&g(t.key.isEqual(this.key),"Can only apply mutation to document with same key"),new ht(this.key,$t.forDeletedDoc())):t},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.precondition.isEqual(t.precondition)},Object.defineProperty(e.prototype,"isIdempotent",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fieldMask",{get:function(){return null},enumerable:!0,configurable:!0}),e}(ce),de=function(){function t(){this.isIdempotent=!0}return t.prototype.applyToLocalView=function(t,e){return new xt(e,t)},t.prototype.applyToRemoteDocument=function(t,e){return e},t.prototype.isEqual=function(e){return e instanceof t},t.instance=new t,t}(),ye=function(){function t(t){this.elements=t,this.isIdempotent=!0}return t.prototype.applyToLocalView=function(t,e){return this.apply(t)},t.prototype.applyToRemoteDocument=function(t,e){return this.apply(t)},t.prototype.apply=function(t){for(var e=ge(t),n=function(t){e.find(function(e){return e.isEqual(t)})||e.push(t)},r=0,i=this.elements;r<i.length;r++)n(i[r]);return new jt(e)},t.prototype.isEqual=function(e){return e instanceof t&&W(e.elements,this.elements)},t}(),me=function(){function t(t){this.elements=t,this.isIdempotent=!0}return t.prototype.applyToLocalView=function(t,e){return this.apply(t)},t.prototype.applyToRemoteDocument=function(t,e){return this.apply(t)},t.prototype.apply=function(t){for(var e=ge(t),n=function(t){e=e.filter(function(e){return!e.isEqual(t)})},r=0,i=this.elements;r<i.length;r++)n(i[r]);return new jt(e)},t.prototype.isEqual=function(e){return e instanceof t&&W(e.elements,this.elements)},t}(),ve=function(){function t(t){this.operand=t,this.isIdempotent=!1}return t.prototype.applyToLocalView=function(t,e){return t instanceof Ot&&this.operand instanceof Ot?new Ot(t.internalValue+this.operand.internalValue):t instanceof St?new Tt(t.internalValue+this.operand.internalValue):this.operand},t.prototype.applyToRemoteDocument=function(t,e){return g(null!==e,"Didn't receive transformResult for NUMERIC_ADD transform"),e},t.prototype.isEqual=function(e){return e instanceof t&&this.operand.isEqual(e.operand)},t}();function ge(t){return t instanceof jt?t.internalValue.slice():[]}var be=function(){function t(t){this.count=t}return t.prototype.isEqual=function(t){return t&&t.count===this.count},t}(),_e=function(t){return t[t.OK=0]="OK",t[t.CANCELLED=1]="CANCELLED",t[t.UNKNOWN=2]="UNKNOWN",t[t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",t[t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",t[t.NOT_FOUND=5]="NOT_FOUND",t[t.ALREADY_EXISTS=6]="ALREADY_EXISTS",t[t.PERMISSION_DENIED=7]="PERMISSION_DENIED",t[t.UNAUTHENTICATED=16]="UNAUTHENTICATED",t[t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",t[t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",t[t.ABORTED=10]="ABORTED",t[t.OUT_OF_RANGE=11]="OUT_OF_RANGE",t[t.UNIMPLEMENTED=12]="UNIMPLEMENTED",t[t.INTERNAL=13]="INTERNAL",t[t.UNAVAILABLE=14]="UNAVAILABLE",t[t.DATA_LOSS=15]="DATA_LOSS",t}({});function we(t){switch(t){case w.OK:return v("Treated status OK as error");case w.CANCELLED:case w.UNKNOWN:case w.DEADLINE_EXCEEDED:case w.RESOURCE_EXHAUSTED:case w.INTERNAL:case w.UNAVAILABLE:case w.UNAUTHENTICATED:return!1;case w.INVALID_ARGUMENT:case w.NOT_FOUND:case w.ALREADY_EXISTS:case w.PERMISSION_DENIED:case w.FAILED_PRECONDITION:case w.ABORTED:case w.OUT_OF_RANGE:case w.UNIMPLEMENTED:case w.DATA_LOSS:return!0;default:return v("Unknown status code: "+t)}}function Ee(t){if(void 0===t)return y("GRPC error has no .code"),w.UNKNOWN;switch(t){case _e.OK:return w.OK;case _e.CANCELLED:return w.CANCELLED;case _e.UNKNOWN:return w.UNKNOWN;case _e.DEADLINE_EXCEEDED:return w.DEADLINE_EXCEEDED;case _e.RESOURCE_EXHAUSTED:return w.RESOURCE_EXHAUSTED;case _e.INTERNAL:return w.INTERNAL;case _e.UNAVAILABLE:return w.UNAVAILABLE;case _e.UNAUTHENTICATED:return w.UNAUTHENTICATED;case _e.INVALID_ARGUMENT:return w.INVALID_ARGUMENT;case _e.NOT_FOUND:return w.NOT_FOUND;case _e.ALREADY_EXISTS:return w.ALREADY_EXISTS;case _e.PERMISSION_DENIED:return w.PERMISSION_DENIED;case _e.FAILED_PRECONDITION:return w.FAILED_PRECONDITION;case _e.ABORTED:return w.ABORTED;case _e.OUT_OF_RANGE:return w.OUT_OF_RANGE;case _e.UNIMPLEMENTED:return w.UNIMPLEMENTED;case _e.DATA_LOSS:return w.DATA_LOSS;default:return v("Unknown status code: "+t)}}function Ce(t){if(void 0===t)return _e.OK;switch(t){case w.OK:return _e.OK;case w.CANCELLED:return _e.CANCELLED;case w.UNKNOWN:return _e.UNKNOWN;case w.DEADLINE_EXCEEDED:return _e.DEADLINE_EXCEEDED;case w.RESOURCE_EXHAUSTED:return _e.RESOURCE_EXHAUSTED;case w.INTERNAL:return _e.INTERNAL;case w.UNAVAILABLE:return _e.UNAVAILABLE;case w.UNAUTHENTICATED:return _e.UNAUTHENTICATED;case w.INVALID_ARGUMENT:return _e.INVALID_ARGUMENT;case w.NOT_FOUND:return _e.NOT_FOUND;case w.ALREADY_EXISTS:return _e.ALREADY_EXISTS;case w.PERMISSION_DENIED:return _e.PERMISSION_DENIED;case w.FAILED_PRECONDITION:return _e.FAILED_PRECONDITION;case w.ABORTED:return _e.ABORTED;case w.OUT_OF_RANGE:return _e.OUT_OF_RANGE;case w.UNIMPLEMENTED:return _e.UNIMPLEMENTED;case w.DATA_LOSS:return _e.DATA_LOSS;default:return v("Unknown status code: "+t)}}var Se=new dt(ct.comparator);function De(){return Se}function Oe(){return De()}var Te=new dt(ct.comparator);function Ae(){return Te}var Ie=new dt(ct.comparator);function xe(){return Ie}var ke=new ne(ct.comparator);function Re(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=ke,r=0,i=t;r<i.length;r++)n=n.add(i[r]);return n}var Pe=new ne(G);function Ne(){return Pe}var je=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||ct.comparator(e.key,n.key)}:function(t,e){return ct.comparator(t.key,e.key)},this.keyedMap=Ae(),this.sortedSet=new dt(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),Me=function(t){return t[t.Added=0]="Added",t[t.Removed=1]="Removed",t[t.Modified=2]="Modified",t[t.Metadata=3]="Metadata",t}({}),Fe=function(t){return t[t.Local=0]="Local",t[t.Synced=1]="Synced",t}({}),Le=function(){function t(){this.changeMap=new dt(ct.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.changeMap.get(e);n?t.type!==Me.Added&&n.type===Me.Metadata?this.changeMap=this.changeMap.insert(e,t):t.type===Me.Metadata&&n.type!==Me.Removed?this.changeMap=this.changeMap.insert(e,{type:n.type,doc:t.doc}):t.type===Me.Modified&&n.type===Me.Modified?this.changeMap=this.changeMap.insert(e,{type:Me.Modified,doc:t.doc}):t.type===Me.Modified&&n.type===Me.Added?this.changeMap=this.changeMap.insert(e,{type:Me.Added,doc:t.doc}):t.type===Me.Removed&&n.type===Me.Added?this.changeMap=this.changeMap.remove(e):t.type===Me.Removed&&n.type===Me.Modified?this.changeMap=this.changeMap.insert(e,{type:Me.Removed,doc:n.doc}):t.type===Me.Added&&n.type===Me.Removed?this.changeMap=this.changeMap.insert(e,{type:Me.Modified,doc:t.doc}):v("unsupported combination of changes: "+JSON.stringify(t)+" after "+JSON.stringify(n)):this.changeMap=this.changeMap.insert(e,t)},t.prototype.getChanges=function(){var t=[];return this.changeMap.inorderTraversal(function(e,n){t.push(n)}),t},t}(),Be=function(){function t(t,e,n,r,i,o,a,s){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach(function(t){o.push({type:Me.Added,doc:t})}),new t(e,n,je.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&this.query.isEqual(t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Ve=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r,i=((r={})[e]=Ue.createSynthesizedTargetChangeForCurrentChange(e,n),r);return new t($t.MIN,i,Ne(),De(),Re())},t}(),Ue=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(_(),n,Re(),Re(),Re())},t}(),qe=function(){return function(t,e,n,r){this.updatedTargetIds=t,this.removedTargetIds=e,this.key=n,this.newDoc=r}}(),ze=function(){return function(t,e){this.targetId=t,this.existenceFilter=e}}(),He=function(t){return t[t.NoChange=0]="NoChange",t[t.Added=1]="Added",t[t.Removed=2]="Removed",t[t.Current=3]="Current",t[t.Reset=4]="Reset",t}({}),Qe=function(){return function(t,e,n,r){void 0===n&&(n=_()),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r}}(),Ke=function(){function t(){this.pendingResponses=0,this.documentChanges=Ye(),this._resumeToken=_(),this._current=!1,this._hasPendingChanges=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this._current},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this._resumeToken},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isPending",{get:function(){return 0!==this.pendingResponses},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingChanges",{get:function(){return this._hasPendingChanges},enumerable:!0,configurable:!0}),t.prototype.updateResumeToken=function(t){t.length>0&&(this._hasPendingChanges=!0,this._resumeToken=t)},t.prototype.toTargetChange=function(){var t=Re(),e=Re(),n=Re();return this.documentChanges.forEach(function(r,i){switch(i){case Me.Added:t=t.add(r);break;case Me.Modified:e=e.add(r);break;case Me.Removed:n=n.add(r);break;default:v("Encountered invalid change type: "+i)}}),new Ue(this._resumeToken,this._current,t,e,n)},t.prototype.clearPendingChanges=function(){this._hasPendingChanges=!1,this.documentChanges=Ye()},t.prototype.addDocumentChange=function(t,e){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.insert(t,e)},t.prototype.removeDocumentChange=function(t){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.remove(t)},t.prototype.recordPendingTargetRequest=function(){this.pendingResponses+=1},t.prototype.recordTargetResponse=function(){this.pendingResponses-=1},t.prototype.markCurrent=function(){this._hasPendingChanges=!0,this._current=!0},t}(),Ge=function(){function t(t){this.metadataProvider=t,this.targetStates={},this.pendingDocumentUpdates=De(),this.pendingDocumentTargetMapping=We(),this.pendingTargetResets=new ne(G)}return t.prototype.handleDocumentChange=function(t){for(var e=0,n=t.updatedTargetIds;e<n.length;e++){var r=n[e];t.newDoc instanceof ft?this.addDocumentToTarget(r,t.newDoc):t.newDoc instanceof ht&&this.removeDocumentFromTarget(r,t.key,t.newDoc)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.removeDocumentFromTarget(r=o[i],t.key,t.newDoc)},t.prototype.handleTargetChange=function(t){var e=this;this.forEachTarget(t,function(n){var r=e.ensureTargetState(n);switch(t.state){case He.NoChange:e.isActiveTarget(n)&&r.updateResumeToken(t.resumeToken);break;case He.Added:r.recordTargetResponse(),r.isPending||r.clearPendingChanges(),r.updateResumeToken(t.resumeToken);break;case He.Removed:r.recordTargetResponse(),r.isPending||e.removeTarget(n),g(!t.cause,"WatchChangeAggregator does not handle errored targets");break;case He.Current:e.isActiveTarget(n)&&(r.markCurrent(),r.updateResumeToken(t.resumeToken));break;case He.Reset:e.isActiveTarget(n)&&(e.resetTarget(n),r.updateResumeToken(t.resumeToken));break;default:v("Unknown target watch change state: "+t.state)}})},t.prototype.forEachTarget=function(t,e){t.targetIds.length>0?t.targetIds.forEach(e):O(this.targetStates,e)},t.prototype.handleExistenceFilter=function(t){var e=t.targetId,n=t.existenceFilter.count,r=this.queryDataForActiveTarget(e);if(r){var i=r.query;if(i.isDocumentQuery())if(0===n){var o=new ct(i.path);this.removeDocumentFromTarget(e,o,new ht(o,$t.forDeletedDoc()))}else g(1===n,"Single document existence filter with count: "+n);else this.getCurrentDocumentCountForTarget(e)!==n&&(this.resetTarget(e),this.pendingTargetResets=this.pendingTargetResets.add(e))}},t.prototype.createRemoteEvent=function(t){var e=this,n={};O(this.targetStates,function(r,i){var o=e.queryDataForActiveTarget(r);if(o){if(i.current&&o.query.isDocumentQuery()){var a=new ct(o.query.path);null!==e.pendingDocumentUpdates.get(a)||e.targetContainsDocument(r,a)||e.removeDocumentFromTarget(r,a,new ht(a,t))}i.hasPendingChanges&&(n[r]=i.toTargetChange(),i.clearPendingChanges())}});var r=Re();this.pendingDocumentTargetMapping.forEach(function(t,n){var i=!0;n.forEachWhile(function(t){var n=e.queryDataForActiveTarget(t);return!n||n.purpose===te.LimboResolution||(i=!1,!1)}),i&&(r=r.add(t))});var i=new Ve(t,n,this.pendingTargetResets,this.pendingDocumentUpdates,r);return this.pendingDocumentUpdates=De(),this.pendingDocumentTargetMapping=We(),this.pendingTargetResets=new ne(G),i},t.prototype.addDocumentToTarget=function(t,e){if(this.isActiveTarget(t)){var n=this.targetContainsDocument(t,e.key)?Me.Modified:Me.Added;this.ensureTargetState(t).addDocumentChange(e.key,n),this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(e.key,e),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(e.key,this.ensureDocumentTargetMapping(e.key).add(t))}},t.prototype.removeDocumentFromTarget=function(t,e,n){if(this.isActiveTarget(t)){var r=this.ensureTargetState(t);this.targetContainsDocument(t,e)?r.addDocumentChange(e,Me.Removed):r.removeDocumentChange(e),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(e,this.ensureDocumentTargetMapping(e).delete(t)),n&&(this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(e,n))}},t.prototype.removeTarget=function(t){delete this.targetStates[t]},t.prototype.getCurrentDocumentCountForTarget=function(t){var e=this.ensureTargetState(t).toTargetChange();return this.metadataProvider.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.recordPendingTargetRequest=function(t){this.ensureTargetState(t).recordPendingTargetRequest()},t.prototype.ensureTargetState=function(t){return this.targetStates[t]||(this.targetStates[t]=new Ke),this.targetStates[t]},t.prototype.ensureDocumentTargetMapping=function(t){var e=this.pendingDocumentTargetMapping.get(t);return e||(e=new ne(G),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(t,e)),e},t.prototype.isActiveTarget=function(t){return null!==this.queryDataForActiveTarget(t)},t.prototype.queryDataForActiveTarget=function(t){var e=this.targetStates[t];return e&&e.isPending?null:this.metadataProvider.getQueryDataForTarget(t)},t.prototype.resetTarget=function(t){var e=this;g(!this.targetStates[t].isPending,"Should only reset active targets"),this.targetStates[t]=new Ke,this.metadataProvider.getRemoteKeysForTarget(t).forEach(function(n){e.removeDocumentFromTarget(t,n,null)})},t.prototype.targetContainsDocument=function(t,e){return this.metadataProvider.getRemoteKeysForTarget(t).has(e)},t}();function We(){return new dt(ct.comparator)}function Ye(){return new dt(ct.comparator)}var Ze,Xe,Je=((Ze={})[Wt.ASCENDING.name]="ASCENDING",Ze[Wt.DESCENDING.name]="DESCENDING",Ze),$e=((Xe={})[Ht.LESS_THAN.name]="LESS_THAN",Xe[Ht.LESS_THAN_OR_EQUAL.name]="LESS_THAN_OR_EQUAL",Xe[Ht.GREATER_THAN.name]="GREATER_THAN",Xe[Ht.GREATER_THAN_OR_EQUAL.name]="GREATER_THAN_OR_EQUAL",Xe[Ht.EQUAL.name]="EQUAL",Xe[Ht.ARRAY_CONTAINS.name]="ARRAY_CONTAINS",Xe),tn=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function en(t,e){g(!Vt(t),e+" is missing")}function nn(t){return"number"==typeof t?t:"string"==typeof t?Number(t):v("can't parse "+t)}var rn=function(){function t(t,e){this.databaseId=t,this.options=e}return t.prototype.emptyByteString=function(){return this.options.useProto3Json?"":new Uint8Array(0)},t.prototype.unsafeCastProtoByteString=function(t){return t},t.prototype.fromRpcStatus=function(t){var e=void 0===t.code?w.UNKNOWN:Ee(t.code);return new E(e,t.message||"")},t.prototype.toInt32Value=function(t){return Vt(t)?void 0:{value:t}},t.prototype.fromInt32Value=function(t){var e;return Vt(e="object"==typeof t?t.value:t)?null:e},t.prototype.toTimestamp=function(t){return{seconds:""+t.seconds,nanos:t.nanoseconds}},t.prototype.fromTimestamp=function(t){if("string"==typeof t)return this.fromIso8601String(t);g(!!t,"Cannot deserialize null or undefined timestamp.");var e=nn(t.seconds||"0");return new et(e,t.nanos||0)},t.prototype.fromIso8601String=function(t){var e=0,n=tn.exec(t);if(g(!!n,"invalid timestamp: "+t),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t),o=Math.floor(i.getTime()/1e3);return new et(o,e)},t.prototype.toBytes=function(t){return this.options.useProto3Json?t.toBase64():this.unsafeCastProtoByteString(t.toUint8Array())},t.prototype.fromBlob=function(t){return"string"==typeof t?(g(this.options.useProto3Json,"Expected bytes to be passed in as Uint8Array, but got a string instead."),J.fromBase64String(t)):(g(!this.options.useProto3Json,"Expected bytes to be passed in as Uint8Array, but got a string instead."),J.fromUint8Array(t))},t.prototype.toVersion=function(t){return this.toTimestamp(t.toTimestamp())},t.prototype.fromVersion=function(t){return g(!!t,"Trying to deserialize version that isn't set"),$t.fromTimestamp(this.fromTimestamp(t))},t.prototype.toResourceName=function(t,e){return this.fullyQualifiedPrefixPath(t).child("documents").child(e).canonicalString()},t.prototype.fromResourceName=function(t){var e=at.fromString(t);return g(this.isValidResourceName(e),"Tried to deserialize invalid key "+e.toString()),e},t.prototype.toName=function(t){return this.toResourceName(this.databaseId,t.path)},t.prototype.fromName=function(t){var e=this.fromResourceName(t);return g(e.get(1)===this.databaseId.projectId,"Tried to deserialize key from different project: "+e.get(1)+" vs "+this.databaseId.projectId),g(!e.get(3)&&!this.databaseId.database||e.get(3)===this.databaseId.database,"Tried to deserialize key from different database: "+e.get(3)+" vs "+this.databaseId.database),new ct(this.extractLocalPathFromResourceName(e))},t.prototype.toQueryPath=function(t){return this.toResourceName(this.databaseId,t)},t.prototype.fromQueryPath=function(t){var e=this.fromResourceName(t);return 4===e.length?at.EMPTY_PATH:this.extractLocalPathFromResourceName(e)},Object.defineProperty(t.prototype,"encodedDatabaseId",{get:function(){return new at(["projects",this.databaseId.projectId,"databases",this.databaseId.database]).canonicalString()},enumerable:!0,configurable:!0}),t.prototype.fullyQualifiedPrefixPath=function(t){return new at(["projects",t.projectId,"databases",t.database])},t.prototype.extractLocalPathFromResourceName=function(t){return g(t.length>4&&"documents"===t.get(4),"tried to deserialize invalid key "+t.toString()),t.popFirst(5)},t.prototype.isValidResourceName=function(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)},t.prototype.toValue=function(t){if(t instanceof Et)return{nullValue:"NULL_VALUE"};if(t instanceof Ct)return{booleanValue:t.value()};if(t instanceof Ot)return{integerValue:""+t.value()};if(t instanceof Tt){var e=t.value();if(this.options.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:t.value()}}return t instanceof At?{stringValue:t.value()}:t instanceof Nt?{mapValue:this.toMapValue(t)}:t instanceof jt?{arrayValue:this.toArrayValue(t)}:t instanceof It?{timestampValue:this.toTimestamp(t.internalValue)}:t instanceof Pt?{geoPointValue:{latitude:t.value().latitude,longitude:t.value().longitude}}:t instanceof kt?{bytesValue:this.toBytes(t.value())}:t instanceof Rt?{referenceValue:this.toResourceName(t.databaseId,t.key.path)}:v("Unknown FieldValue "+JSON.stringify(t))},t.prototype.fromValue=function(t){var e=this;if("nullValue"in t)return Et.INSTANCE;if("booleanValue"in t)return Ct.of(t.booleanValue);if("integerValue"in t)return new Ot(nn(t.integerValue));if("doubleValue"in t){if(this.options.useProto3Json){if("NaN"===t.doubleValue)return Tt.NAN;if("Infinity"===t.doubleValue)return Tt.POSITIVE_INFINITY;if("-Infinity"===t.doubleValue)return Tt.NEGATIVE_INFINITY}return new Tt(t.doubleValue)}if("stringValue"in t)return new At(t.stringValue);if("mapValue"in t)return this.fromFields(t.mapValue.fields||{});if("arrayValue"in t)return en(t.arrayValue,"arrayValue"),new jt((t.arrayValue.values||[]).map(function(t){return e.fromValue(t)}));if("timestampValue"in t)return en(t.timestampValue,"timestampValue"),new It(this.fromTimestamp(t.timestampValue));if("geoPointValue"in t)return en(t.geoPointValue,"geoPointValue"),new Pt(new tt(t.geoPointValue.latitude||0,t.geoPointValue.longitude||0));if("bytesValue"in t){en(t.bytesValue,"bytesValue");var n=this.fromBlob(t.bytesValue);return new kt(n)}if("referenceValue"in t){en(t.referenceValue,"referenceValue");var r=this.fromResourceName(t.referenceValue),i=new it(r.get(1),r.get(3)),o=new ct(this.extractLocalPathFromResourceName(r));return new Rt(i,o)}return v("Unknown Value proto "+JSON.stringify(t))},t.prototype.toMutationDocument=function(t,e){return{name:this.toName(t),fields:this.toFields(e)}},t.prototype.toDocument=function(t){return g(!t.hasLocalMutations,"Can't serialize documents with mutations."),{name:this.toName(t.key),fields:this.toFields(t.data),updateTime:this.toTimestamp(t.version.toTimestamp())}},t.prototype.fromDocument=function(t,e){return new ft(this.fromName(t.name),this.fromVersion(t.updateTime),this.fromFields(t.fields||{}),{hasCommittedMutations:!!e})},t.prototype.toFields=function(t){var e=this,n={};return t.forEach(function(t,r){n[t]=e.toValue(r)}),n},t.prototype.fromFields=function(t){var e=this,n=Nt.EMPTY;return T(t,function(t,r){n=n.set(new ut([t]),e.fromValue(r))}),n},t.prototype.toMapValue=function(t){return{fields:this.toFields(t)}},t.prototype.toArrayValue=function(t){var e=this,n=[];return t.forEach(function(t){n.push(e.toValue(t))}),{values:n}},t.prototype.fromFound=function(t){g(!!t.found,"Tried to deserialize a found document from a missing document."),en(t.found.name,"doc.found.name"),en(t.found.updateTime,"doc.found.updateTime");var e=this.fromName(t.found.name),n=this.fromVersion(t.found.updateTime),r=this.fromFields(t.found.fields||{});return new ft(e,n,r,{},t.found)},t.prototype.fromMissing=function(t){g(!!t.missing,"Tried to deserialize a missing document from a found document."),g(!!t.readTime,"Tried to deserialize a missing document without a read time.");var e=this.fromName(t.missing),n=this.fromVersion(t.readTime);return new ht(e,n)},t.prototype.fromMaybeDocument=function(t){return"found"in t?this.fromFound(t):"missing"in t?this.fromMissing(t):v("invalid batch get response: "+JSON.stringify(t))},t.prototype.toWatchTargetChangeState=function(t){switch(t){case He.Added:return"ADD";case He.Current:return"CURRENT";case He.NoChange:return"NO_CHANGE";case He.Removed:return"REMOVE";case He.Reset:return"RESET";default:return v("Unknown WatchTargetChangeState: "+t)}},t.prototype.toTestWatchChange=function(t){if(t instanceof ze)return{filter:{count:t.existenceFilter.count,targetId:t.targetId}};if(t instanceof qe){var e;if(t.newDoc instanceof ft)return{documentChange:{document:{name:this.toName((e=t.newDoc).key),fields:this.toFields(e.data),updateTime:this.toVersion(e.version)},targetIds:t.updatedTargetIds,removedTargetIds:t.removedTargetIds}};if(t.newDoc instanceof ht)return{documentDelete:{document:this.toName((e=t.newDoc).key),readTime:this.toVersion(e.version),removedTargetIds:t.removedTargetIds}};if(null===t.newDoc)return{documentRemove:{document:this.toName(t.key),removedTargetIds:t.removedTargetIds}}}if(t instanceof Qe){var n=void 0;return t.cause&&(n={code:Ce(t.cause.code),message:t.cause.message}),{targetChange:{targetChangeType:this.toWatchTargetChangeState(t.state),targetIds:t.targetIds,resumeToken:this.unsafeCastProtoByteString(t.resumeToken),cause:n}}}return v("Unrecognized watch change: "+JSON.stringify(t))},t.prototype.fromWatchChange=function(t){var e;if("targetChange"in t){en(t.targetChange,"targetChange");var n=this.fromWatchTargetChangeState(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],i=t.targetChange.resumeToken||this.emptyByteString(),o=t.targetChange.cause,a=o&&this.fromRpcStatus(o);e=new Qe(n,r,i,a||null)}else if("documentChange"in t){en(t.documentChange,"documentChange"),en(t.documentChange.document,"documentChange.name"),en(t.documentChange.document.name,"documentChange.document.name"),en(t.documentChange.document.updateTime,"documentChange.document.updateTime");var s=t.documentChange,u=this.fromName(s.document.name),c=this.fromVersion(s.document.updateTime),l=this.fromFields(s.document.fields||{}),f=new ft(u,c,l,{},s.document);e=new qe(s.targetIds||[],s.removedTargetIds||[],f.key,f)}else if("documentDelete"in t){en(t.documentDelete,"documentDelete"),en(t.documentDelete.document,"documentDelete.document");var h=t.documentDelete;u=this.fromName(h.document),c=h.readTime?this.fromVersion(h.readTime):$t.forDeletedDoc(),f=new ht(u,c),e=new qe([],h.removedTargetIds||[],f.key,f)}else if("documentRemove"in t){en(t.documentRemove,"documentRemove"),en(t.documentRemove.document,"documentRemove");var p=t.documentRemove;u=this.fromName(p.document),e=new qe([],p.removedTargetIds||[],u,null)}else{if(!("filter"in t))return v("Unknown change type "+JSON.stringify(t));en(t.filter,"filter"),en(t.filter.targetId,"filter.targetId");var d=t.filter,y=new be(d.count||0);e=new ze(d.targetId,y)}return e},t.prototype.fromWatchTargetChangeState=function(t){return"NO_CHANGE"===t?He.NoChange:"ADD"===t?He.Added:"REMOVE"===t?He.Removed:"CURRENT"===t?He.Current:"RESET"===t?He.Reset:v("Got unexpected TargetChange.state: "+t)},t.prototype.versionFromListenResponse=function(t){if(!("targetChange"in t))return $t.MIN;var e=t.targetChange;return e.targetIds&&e.targetIds.length?$t.MIN:e.readTime?this.fromVersion(e.readTime):$t.MIN},t.prototype.toMutation=function(t){var e,n=this;if(t instanceof le)e={update:this.toMutationDocument(t.key,t.value)};else if(t instanceof pe)e={delete:this.toName(t.key)};else if(t instanceof fe)e={update:this.toMutationDocument(t.key,t.data),updateMask:this.toDocumentMask(t.fieldMask)};else{if(!(t instanceof he))return v("Unknown mutation type "+t.type);e={transform:{document:this.toName(t.key),fieldTransforms:t.fieldTransforms.map(function(t){return n.toFieldTransform(t)})}}}return t.precondition.isNone||(e.currentDocument=this.toPrecondition(t.precondition)),e},t.prototype.fromMutation=function(t){var e=this,n=t.currentDocument?this.fromPrecondition(t.currentDocument):ue.NONE;if(t.update){en(t.update.name,"name");var r=this.fromName(t.update.name),i=this.fromFields(t.update.fields||{});if(t.updateMask){var o=this.fromDocumentMask(t.updateMask);return new fe(r,i,o,n)}return new le(r,i,n)}if(t.delete)return r=this.fromName(t.delete),new pe(r,n);if(t.transform){r=this.fromName(t.transform.document);var a=t.transform.fieldTransforms.map(function(t){return e.fromFieldTransform(t)});return g(!0===n.exists,'Transforms only support precondition "exists == true"'),new he(r,a)}return v("unknown mutation proto: "+JSON.stringify(t))},t.prototype.toPrecondition=function(t){return g(!t.isNone,"Can't serialize an empty precondition"),void 0!==t.updateTime?{updateTime:this.toVersion(t.updateTime)}:void 0!==t.exists?{exists:t.exists}:v("Unknown precondition")},t.prototype.fromPrecondition=function(t){return void 0!==t.updateTime?ue.updateTime(this.fromVersion(t.updateTime)):void 0!==t.exists?ue.exists(t.exists):ue.NONE},t.prototype.fromWriteResult=function(t,e){var n=this,r=this.fromVersion(t.updateTime?t.updateTime:e),i=null;return t.transformResults&&t.transformResults.length>0&&(i=t.transformResults.map(function(t){return n.fromValue(t)})),new ae(r,i)},t.prototype.fromWriteResults=function(t,e){var n=this;return t&&t.length>0?(g(void 0!==e,"Received a write result without a commit time"),t.map(function(t){return n.fromWriteResult(t,e)})):[]},t.prototype.toFieldTransform=function(t){var e=this,n=t.transform;if(n instanceof de)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof ye)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements.map(function(t){return e.toValue(t)})}};if(n instanceof me)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements.map(function(t){return e.toValue(t)})}};if(n instanceof ve)return{fieldPath:t.field.canonicalString(),increment:this.toValue(n.operand)};throw v("Unknown transform: "+t.transform)},t.prototype.fromFieldTransform=function(t){var e=this,n=null;if("setToServerValue"in t)g("REQUEST_TIME"===t.setToServerValue,"Unknown server value transform proto: "+JSON.stringify(t)),n=de.instance;else if("appendMissingElements"in t)n=new ye((t.appendMissingElements.values||[]).map(function(t){return e.fromValue(t)}));else if("removeAllFromArray"in t)n=new me((t.removeAllFromArray.values||[]).map(function(t){return e.fromValue(t)}));else if("increment"in t){var r=this.fromValue(t.increment);g(r instanceof St,"NUMERIC_ADD transform requires a NumberValue"),n=new ve(r)}else v("Unknown transform proto: "+JSON.stringify(t));var i=ut.fromServerFormat(t.fieldPath);return new oe(i,n)},t.prototype.toDocumentsTarget=function(t){return{documents:[this.toQueryPath(t.path)]}},t.prototype.fromDocumentsTarget=function(t){var e=t.documents.length;return g(1===e,"DocumentsTarget contained other than 1 document: "+e),qt.atPath(this.fromQueryPath(t.documents[0]))},t.prototype.toQueryTarget=function(t){var e={structuredQuery:{}},n=t.path;null!==t.collectionGroup?(g(n.length%2==0,"Collection Group queries should be within a document path or root."),e.parent=this.toQueryPath(n),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(g(n.length%2!=0,"Document queries with filters are not supported."),e.parent=this.toQueryPath(n.popLast()),e.structuredQuery.from=[{collectionId:n.lastSegment()}]);var r=this.toFilter(t.filters);r&&(e.structuredQuery.where=r);var i=this.toOrder(t.orderBy);i&&(e.structuredQuery.orderBy=i);var o=this.toInt32Value(t.limit);return void 0!==o&&(e.structuredQuery.limit=o),t.startAt&&(e.structuredQuery.startAt=this.toCursor(t.startAt)),t.endAt&&(e.structuredQuery.endAt=this.toCursor(t.endAt)),e},t.prototype.fromQueryTarget=function(t){var e=this.fromQueryPath(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){g(1===r,"StructuredQuery.from with more than one collection is not supported.");var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var a=[];n.where&&(a=this.fromFilter(n.where));var s=[];n.orderBy&&(s=this.fromOrder(n.orderBy));var u=null;n.limit&&(u=this.fromInt32Value(n.limit));var c=null;n.startAt&&(c=this.fromCursor(n.startAt));var l=null;return n.endAt&&(l=this.fromCursor(n.endAt)),new qt(e,i,s,a,u,c,l)},t.prototype.toListenRequestLabels=function(t){var e=this.toLabel(t.purpose);return null==e?null:{"goog-listen-tags":e}},t.prototype.toLabel=function(t){switch(t){case te.Listen:return null;case te.ExistenceFilterMismatch:return"existence-filter-mismatch";case te.LimboResolution:return"limbo-document";default:return v("Unrecognized query purpose: "+t)}},t.prototype.toTarget=function(t){var e,n=t.query;return(e=n.isDocumentQuery()?{documents:this.toDocumentsTarget(n)}:{query:this.toQueryTarget(n)}).targetId=t.targetId,t.resumeToken.length>0&&(e.resumeToken=this.unsafeCastProtoByteString(t.resumeToken)),e},t.prototype.toFilter=function(t){var e=this;if(0!==t.length){var n=t.map(function(t){return t instanceof Qt?e.toRelationFilter(t):e.toUnaryFilter(t)});return 1===n.length?n[0]:{compositeFilter:{op:"AND",filters:n}}}},t.prototype.fromFilter=function(t){var e=this;return t?void 0!==t.unaryFilter?[this.fromUnaryFilter(t)]:void 0!==t.fieldFilter?[this.fromRelationFilter(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return e.fromFilter(t)}).reduce(function(t,e){return t.concat(e)}):v("Unknown filter: "+JSON.stringify(t)):[]},t.prototype.toOrder=function(t){var e=this;if(0!==t.length)return t.map(function(t){return e.toPropertyOrder(t)})},t.prototype.fromOrder=function(t){var e=this;return t.map(function(t){return e.fromPropertyOrder(t)})},t.prototype.toCursor=function(t){var e=this;return{before:t.before,values:t.position.map(function(t){return e.toValue(t)})}},t.prototype.fromCursor=function(t){var e=this,n=!!t.before,r=t.values.map(function(t){return e.fromValue(t)});return new Yt(r,n)},t.prototype.toDirection=function(t){return Je[t.name]},t.prototype.fromDirection=function(t){switch(t){case"ASCENDING":return Wt.ASCENDING;case"DESCENDING":return Wt.DESCENDING;default:return}},t.prototype.toOperatorName=function(t){return $e[t.name]},t.prototype.fromOperatorName=function(t){switch(t){case"EQUAL":return Ht.EQUAL;case"GREATER_THAN":return Ht.GREATER_THAN;case"GREATER_THAN_OR_EQUAL":return Ht.GREATER_THAN_OR_EQUAL;case"LESS_THAN":return Ht.LESS_THAN;case"LESS_THAN_OR_EQUAL":return Ht.LESS_THAN_OR_EQUAL;case"ARRAY_CONTAINS":return Ht.ARRAY_CONTAINS;case"OPERATOR_UNSPECIFIED":return v("Unspecified relation");default:return v("Unknown relation")}},t.prototype.toFieldPathReference=function(t){return{fieldPath:t.canonicalString()}},t.prototype.fromFieldPathReference=function(t){return ut.fromServerFormat(t.fieldPath)},t.prototype.toPropertyOrder=function(t){return{field:this.toFieldPathReference(t.field),direction:this.toDirection(t.dir)}},t.prototype.fromPropertyOrder=function(t){return new Zt(this.fromFieldPathReference(t.field),this.fromDirection(t.direction))},t.prototype.toRelationFilter=function(t){return t instanceof Qt?{fieldFilter:{field:this.toFieldPathReference(t.field),op:this.toOperatorName(t.op),value:this.toValue(t.value)}}:v("Unrecognized filter: "+JSON.stringify(t))},t.prototype.fromRelationFilter=function(t){return new Qt(this.fromFieldPathReference(t.fieldFilter.field),this.fromOperatorName(t.fieldFilter.op),this.fromValue(t.fieldFilter.value))},t.prototype.toUnaryFilter=function(t){return t instanceof Gt?{unaryFilter:{field:this.toFieldPathReference(t.field),op:"IS_NAN"}}:t instanceof Kt?{unaryFilter:{field:this.toFieldPathReference(t.field),op:"IS_NULL"}}:v("Unrecognized filter: "+JSON.stringify(t))},t.prototype.fromUnaryFilter=function(t){switch(t.unaryFilter.op){case"IS_NAN":var e=this.fromFieldPathReference(t.unaryFilter.field);return new Gt(e);case"IS_NULL":var n=this.fromFieldPathReference(t.unaryFilter.field);return new Kt(n);case"OPERATOR_UNSPECIFIED":return v("Unspecified filter");default:return v("Unknown filter")}},t.prototype.toDocumentMask=function(t){var e=[];return t.fields.forEach(function(t){return e.push(t.canonicalString())}),{fieldPaths:e}},t.prototype.fromDocumentMask=function(t){var e=(t.fieldPaths||[]).map(function(t){return ut.fromServerFormat(t)});return ie.fromArray(e)},t}(),on=function(){function t(t){this.sendFn=t.sendFn,this.closeFn=t.closeFn}return t.prototype.onOpen=function(t){g(!this.wrappedOnOpen,"Called onOpen on stream twice!"),this.wrappedOnOpen=t},t.prototype.onClose=function(t){g(!this.wrappedOnClose,"Called onClose on stream twice!"),this.wrappedOnClose=t},t.prototype.onMessage=function(t){g(!this.wrappedOnMessage,"Called onMessage on stream twice!"),this.wrappedOnMessage=t},t.prototype.close=function(){this.closeFn()},t.prototype.send=function(t){this.sendFn(t)},t.prototype.callOnOpen=function(){g(void 0!==this.wrappedOnOpen,"Cannot call onOpen because no callback was set"),this.wrappedOnOpen()},t.prototype.callOnClose=function(t){g(void 0!==this.wrappedOnClose,"Cannot call onClose because no callback was set"),this.wrappedOnClose(t)},t.prototype.callOnMessage=function(t){g(void 0!==this.wrappedOnMessage,"Cannot call onMessage because no callback was set"),this.wrappedOnMessage(t)},t}(),an="Connection",sn={BatchGetDocuments:"batchGet",Commit:"commit"},un="gl-js/ fire/"+c,cn=function(){function t(t){this.databaseId=t.databaseId,this.baseUrl=(t.ssl?"https":"http")+"://"+t.host,this.forceLongPolling=t.forceLongPolling}return t.prototype.modifyHeadersForRequest=function(t,e){if(e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n]);t["X-Goog-Api-Client"]=un},t.prototype.invokeRPC=function(t,e,n){var r=this,i=this.makeUrl(t);return new Promise(function(o,a){var u=new s.XhrIo;u.listenOnce(s.EventType.COMPLETE,function(){try{switch(u.getLastErrorCode()){case s.ErrorCode.NO_ERROR:var e=u.getResponseJson();d(an,"XHR received:",JSON.stringify(e)),o(e);break;case s.ErrorCode.TIMEOUT:d(an,'RPC "'+t+'" timed out'),a(new E(w.DEADLINE_EXCEEDED,"Request time out"));break;case s.ErrorCode.HTTP_ERROR:var n=u.getStatus();d(an,'RPC "'+t+'" failed with status:',n,"response text:",u.getResponseText()),n>0?a(new E(function(t){switch(t){case 200:return w.OK;case 400:return w.INVALID_ARGUMENT;case 401:return w.UNAUTHENTICATED;case 403:return w.PERMISSION_DENIED;case 404:return w.NOT_FOUND;case 409:return w.ABORTED;case 416:return w.OUT_OF_RANGE;case 429:return w.RESOURCE_EXHAUSTED;case 499:return w.CANCELLED;case 500:return w.UNKNOWN;case 501:return w.UNIMPLEMENTED;case 503:return w.UNAVAILABLE;case 504:return w.DEADLINE_EXCEEDED;default:return t>=200&&t<300?w.OK:t>=400&&t<500?w.FAILED_PRECONDITION:t>=500&&t<600?w.INTERNAL:w.UNKNOWN}}(n),"Server responded with status "+u.getStatusText())):(d(an,'RPC "'+t+'" failed'),a(new E(w.UNAVAILABLE,"Connection failed.")));break;default:v('RPC "'+t+'" failed with unanticipated webchannel error '+u.getLastErrorCode()+": "+u.getLastError()+", giving up.")}}finally{d(an,'RPC "'+t+'" completed.')}});var c=JSON.stringify(e);d(an,"XHR sending: ",i+" "+c);var l={"Content-Type":"text/plain"};r.modifyHeadersForRequest(l,n),u.send(i,"POST",c,l,15)})},t.prototype.invokeStreamingRPC=function(t,e,n){return this.invokeRPC(t,e,n)},t.prototype.openStream=function(t,e){var n=[this.baseUrl,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=s.createWebChannelTransport(),i={backgroundChannelTest:!0,httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling};this.modifyHeadersForRequest(i.initMessageHeaders,e),u.isReactNative()||(i.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");d(an,"Creating WebChannel: "+o+" "+i);var a=r.createWebChannel(o,i),c=!1,l=!1,f=new on({sendFn:function(t){l?d(an,"Not sending because WebChannel is closed:",t):(c||(d(an,"Opening WebChannel transport."),a.open(),c=!0),d(an,"WebChannel sending:",t),a.send(t))},closeFn:function(){return a.close()}}),h=function(t,e){a.listen(t,function(t){try{e(t)}catch(n){setTimeout(function(){throw n},0)}})};return h(s.WebChannel.EventType.OPEN,function(){l||d(an,"WebChannel transport opened.")}),h(s.WebChannel.EventType.CLOSE,function(){l||(l=!0,d(an,"WebChannel transport closed"),f.callOnClose())}),h(s.WebChannel.EventType.ERROR,function(t){l||(l=!0,d(an,"WebChannel transport errored:",t),f.callOnClose(new E(w.UNAVAILABLE,"The operation could not be completed")))}),h(s.WebChannel.EventType.MESSAGE,function(t){if(!l){var e=t.data[0];g(!!e,"Got a webchannel message without data.");var n=e.error||e[0]&&e[0].error;if(n){d(an,"WebChannel received error:",n);var r=n.status,i=function(t){var e=_e[r];if(void 0!==e)return Ee(e)}(),o=n.message;void 0===i&&(i=w.INTERNAL,o="Unknown error status: "+r+" with message "+n.message),l=!0,f.callOnClose(new E(i,o)),a.close()}else d(an,"WebChannel received:",e),f.callOnMessage(e)}}),setTimeout(function(){f.callOnOpen()},0),f},t.prototype.makeUrl=function(t){var e=sn[t];g(void 0!==e,"Unknown REST mapping for: "+t);var n=[this.baseUrl,"/","v1"];return n.push("/projects/"),n.push(this.databaseId.projectId),n.push("/databases/"),n.push(this.databaseId.database),n.push("/documents"),n.push(":"),n.push(e),n.join("")},t}();b.setPlatform(new(function(){function t(){this.emptyByteString="",this.base64Available="undefined"!=typeof atob}return Object.defineProperty(t.prototype,"document",{get:function(){return"undefined"!=typeof document?document:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"window",{get:function(){return"undefined"!=typeof window?window:null},enumerable:!0,configurable:!0}),t.prototype.loadConnection=function(t){return Promise.resolve(new cn(t))},t.prototype.newSerializer=function(t){return new rn(t,{useProto3Json:!0})},t.prototype.formatJSON=function(t){return JSON.stringify(t)},t.prototype.atob=function(t){return atob(t)},t.prototype.btoa=function(t){return btoa(t)},t}()));var ln,fn=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.setPreviousValue(t)},this.writeNewSequenceNumber=function(t){return e.writeSequenceNumber(t)})}return t.prototype.setPreviousValue=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.writeNewSequenceNumber&&this.writeNewSequenceNumber(t),t},t.INVALID=-1,t}(),hn=function(){return function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}}();!function(t){t.All="all",t.ListenStreamIdle="listen_stream_idle",t.ListenStreamConnectionBackoff="listen_stream_connection_backoff",t.WriteStreamIdle="write_stream_idle",t.WriteStreamConnectionBackoff="write_stream_connection_backoff",t.OnlineStateTimeout="online_state_timeout",t.ClientMetadataRefresh="client_metadata_refresh",t.LruGarbageCollection="lru_garbage_collection"}(ln||(ln={}));var pn=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new hn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.catch=this.deferred.promise.catch.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,r,i,o){var a=new t(e,n,Date.now()+r,i,o);return a.start(r),a},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new E(w.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}(),dn=function(){function t(){this.tail=Promise.resolve(),this.delayedOperations=[],this.operationInProgress=!1}return t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueue=function(t){var e=this;this.verifyNotFailed();var n=this.tail.then(function(){return e.operationInProgress=!0,t().catch(function(t){e.failure=t,e.operationInProgress=!1;var n=t.stack||t.message||"";throw y("INTERNAL UNHANDLED ERROR: ",n),n.indexOf("Firestore Test Simulated Error")<0&&setTimeout(function(){throw t},0),t}).then(function(t){return e.operationInProgress=!1,t})});return this.tail=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.verifyNotFailed(),g(e>=0,"Attempted to schedule an operation with a negative delay of "+e),g(!this.containsDelayedOperation(t),"Attempted to schedule multiple operations with timer id "+t+".");var i=pn.createAndSchedule(this,t,e,n,function(t){return r.removeDelayedOperation(t)});return this.delayedOperations.push(i),i},t.prototype.verifyNotFailed=function(){this.failure&&v("AsyncQueue is already failed: "+(this.failure.stack||this.failure.message))},t.prototype.verifyOperationInProgress=function(){g(this.operationInProgress,"verifyOpInProgress() called when no op in progress on this queue.")},t.prototype.drain=function(){return this.enqueue(function(){return Promise.resolve()})},t.prototype.containsDelayedOperation=function(t){for(var e=0,n=this.delayedOperations;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.runDelayedOperationsEarly=function(t){var e=this;return this.drain().then(function(){g(t===ln.All||e.containsDelayedOperation(t),"Attempted to drain to missing operation "+t),e.delayedOperations.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,r=e.delayedOperations;n<r.length;n++){var i=r[n];if(i.skipDelay(),t!==ln.All&&i.timerId===t)break}return e.drain()})},t.prototype.removeDelayedOperation=function(t){var e=this.delayedOperations.indexOf(t);g(e>=0,"Delayed operation not found."),this.delayedOperations.splice(e,1)},t}(),yn="\x01",mn="\x01",vn="\x10",gn="\x11";function bn(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=wn(e)),e=_n(t.get(n),e);return wn(e)}function _n(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+=yn+vn;break;case yn:n+=yn+gn;break;default:n+=o}}return n}function wn(t){return t+yn+mn}function En(t){var e=t.length;if(g(e>=2,"Invalid path "+t),2===e)return g(t.charAt(0)===yn&&t.charAt(1)===mn,"Non-empty path "+t+" had length 2"),at.EMPTY_PATH;for(var n=e-2,r=[],i="",o=0;o<e;){var a=t.indexOf(yn,o);switch((a<0||a>n)&&v('Invalid encoded resource path: "'+t+'"'),t.charAt(a+1)){case mn:var s=t.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case vn:i+=t.substring(o,a),i+="\0";break;case gn:i+=t.substring(o,a+1);break;default:v('Invalid encoded resource path: "'+t+'"')}o=a+2}return new at(r)}var Cn=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r,g(r.length>0,"Cannot create an empty mutation batch")}return t.prototype.applyToRemoteDocument=function(t,e,n){e&&g(e.key.isEqual(t),"applyToRemoteDocument: key "+t+" should match maybeDoc key\n        "+e.key);var r=n.mutationResults;g(r.length===this.mutations.length,"Mismatch between mutations length\n      ("+this.mutations.length+") and mutation results length\n      ("+r.length+").");for(var i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=o.applyToRemoteDocument(e,r[i]))}return e},t.prototype.applyToLocalView=function(t,e){e&&g(e.key.isEqual(t),"applyToLocalDocument: key "+t+" should match maybeDoc key\n        "+e.key);for(var n=0,r=this.baseMutations;n<r.length;n++)(s=r[n]).key.isEqual(t)&&(e=s.applyToLocalView(e,e,this.localWriteTime));for(var i=e,o=0,a=this.mutations;o<a.length;o++){var s;(s=a[o]).key.isEqual(t)&&(e=s.applyToLocalView(e,i,this.localWriteTime))}return e},t.prototype.applyToLocalDocumentSet=function(t){var e=this,n=t;return this.mutations.forEach(function(r){var i=e.applyToLocalView(r.key,t.get(r.key));i&&(n=n.insert(r.key,i))}),n},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},Re())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&W(this.mutations,t.mutations)&&W(this.baseMutations,t.baseMutations)},t}(),Sn=function(){function t(t,e,n,r,i){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.streamToken=r,this.docVersions=i}return t.from=function(e,n,r,i){g(e.mutations.length===r.length,"Mutations sent "+e.mutations.length+" must equal results received "+r.length);for(var o=xe(),a=e.mutations,s=0;s<a.length;s++)o=o.insert(a[s].key,r[s].version);return new t(e,n,r,i,o)},t}(),Dn=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&v("Called next() or catch() twice for PersistencePromise"),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(r){return t.reject(r)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return new t(function(t,n){var r=0,i=0,o=!1;e.forEach(function(e){++r,e.next(function(){++i,o&&i===r&&t()},function(t){return n(t)})}),o=!0,i===r&&t()})},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.waitFor(r)},t}(),On=function(){function t(t,e,n,r){this.userId=t,this.serializer=e,this.indexManager=n,this.referenceDelegate=r,this.documentKeysByBatchId={}}return t.forUser=function(e,n,r,i){return g(""!==e.uid,"UserID must not be an empty string."),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return xn(t).iterate({index:cr.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.acknowledgeBatch=function(t,e,n){return this.getMutationQueueMetadata(t).next(function(e){return e.lastStreamToken=In(n),Rn(t).put(e)})},t.prototype.getLastStreamToken=function(t){return this.getMutationQueueMetadata(t).next(function(t){return t.lastStreamToken})},t.prototype.setLastStreamToken=function(t,e){return this.getMutationQueueMetadata(t).next(function(n){return n.lastStreamToken=In(e),Rn(t).put(n)})},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=kn(t),a=xn(t);return a.add({}).next(function(s){g("number"==typeof s,"Auto-generated key is not a number");var u=new Cn(s,e,n,r),c=i.serializer.toDbMutationBatch(i.userId,u);i.documentKeysByBatchId[s]=u.keys();for(var l=[],f=0,h=r;f<h.length;f++){var p=h[f],d=lr.key(i.userId,p.key.path,s);l.push(a.put(c)),l.push(o.put(d,lr.PLACEHOLDER)),l.push(i.indexManager.addToCollectionParentIndex(t,p.key.path.popLast()))}return Dn.waitFor(l).next(function(){return u})})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return xn(t).get(e).next(function(t){return t?(g(t.userId===n.userId,"Unexpected user '"+t.userId+"' for mutation batch "+e),n.serializer.fromDbMutationBatch(t)):null})},t.prototype.lookupMutationKeys=function(t,e){var n=this;return this.documentKeysByBatchId[e]?Dn.resolve(this.documentKeysByBatchId[e]):this.lookupMutationBatch(t,e).next(function(t){if(t){var r=t.keys();return n.documentKeysByBatchId[e]=r,r}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this;return this.getMutationQueueMetadata(t).next(function(r){var i=e+1,o=IDBKeyRange.lowerBound([n.userId,i]),a=null;return xn(t).iterate({index:cr.userMutationsIndex,range:o},function(t,e,r){e.userId===n.userId&&(g(e.batchId>=i,"Should have found mutation after "+i),a=n.serializer.fromDbMutationBatch(e)),r.done()}).next(function(){return a})})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return xn(t).loadAll(cr.userMutationsIndex,n).next(function(t){return t.map(function(t){return e.serializer.fromDbMutationBatch(t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=lr.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return kn(t).iterate({range:i},function(r,i,a){var s=r[0],u=r[2],c=En(r[1]);if(s===n.userId&&e.path.isEqual(c))return xn(t).get(u).next(function(t){if(!t)throw v("Dangling document-mutation reference found: "+r+" which points to "+u);g(t.userId===n.userId,"Unexpected user '"+t.userId+"' for mutation batch "+u),o.push(n.serializer.fromDbMutationBatch(t))});a.done()}).next(function(){return o})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new ne(G),i=[];return e.forEach(function(e){var o=lr.prefixForPath(n.userId,e.path),a=IDBKeyRange.lowerBound(o),s=kn(t).iterate({range:a},function(t,i,o){var a=t[0],s=t[2],u=En(t[1]);a===n.userId&&e.path.isEqual(u)?r=r.add(s):o.done()});i.push(s)}),Dn.waitFor(i).next(function(){return n.lookupMutationBatches(t,r)})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this;g(!e.isDocumentQuery(),"Document queries shouldn't go down this path"),g(!e.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var r=e.path,i=r.length+1,o=lr.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new ne(G);return kn(t).iterate({range:a},function(t,e,o){var a=t[0],u=t[2],c=En(t[1]);a===n.userId&&r.isPrefixOf(c)?c.length===i&&(s=s.add(u)):o.done()}).next(function(){return n.lookupMutationBatches(t,s)})},t.prototype.lookupMutationBatches=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(xn(t).get(e).next(function(t){if(null===t)throw v("Dangling document-mutation reference found, which points to "+e);g(t.userId===n.userId,"Unexpected user '"+t.userId+"' for mutation batch "+e),r.push(n.serializer.fromDbMutationBatch(t))}))}),Dn.waitFor(i).next(function(){return r})},t.prototype.removeMutationBatch=function(t,e){var n=this;return An(t.simpleDbTransaction,this.userId,e).next(function(r){return n.removeCachedMutationKeys(e.batchId),Dn.forEach(r,function(e){return n.referenceDelegate.removeMutationReference(t,e)})})},t.prototype.removeCachedMutationKeys=function(t){delete this.documentKeysByBatchId[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return Dn.resolve();var r=IDBKeyRange.lowerBound(lr.prefixForUser(e.userId)),i=[];return kn(t).iterate({range:r},function(t,n,r){if(t[0]===e.userId){var o=En(t[1]);i.push(o)}else r.done()}).next(function(){g(0===i.length,"Document leak -- detected dangling mutation references when queue is empty. Dangling keys: "+i.map(function(t){return t.canonicalString()}))})})},t.prototype.containsKey=function(t,e){return Tn(t,this.userId,e)},t.prototype.getMutationQueueMetadata=function(t){var e=this;return Rn(t).get(this.userId).next(function(t){return t||new ur(e.userId,-1,"")})},t}();function Tn(t,e,n){var r=lr.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return kn(t).iterate({range:o,keysOnly:!0},function(t,n,r){t[0]===e&&t[1]===i&&(a=!0),r.done()}).next(function(){return a})}function An(t,e,n){var r=t.store(cr.store),i=t.store(lr.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.iterate({range:a},function(t,e,n){return s++,n.delete()});o.push(u.next(function(){g(1===s,"Dangling document-mutation reference found: Missing batch "+n.batchId)}));for(var c=[],l=0,f=n.mutations;l<f.length;l++){var h=f[l],p=lr.key(e,h.key.path,n.batchId);o.push(i.delete(p)),c.push(h.key)}return Dn.waitFor(o).next(function(){return c})}function In(t){return t instanceof Uint8Array?(g("YES"===process.env.USE_MOCK_PERSISTENCE,"Persisting non-string stream tokens is only supported with mock persistence."),t.toString()):t}function xn(t){return Fr.getStore(t,cr.store)}function kn(t){return Fr.getStore(t,lr.store)}function Rn(t){return Fr.getStore(t,ur.store)}var Pn=1,Nn=function(t){return t[t.QueryCache=0]="QueryCache",t[t.SyncEngine=1]="SyncEngine",t}({}),jn=function(){function t(t,e){this.generatorId=t,g((t&Pn)===t,"Generator ID "+t+" contains more than "+Pn+" reserved bits"),this.seek(void 0!==e?e:this.generatorId)}return t.prototype.next=function(){var t=this.nextId;return this.nextId+=1<<Pn,t},t.prototype.after=function(t){return this.seek(t+(1<<Pn)),this.next()},t.prototype.seek=function(t){g((t&Pn)===this.generatorId,"Cannot supply target ID from different generator ID"),this.nextId=t},t.forQueryCache=function(){return new t(Nn.QueryCache,2)},t.forSyncEngine=function(){return new t(Nn.SyncEngine)},t}(),Mn=function(){function t(t){this.db=t}return t.openOrCreate=function(e,n,r){return g(t.isAvailable(),"IndexedDB not supported in current environment."),d("SimpleDb","Opening database:",e),new Dn(function(i,o){var a=window.indexedDB.open(e,n);a.onsuccess=function(e){i(new t(e.target.result))},a.onblocked=function(){o(new E(w.FAILED_PRECONDITION,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=function(t){var e=t.target.error;o("VersionError"===e.name?new E(w.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):e)},a.onupgradeneeded=function(t){d("SimpleDb",'Database "'+e+'" requires upgrade from version:',t.oldVersion);var n=t.target.result,i=new Ln(a.transaction);r.createOrUpgrade(n,i,t.oldVersion,ir).next(function(){d("SimpleDb","Database upgrade to version "+ir+" complete")})}}).toPromise()},t.delete=function(t){return d("SimpleDb","Removing database:",t),Vn(window.indexedDB.deleteDatabase(t)).toPromise()},t.isAvailable=function(){if("undefined"==typeof window||null==window.indexedDB)return!1;if(void 0===window.navigator)return"YES"===process.env.USE_MOCK_PERSISTENCE;var e=window.navigator.userAgent,n=t.getIOSVersion(e),r=0<n&&n<10,i=t.getAndroidVersion(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.getStore=function(t,e){return t.store(e)},t.getIOSVersion=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_")[0]:"-1";return Number(n)},t.getAndroidVersion=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.setVersionChangeListener=function(t){this.db.onversionchange=function(e){return t(e)}},t.prototype.runTransaction=function(t,e,n){var r=Ln.open(this.db,t,e),i=n(r).catch(function(t){return r.abort(t),Dn.reject(t)}).toPromise();return i.catch(function(){}),r.completionPromise.then(function(){return i})},t.prototype.close=function(){this.db.close()},t}(),Fn=function(){function t(t){this.dbCursor=t,this.shouldStop=!1,this.nextKey=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.shouldStop},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"skipToKey",{get:function(){return this.nextKey},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.dbCursor=t},enumerable:!0,configurable:!0}),t.prototype.done=function(){this.shouldStop=!0},t.prototype.skip=function(t){this.nextKey=t},t.prototype.delete=function(){return Vn(this.dbCursor.delete())},t}(),Ln=function(){function t(t){var e=this;this.transaction=t,this.aborted=!1,this.completionDeferred=new hn,this.transaction.oncomplete=function(){e.completionDeferred.resolve()},this.transaction.onabort=function(){t.error?e.completionDeferred.reject(t.error):e.completionDeferred.resolve()},this.transaction.onerror=function(t){e.completionDeferred.reject(t.target.error)}}return t.open=function(e,n,r){return new t(e.transaction(r,n))},Object.defineProperty(t.prototype,"completionPromise",{get:function(){return this.completionDeferred.promise},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){t&&this.completionDeferred.reject(t),this.aborted||(d("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return g(!!e,"Object store not part of transaction: "+t),new Bn(e)},t}(),Bn=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(d("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(d("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Vn(n)},t.prototype.add=function(t){return d("SimpleDb","ADD",this.store.name,t,t),Vn(this.store.add(t))},t.prototype.get=function(t){var e=this;return Vn(this.store.get(t)).next(function(n){return void 0===n&&(n=null),d("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return d("SimpleDb","DELETE",this.store.name,t),Vn(this.store.delete(t))},t.prototype.count=function(){return d("SimpleDb","COUNT",this.store.name),Vn(this.store.count())},t.prototype.loadAll=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.iterateCursor(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.deleteAll=function(t,e){d("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.keysOnly=!1;var r=this.cursor(n);return this.iterateCursor(r,function(t,e,n){return n.delete()})},t.prototype.iterate=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.iterateCursor(r,e)},t.prototype.iterateSerial=function(t){var e=this.cursor({});return new Dn(function(n,r){e.onerror=function(t){r(t.target.error)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.iterateCursor=function(t,e){var n=[];return new Dn(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new Fn(i),a=e(i.primaryKey,i.value,o);if(a instanceof Dn){var s=a.catch(function(t){return o.done(),Dn.reject(t)});n.push(s)}o.isDone?r():null===o.skipToKey?i.continue():i.continue(o.skipToKey)}else r()}}).next(function(){return Dn.waitFor(n)})},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:(g(void 0===e,"3rd argument must not be defined if 2nd is a range."),e=t)),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.keysOnly?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Vn(t){return new Dn(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){n(t.target.error)}})}var Un=function(){function t(t,e){this.referenceDelegate=t,this.serializer=e,this.targetIdGenerator=jn.forQueryCache()}return t.prototype.allocateTargetId=function(t){var e=this;return this.retrieveMetadata(t).next(function(n){return n.highestTargetId=e.targetIdGenerator.after(n.highestTargetId),e.saveMetadata(t,n).next(function(){return n.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.retrieveMetadata(t).next(function(t){return $t.fromTimestamp(new et(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(t){return Hn(t.simpleDbTransaction)},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.retrieveMetadata(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.saveMetadata(t,i)})},t.prototype.addQueryData=function(t,e){var n=this;return this.saveQueryData(t,e).next(function(){return n.retrieveMetadata(t).next(function(r){return r.targetCount+=1,n.updateMetadataFromQueryData(e,r),n.saveMetadata(t,r)})})},t.prototype.updateQueryData=function(t,e){return this.saveQueryData(t,e)},t.prototype.removeQueryData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return qn(t).delete(e.targetId)}).next(function(){return n.retrieveMetadata(t)}).next(function(e){return g(e.targetCount>0,"Removing from an empty query cache"),e.targetCount-=1,n.saveMetadata(t,e)})},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return qn(t).iterate(function(a,s){var u=r.serializer.fromDbTarget(s);u.sequenceNumber<=e&&void 0===n[u.targetId]&&(i++,o.push(r.removeQueryData(t,u)))}).next(function(){return Dn.waitFor(o)}).next(function(){return i})},t.prototype.forEachTarget=function(t,e){var n=this;return qn(t).iterate(function(t,r){var i=n.serializer.fromDbTarget(r);e(i)})},t.prototype.retrieveMetadata=function(t){return zn(t.simpleDbTransaction)},t.prototype.saveMetadata=function(t,e){return(n=t,Fr.getStore(n,vr.store)).put(vr.key,e);var n},t.prototype.saveQueryData=function(t,e){return qn(t).put(this.serializer.toDbTarget(e))},t.prototype.updateMetadataFromQueryData=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getQueryCount=function(t){return this.retrieveMetadata(t).next(function(t){return t.targetCount})},t.prototype.getQueryData=function(t,e){var n=this,r=e.canonicalId(),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),o=null;return qn(t).iterate({range:i,index:yr.queryTargetsIndexName},function(t,r,i){var a=n.serializer.fromDbTarget(r);e.isEqual(a.query)&&(o=a,i.done())}).next(function(){return o})},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=Qn(t);return e.forEach(function(e){var a=bn(e.path);i.push(o.put(new mr(n,a))),i.push(r.referenceDelegate.addReference(t,e))}),Dn.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=Qn(t);return Dn.forEach(e,function(e){var o=bn(e.path);return Dn.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,e)])})},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=Qn(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Qn(t),i=Re();return r.iterate({range:n,keysOnly:!0},function(t,e,n){var r=En(t[1]),o=new ct(r);i=i.add(o)}).next(function(){return i})},t.prototype.containsKey=function(t,e){var n=bn(e.path),r=IDBKeyRange.bound([n],[Y(n)],!1,!0),i=0;return Qn(t).iterate({index:mr.documentTargetsIndex,keysOnly:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.getQueryDataForTarget=function(t,e){var n=this;return qn(t).get(e).next(function(t){return t?n.serializer.fromDbTarget(t):null})},t}();function qn(t){return Fr.getStore(t,yr.store)}function zn(t){return Mn.getStore(t,vr.store).get(vr.key).next(function(t){return g(null!==t,"Missing metadata row."),t})}function Hn(t){return zn(t).next(function(t){return t.highestListenSequenceNumber})}function Qn(t){return Fr.getStore(t,mr.store)}var Kn=function(){function t(t){this.mapKeyFn=t,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[1];if(o[0].isEqual(t))return a}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(r[i][0].isEqual(t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(n[r][0].isEqual(t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){T(this.inner,function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}})},t.prototype.isEmpty=function(){return A(this.inner)},t}(),Gn=function(){function t(){this.changes=De(),this.documentSizes=new Kn(function(t){return t.toString()})}return t.prototype.addEntry=function(t){var e=this.assertChanges();this.changes=e.insert(t.key,t)},t.prototype.getEntry=function(t,e){var n=this,r=this.assertChanges().get(e);return r?Dn.resolve(r):this.getFromCache(t,e).next(function(t){return null===t?(n.documentSizes.set(e,0),null):(n.documentSizes.set(e,t.size),t.maybeDocument)})},t.prototype.getEntries=function(t,e){var n=this;return this.getAllFromCache(t,e).next(function(t){var e=t.maybeDocuments;return t.sizeMap.forEach(function(t,e){n.documentSizes.set(t,e)}),e})},t.prototype.apply=function(t){var e=this.applyChanges(t);return this.changes=null,e},t.prototype.assertChanges=function(){return g(null!==this.changes,"Changes have already been applied."),this.changes},t}(),Wn="The remote document changelog no longer contains all changes for all local query views. It may be necessary to rebuild these views.",Yn=function(){function t(t,e,n){this.serializer=t,this.indexManager=e,this.keepDocumentChangeLog=n,this._lastProcessedDocumentChangeId=0}return Object.defineProperty(t.prototype,"lastProcessedDocumentChangeId",{get:function(){return this._lastProcessedDocumentChangeId},enumerable:!0,configurable:!0}),t.prototype.start=function(t){var e=Mn.getStore(t,_r.store);return this.synchronizeLastDocumentChangeId(e)},t.prototype.addEntries=function(t,e,n){var r=[];if(e.length>0){for(var i=Jn(t),o=Re(),a=0,s=e;a<s.length;a++){var u=s[a],c=u.key,l=u.doc;r.push(i.put(tr(c),l)),o=o.add(c),r.push(this.indexManager.addToCollectionParentIndex(t,c.path.popLast()))}this.keepDocumentChangeLog&&r.push($n(t).put({changes:this.serializer.toDbResourcePaths(o)})),r.push(this.updateSize(t,n))}return Dn.waitFor(r)},t.prototype.removeEntry=function(t,e){var n=Jn(t),r=tr(e);return n.get(r).next(function(t){return t?n.delete(r).next(function(){return er(t)}):Dn.resolve(0)})},t.prototype.getEntry=function(t,e){var n=this;return Jn(t).get(tr(e)).next(function(t){return t?n.serializer.fromDbRemoteDocument(t):null})},t.prototype.getSizedEntry=function(t,e){var n=this;return Jn(t).get(tr(e)).next(function(t){return t?{maybeDocument:n.serializer.fromDbRemoteDocument(t),size:er(t)}:null})},t.prototype.getEntries=function(t,e){var n=this,r=Oe();return this.forEachDbEntry(t,e,function(t,e){r=r.insert(t,e?n.serializer.fromDbRemoteDocument(e):null)}).next(function(){return r})},t.prototype.getSizedEntries=function(t,e){var n=this,r=Oe(),i=new dt(ct.comparator);return this.forEachDbEntry(t,e,function(t,e){e?(r=r.insert(t,n.serializer.fromDbRemoteDocument(e)),i=i.insert(t,er(e))):(r=r.insert(t,null),i=i.insert(t,0))}).next(function(){return{maybeDocuments:r,sizeMap:i}})},t.prototype.forEachDbEntry=function(t,e,n){if(e.isEmpty())return Dn.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return Jn(t).iterate({range:r},function(t,e,r){for(var a=ct.fromSegments(t);o&&ct.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.skip(o.path.toArray()):r.done()}).next(function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(t,e){var n=this;g(!e.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var r=Ae(),i=e.path.length+1,o=e.path.toArray(),a=IDBKeyRange.lowerBound(o);return Jn(t).iterate({range:a},function(t,o,a){if(t.length===i){var s=n.serializer.fromDbRemoteDocument(o);e.path.isPrefixOf(s.key.path)?s instanceof ft&&e.matches(s)&&(r=r.insert(s.key,s)):a.done()}}).next(function(){return r})},t.prototype.getNewDocumentChanges=function(t){var e=this;g(this.keepDocumentChangeLog,"Can only call getNewDocumentChanges() when document change log is enabled");var n=Re(),r=De(),i=IDBKeyRange.lowerBound(this._lastProcessedDocumentChangeId+1),o=!0,a=$n(t);return a.iterate({range:i},function(t,r){if(o&&(o=!1,e._lastProcessedDocumentChangeId+1!==r.id))return e.synchronizeLastDocumentChangeId(a).next(function(){return Dn.reject(new E(w.DATA_LOSS,Wn))});n=n.unionWith(e.serializer.fromDbResourcePaths(r.changes)),e._lastProcessedDocumentChangeId=r.id}).next(function(){var i=[];return n.forEach(function(n){i.push(e.getEntry(t,n).next(function(t){var e=t||new ht(n,$t.forDeletedDoc());r=r.insert(n,e)}))}),Dn.waitFor(i)}).next(function(){return r})},t.prototype.removeDocumentChangesThroughChangeId=function(t,e){var n=IDBKeyRange.upperBound(e);return $n(t).delete(n)},t.prototype.synchronizeLastDocumentChangeId=function(t){var e=this;return this._lastProcessedDocumentChangeId=0,t.iterate({keysOnly:!0,reverse:!0},function(t,n,r){e._lastProcessedDocumentChangeId=t,r.done()})},t.prototype.newChangeBuffer=function(){return new Xn(this)},t.prototype.getSize=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return Zn(t).get(dr.key).next(function(t){return g(!!t,"Missing document cache metadata"),t})},t.prototype.setMetadata=function(t,e){return Zn(t).put(dr.key,e)},t.prototype.updateSize=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.setMetadata(t,r)})},t}();function Zn(t){return Fr.getStore(t,dr.store)}var Xn=function(t){function e(e){var n=t.call(this)||this;return n.documentCache=e,n}return a.__extends(e,t),e.prototype.applyChanges=function(t){var e=this,n=this.assertChanges(),r=0,i=[];return n.forEach(function(t,n){var o=e.documentCache.serializer.toDbRemoteDocument(n),a=e.documentSizes.get(t);g(void 0!==a,"Attempting to change document "+t.toString()+" without having read it first");var s=er(o);r+=s-a,i.push({key:t,doc:o})}),this.documentCache.addEntries(t,i,r)},e.prototype.getFromCache=function(t,e){return this.documentCache.getSizedEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.documentCache.getSizedEntries(t,e)},e}(Gn);function Jn(t){return Fr.getStore(t,pr.store)}function $n(t){return Fr.getStore(t,_r.store)}function tr(t){return t.path.toArray()}function er(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw v("Unknown remote document type");e=t.noDocument}return JSON.stringify(e).length}var nr=function(){function t(){this.collectionParentIndex=new rr}return t.prototype.addToCollectionParentIndex=function(t,e){return this.collectionParentIndex.add(e),Dn.resolve()},t.prototype.getCollectionParents=function(t,e){return Dn.resolve(this.collectionParentIndex.getEntries(e))},t}(),rr=function(){function t(){this.index={}}return t.prototype.add=function(t){g(t.length%2==1,"Expected a collection path.");var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new ne(at.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.getEntries=function(t){return(this.index[t]||new ne(at.comparator)).toArray()},t}(),ir=8,or=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,n,r){var i=this;g(n<r&&n>=0&&r<=ir,"Unexpected schema upgrade from v"+n+" to v{toVersion}."),n<1&&r>=1&&(function(t){t.createObjectStore(sr.store)}(t),function(t){t.createObjectStore(ur.store,{keyPath:ur.keyPath}),t.createObjectStore(cr.store,{keyPath:cr.keyPath,autoIncrement:!0}).createIndex(cr.userMutationsIndex,cr.userMutationsKeyPath,{unique:!0}),t.createObjectStore(lr.store)}(t),br(t),function(t){t.createObjectStore(pr.store)}(t));var o=Dn.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(mr.store),t.deleteObjectStore(yr.store),t.deleteObjectStore(vr.store)}(t),br(t)),o=o.next(function(){return function(t){var e=t.store(vr.store),n=new vr(0,0,$t.MIN.toTimestamp(),0);return e.put(vr.key,n)}(e)})),n<4&&r>=4&&(0!==n&&(o=o.next(function(){return function(t,e){return e.store(cr.store).loadAll().next(function(n){t.deleteObjectStore(cr.store),t.createObjectStore(cr.store,{keyPath:cr.keyPath,autoIncrement:!0}).createIndex(cr.userMutationsIndex,cr.userMutationsKeyPath,{unique:!0});var r=e.store(cr.store),i=n.map(function(t){return r.put(t)});return Dn.waitFor(i)})}(t,e)})),o=o.next(function(){!function(t){t.createObjectStore(wr.store,{keyPath:wr.keyPath})}(t),function(t){t.createObjectStore(_r.store,{keyPath:"id",autoIncrement:!0})}(t)})),n<5&&r>=5&&(o=o.next(function(){return i.removeAcknowledgedMutations(e)})),n<6&&r>=6&&(o=o.next(function(){return function(t){t.createObjectStore(dr.store)}(t),i.addDocumentGlobal(e)})),n<7&&r>=7&&(o=o.next(function(){return i.ensureSequenceNumbers(e)})),n<8&&r>=8&&(o=o.next(function(){return i.createCollectionParentIndex(t,e)})),o},t.prototype.addDocumentGlobal=function(t){var e=0;return t.store(pr.store).iterate(function(t,n){e+=er(n)}).next(function(){var n=new dr(e);return t.store(dr.store).put(dr.key,n)})},t.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(ur.store),r=t.store(cr.store);return n.loadAll().next(function(n){return Dn.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.loadAll(cr.userMutationsIndex,i).next(function(r){return Dn.forEach(r,function(r){g(r.userId===n.userId,"Cannot process batch "+r.batchId+" from unexpected user");var i=e.serializer.fromDbMutationBatch(r);return An(t,n.userId,i).next(function(){})})})})})},t.prototype.ensureSequenceNumbers=function(t){var e=t.store(mr.store),n=t.store(pr.store);return Hn(t).next(function(t){var r=[];return n.iterate(function(n,i){var o=new at(n),a=function(t){return[0,bn(t)]}(o);r.push(e.get(a).next(function(n){return n?Dn.resolve():function(n){return e.put(new mr(0,bn(n),t))}(o)}))}).next(function(){return Dn.waitFor(r)})})},t.prototype.createCollectionParentIndex=function(t,e){t.createObjectStore(gr.store,{keyPath:gr.keyPath});var n=e.store(gr.store),r=new rr,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:bn(i)})}};return e.store(pr.store).iterate({keysOnly:!0},function(t,e){var n=new at(t);return i(n.popLast())}).next(function(){return e.store(lr.store).iterate({keysOnly:!0},function(t,e){var n=En(t[1]);return i(n.popLast())})})},t}(),ar=function(){return function(t,e){this.seconds=t,this.nanoseconds=e}}(),sr=function(){function t(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n}return t.store="owner",t.key="owner",t}(),ur=function(){function t(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n}return t.store="mutationQueues",t.keyPath="userId",t}(),cr=function(){function t(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i}return t.store="mutations",t.keyPath="batchId",t.userMutationsIndex="userMutationsIndex",t.userMutationsKeyPath=["userId","batchId"],t}(),lr=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,bn(e)]},t.key=function(t,e,n){return[t,bn(e),n]},t.store="documentMutations",t.PLACEHOLDER=new t,t}(),fr=function(){return function(t,e){this.path=t,this.readTime=e}}(),hr=function(){return function(t,e){this.path=t,this.version=e}}(),pr=function(){function t(t,e,n,r){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r}return t.store="remoteDocuments",t}(),dr=function(){function t(t){this.byteSize=t}return t.store="remoteDocumentGlobal",t.key="remoteDocumentGlobalKey",t}(),yr=function(){function t(t,e,n,r,i,o){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.query=o}return t.store="targets",t.keyPath="targetId",t.queryTargetsIndexName="queryTargetsIndex",t.queryTargetsKeyPath=["canonicalId","targetId"],t}(),mr=function(){function t(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n,g(0===t==(void 0!==n),"A target-document row must either have targetId == 0 and a defined sequence number, or a non-zero targetId and no sequence number")}return t.store="targetDocuments",t.keyPath=["targetId","path"],t.documentTargetsIndex="documentTargetsIndex",t.documentTargetsKeyPath=["path","targetId"],t}(),vr=function(){function t(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r}return t.key="targetGlobalKey",t.store="targetGlobal",t}(),gr=function(){function t(t,e){this.collectionId=t,this.parent=e}return t.store="collectionParents",t.keyPath=["collectionId","parent"],t}();function br(t){t.createObjectStore(mr.store,{keyPath:mr.keyPath}).createIndex(mr.documentTargetsIndex,mr.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(yr.store,{keyPath:yr.keyPath}).createIndex(yr.queryTargetsIndexName,yr.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(vr.store)}var _r=function(){function t(t){this.changes=t}return t.store="remoteDocumentChanges",t.keyPath="id",t}(),wr=function(){function t(t,e,n,r,i){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r,this.lastProcessedDocumentChangeId=i}return t.store="clientMetadata",t.keyPath="clientId",t}(),Er=[ur.store,cr.store,lr.store,pr.store,yr.store,sr.store,vr.store,mr.store].concat([wr.store,_r.store]).concat([dr.store]).concat([gr.store]),Cr=function(){function t(){this.collectionParentsCache=new rr}return t.prototype.addToCollectionParentIndex=function(t,e){if(g(e.length%2==1,"Expected a collection path."),this.collectionParentsCache.add(e)){g(e.length>=1,"Invalid collection path.");var n=e.lastSegment(),r=e.popLast();return Sr(t).put({collectionId:n,parent:bn(r)})}return Dn.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Y(e),""],!1,!0);return Sr(t).loadAll(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(En(o.parent))}return n})},t}();function Sr(t){return Fr.getStore(t,gr.store)}var Dr=function(){function t(t){this.remoteSerializer=t}return t.prototype.fromDbRemoteDocument=function(t){if(t.document)return this.remoteSerializer.fromDocument(t.document,!!t.hasCommittedMutations);if(t.noDocument){var e=ct.fromSegments(t.noDocument.path),n=this.fromDbTimestamp(t.noDocument.readTime);return new ht(e,n,{hasCommittedMutations:!!t.hasCommittedMutations})}return t.unknownDocument?(e=ct.fromSegments(t.unknownDocument.path),n=this.fromDbTimestamp(t.unknownDocument.version),new pt(e,n)):v("Unexpected DbRemoteDocument")},t.prototype.toDbRemoteDocument=function(t){if(t instanceof ft){var e=t.proto?t.proto:this.remoteSerializer.toDocument(t);return new pr(null,null,e,i=t.hasCommittedMutations)}if(t instanceof ht){var n=t.key.path.toArray(),r=this.toDbTimestamp(t.version),i=t.hasCommittedMutations;return new pr(null,new fr(n,r),null,i)}return t instanceof pt?(n=t.key.path.toArray(),r=this.toDbTimestamp(t.version),new pr(new hr(n,r),null,null,!0)):v("Unexpected MaybeDocumment")},t.prototype.toDbTimestamp=function(t){var e=t.toTimestamp();return new ar(e.seconds,e.nanoseconds)},t.prototype.fromDbTimestamp=function(t){var e=new et(t.seconds,t.nanoseconds);return $t.fromTimestamp(e)},t.prototype.toDbMutationBatch=function(t,e){var n=this,r=e.baseMutations.map(function(t){return n.remoteSerializer.toMutation(t)}),i=e.mutations.map(function(t){return n.remoteSerializer.toMutation(t)});return new cr(t,e.batchId,e.localWriteTime.toMillis(),r,i)},t.prototype.fromDbMutationBatch=function(t){var e=this,n=(t.baseMutations||[]).map(function(t){return e.remoteSerializer.fromMutation(t)}),r=t.mutations.map(function(t){return e.remoteSerializer.fromMutation(t)}),i=et.fromMillis(t.localWriteTimeMs);return new Cn(t.batchId,i,n,r)},t.prototype.toDbResourcePaths=function(t){var e=[];return t.forEach(function(t){e.push(bn(t.path))}),e},t.prototype.fromDbResourcePaths=function(t){for(var e=Re(),n=0,r=t;n<r.length;n++)e=e.add(new ct(En(r[n])));return e},t.prototype.fromDbTarget=function(t){var e,n=this.fromDbTimestamp(t.readTime);return e=void 0!==t.query.documents?this.remoteSerializer.fromDocumentsTarget(t.query):this.remoteSerializer.fromQueryTarget(t.query),new ee(e,t.targetId,te.Listen,t.lastListenSequenceNumber,n,t.resumeToken)},t.prototype.toDbTarget=function(t){g(te.Listen===t.purpose,"Only queries with purpose "+te.Listen+" may be stored, got "+t.purpose);var e,n,r=this.toDbTimestamp(t.snapshotVersion);return e=t.query.isDocumentQuery()?this.remoteSerializer.toDocumentsTarget(t.query):this.remoteSerializer.toQueryTarget(t.query),t.resumeToken instanceof Uint8Array?(g("YES"===process.env.USE_MOCK_PERSISTENCE,"Persisting non-string stream tokens is only supported with mock persistence ."),n=t.resumeToken.toString()):n=t.resumeToken,new yr(t.targetId,t.query.canonicalId(),r,n,t.sequenceNumber,e)},t}();function Or(t,e){var n=t[1],r=e[1],i=G(t[0],e[0]);return 0===i?G(n,r):i}var Tr=function(){function t(t){this.maxElements=t,this.buffer=new ne(Or),this.previousIndex=0}return t.prototype.nextIndex=function(){return++this.previousIndex},t.prototype.addElement=function(t){var e=[t,this.nextIndex()];if(this.buffer.size<this.maxElements)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Or(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!0,configurable:!0}),t}(),Ar={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Ir=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t.COLLECTION_DISABLED=-1,t.MINIMUM_CACHE_SIZE_BYTES=1048576,t.DEFAULT=new t(t.DEFAULT_CACHE_SIZE_BYTES=41943040,t.DEFAULT_COLLECTION_PERCENTILE=10,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3),t.DISABLED=new t(t.COLLECTION_DISABLED,0,0),t}(),xr=function(){function t(t,e,n){this.garbageCollector=t,this.asyncQueue=e,this.localStore=n,this.gcTask=null}return t.prototype.start=function(){g(null===this.gcTask,"Cannot start an already started LruScheduler"),this.garbageCollector.params.cacheSizeCollectionThreshold!==Ir.COLLECTION_DISABLED&&this.scheduleGC()},t.prototype.stop=function(){this.gcTask&&(this.gcTask.cancel(),this.gcTask=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.gcTask},enumerable:!0,configurable:!0}),t.prototype.scheduleGC=function(){var t=this;g(null===this.gcTask,"Cannot schedule GC while a task is pending");var e=this.hasRun?3e5:6e4;d("LruGarbageCollector","Garbage collection scheduled in "+e+"ms"),this.gcTask=this.asyncQueue.enqueueAfterDelay(ln.LruGarbageCollection,e,function(){return t.gcTask=null,t.hasRun=!0,t.localStore.collectGarbage(t.garbageCollector).then(function(){return t.scheduleGC()}).catch(Lr)})},t}(),kr=function(){function t(t,e){this.delegate=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.delegate.getSequenceNumberCount(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return Dn.resolve(fn.INVALID);var r=new Tr(e);return this.delegate.forEachTarget(t,function(t){return r.addElement(t.sequenceNumber)}).next(function(){return n.delegate.forEachOrphanedDocumentSequenceNumber(t,function(t){return r.addElement(t)})}).next(function(){return r.maxValue})},t.prototype.removeTargets=function(t,e,n){return this.delegate.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.delegate.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return this.params.cacheSizeCollectionThreshold===Ir.COLLECTION_DISABLED?(d("LruGarbageCollector","Garbage collection skipped; disabled"),Dn.resolve(Ar)):this.getCacheSize(t).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(d("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Ar):n.runGarbageCollection(t,e)})},t.prototype.getCacheSize=function(t){return this.delegate.getCacheSize(t)},t.prototype.runGarbageCollection=function(t,e){var n,r,i,o,a,s,u,c,l=this;return o=Date.now(),this.calculateTargetCount(t,this.params.percentileToCollect).next(function(e){return e>l.params.maximumSequenceNumbersToCollect?(d("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+l.params.maximumSequenceNumbersToCollect+" from "+e),r=l.params.maximumSequenceNumbersToCollect):r=e,a=Date.now(),l.nthSequenceNumber(t,r)}).next(function(r){return n=r,s=Date.now(),l.removeTargets(t,n,e)}).next(function(e){return i=e,u=Date.now(),l.removeOrphanedDocuments(t,n)}).next(function(t){return c=Date.now(),h()<=f.DEBUG&&d("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(a-o)+"ms\n\tDetermined least recently used "+r+" in "+(s-a)+"ms\n\tRemoved "+i+" targets in "+(u-s)+"ms\n\tRemoved "+t+" documents in "+(c-u)+"ms\nTotal Duration: "+(c-o)+"ms"),Dn.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})})},t}(),Rr="IndexedDbPersistence",Pr="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Nr="Another tab has exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs.",jr="This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.",Mr=function(t){function e(e,n){var r=t.call(this)||this;return r.simpleDbTransaction=e,r.currentSequenceNumber=n,r}return a.__extends(e,t),e}(function(){return function(){}}()),Fr=function(){function t(e,n,r,i,o,a,s){if(this.persistenceKey=e,this.clientId=n,this.queue=i,this.multiClientParams=s,this._started=!1,this.isPrimary=!1,this.networkEnabled=!0,this.inForeground=!1,this.lastGarbageCollectionTime=Number.NEGATIVE_INFINITY,this.primaryStateListener=function(t){return Promise.resolve()},!t.isAvailable())throw new E(w.UNIMPLEMENTED,jr);if(this.referenceDelegate=new Ur(this,a),this.dbName=e+t.MAIN_DATABASE,this.serializer=new Dr(o),this.document=r.document,this.allowTabSynchronization=void 0!==s,this.queryCache=new Un(this.referenceDelegate,this.serializer),this.indexManager=new Cr,this.remoteDocumentCache=new Yn(this.serializer,this.indexManager,this.allowTabSynchronization),!r.window||!r.window.localStorage)throw new E(w.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");this.window=r.window,this.webStorage=this.window.localStorage}return t.getStore=function(t,e){if(t instanceof Mr)return Mn.getStore(t.simpleDbTransaction,e);throw v("IndexedDbPersistence must use instances of IndexedDbTransaction")},t.createIndexedDbPersistence=function(e,n,r,i,o,s){return a.__awaiter(this,void 0,void 0,function(){var u;return a.__generator(this,function(a){switch(a.label){case 0:return[4,(u=new t(e,n,r,i,o,s)).start()];case 1:return a.sent(),[2,u]}})})},t.createMultiClientIndexedDbPersistence=function(e,n,r,i,o,s,u){return a.__awaiter(this,void 0,void 0,function(){var c;return a.__generator(this,function(a){switch(a.label){case 0:return[4,(c=new t(e,n,r,i,o,s,u)).start()];case 1:return a.sent(),[2,c]}})})},t.prototype.start=function(){var t=this;return g(!this.started,"IndexedDbPersistence double-started!"),g(null!==this.window,"Expected 'window' to be defined"),Mn.openOrCreate(this.dbName,ir,new or(this.serializer)).then(function(e){return t.simpleDb=e,t.updateClientMetadataAndTryBecomePrimary()}).then(function(){return t.attachVisibilityHandler(),t.attachWindowUnloadHook(),t.scheduleClientMetadataAndPrimaryLeaseRefreshes(),t.startRemoteDocumentCache()}).then(function(){return t.simpleDb.runTransaction("readonly",[vr.store],function(e){return Hn(e).next(function(e){t.listenSequence=new fn(e,t.multiClientParams?t.multiClientParams.sequenceNumberSyncer:void 0)})})}).then(function(){t._started=!0}).catch(function(e){return t.simpleDb&&t.simpleDb.close(),Promise.reject(e)})},t.prototype.startRemoteDocumentCache=function(){var t=this;return this.simpleDb.runTransaction("readonly",Er,function(e){return t.remoteDocumentCache.start(e)})},t.prototype.setPrimaryStateListener=function(t){var e=this;return this.primaryStateListener=function(n){return a.__awaiter(e,void 0,void 0,function(){return a.__generator(this,function(e){return this.started?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.simpleDb.setVersionChangeListener(function(n){return a.__awaiter(e,void 0,void 0,function(){return a.__generator(this,function(e){switch(e.label){case 0:return null!==n.newVersion?[3,2]:[4,t()];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.queue.enqueueAndForget(function(){return a.__awaiter(e,void 0,void 0,function(){return a.__generator(this,function(t){switch(t.label){case 0:return this.started?[4,this.updateClientMetadataAndTryBecomePrimary()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.updateClientMetadataAndTryBecomePrimary=function(){var t=this;return this.simpleDb.runTransaction("readwrite",Er,function(e){return Vr(e).put(new wr(t.clientId,Date.now(),t.networkEnabled,t.inForeground,t.remoteDocumentCache.lastProcessedDocumentChangeId)).next(function(){if(t.isPrimary)return t.verifyPrimaryLease(e).next(function(e){e||(t.isPrimary=!1,t.queue.enqueueAndForget(function(){return t.primaryStateListener(!1)}))})}).next(function(){return t.canActAsPrimary(e)}).next(function(n){var r=t.isPrimary;return t.isPrimary=n,r!==t.isPrimary&&t.queue.enqueueAndForget(function(){return t.primaryStateListener(t.isPrimary)}),r&&!t.isPrimary?t.releasePrimaryLeaseIfHeld(e):t.isPrimary?t.acquireOrExtendPrimaryLease(e):void 0})})},t.prototype.verifyPrimaryLease=function(t){var e=this;return Br(t).get(sr.key).next(function(t){return Dn.resolve(e.isLocalClient(t))})},t.prototype.removeClientMetadata=function(t){return Vr(t).delete(this.clientId)},t.prototype.maybeGarbageCollectMultiClientState=function(){return a.__awaiter(this,void 0,void 0,function(){var e,n,r=this;return a.__generator(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.isWithinAge(this.lastGarbageCollectionTime,18e5)?[3,2]:(this.lastGarbageCollectionTime=Date.now(),n=[],[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(i){var o=t.getStore(i,wr.store);return o.loadAll().next(function(t){e=r.filterActiveClients(t,18e5),n=t.filter(function(t){return-1===e.indexOf(t)})}).next(function(){return Dn.forEach(n,function(t){return o.delete(t.clientId)})}).next(function(){if((e=e.filter(function(t){return t.clientId!==r.clientId})).length>0){var t=e.map(function(t){return t.lastProcessedDocumentChangeId||0}),n=Math.min.apply(Math,t);return r.remoteDocumentCache.removeDocumentChangesThroughChangeId(i,n)}})})]);case 1:i.sent(),n.forEach(function(t){r.window.localStorage.removeItem(r.zombiedClientLocalStorageKey(t.clientId))}),i.label=2;case 2:return[2]}})})},t.prototype.scheduleClientMetadataAndPrimaryLeaseRefreshes=function(){var t=this;this.clientMetadataRefresher=this.queue.enqueueAfterDelay(ln.ClientMetadataRefresh,4e3,function(){return t.updateClientMetadataAndTryBecomePrimary().then(function(){return t.maybeGarbageCollectMultiClientState()}).then(function(){return t.scheduleClientMetadataAndPrimaryLeaseRefreshes()})})},t.prototype.isLocalClient=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.canActAsPrimary=function(t){var e=this;return Br(t).get(sr.key).next(function(n){if(null!==n&&e.isWithinAge(n.leaseTimestampMs,5e3)&&!e.isClientZombied(n.ownerId)){if(e.isLocalClient(n)&&e.networkEnabled)return!0;if(!e.isLocalClient(n)){if(!n.allowTabSynchronization)throw new E(w.FAILED_PRECONDITION,Nr);return!1}}return!(!e.networkEnabled||!e.inForeground)||Vr(t).loadAll().next(function(t){return void 0===e.filterActiveClients(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&d(Rr,"Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.shutdown=function(){return a.__awaiter(this,void 0,void 0,function(){var t=this;return a.__generator(this,function(e){switch(e.label){case 0:return this._started=!1,this.markClientZombied(),this.clientMetadataRefresher&&this.clientMetadataRefresher.cancel(),this.detachVisibilityHandler(),this.detachWindowUnloadHook(),[4,this.simpleDb.runTransaction("readwrite",[sr.store,wr.store],function(e){return t.releasePrimaryLeaseIfHeld(e).next(function(){return t.removeClientMetadata(e)})})];case 1:return e.sent(),this.simpleDb.close(),this.removeClientZombiedEntry(),[2]}})})},t.prototype.filterActiveClients=function(t,e){var n=this;return t.filter(function(t){return n.isWithinAge(t.updateTimeMs,e)&&!n.isClientZombied(t.clientId)})},t.prototype.getActiveClients=function(){var t=this;return this.simpleDb.runTransaction("readonly",[wr.store],function(e){return Vr(e).loadAll().next(function(e){return t.filterActiveClients(e,18e5).map(function(t){return t.clientId})})})},t.clearPersistence=function(e){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(n){switch(n.label){case 0:return t.isAvailable()?[4,Mn.delete(e+t.MAIN_DATABASE)]:[2,Promise.resolve()];case 1:return n.sent(),[2]}})})},Object.defineProperty(t.prototype,"started",{get:function(){return this._started},enumerable:!0,configurable:!0}),t.prototype.getMutationQueue=function(t){return g(this.started,"Cannot initialize MutationQueue before persistence is started."),On.forUser(t,this.serializer,this.indexManager,this.referenceDelegate)},t.prototype.getQueryCache=function(){return g(this.started,"Cannot initialize QueryCache before persistence is started."),this.queryCache},t.prototype.getRemoteDocumentCache=function(){return g(this.started,"Cannot initialize RemoteDocumentCache before persistence is started."),this.remoteDocumentCache},t.prototype.getIndexManager=function(){return g(this.started,"Cannot initialize IndexManager before persistence is started."),this.indexManager},t.prototype.runTransaction=function(t,e,n){var r=this;return d(Rr,"Starting transaction:",t),this.simpleDb.runTransaction("readonly"===e?"readonly":"readwrite",Er,function(i){return"readwrite-primary"===e?r.verifyPrimaryLease(i).next(function(e){if(!e)throw y("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.queue.enqueueAndForget(function(){return r.primaryStateListener(!1)}),new E(w.FAILED_PRECONDITION,Pr);return n(new Mr(i,r.listenSequence.next()))}).next(function(t){return r.acquireOrExtendPrimaryLease(i).next(function(){return t})}):r.verifyAllowTabSynchronization(i).next(function(){return n(new Mr(i,r.listenSequence.next()))})})},t.prototype.verifyAllowTabSynchronization=function(t){var e=this;return Br(t).get(sr.key).next(function(t){if(null!==t&&e.isWithinAge(t.leaseTimestampMs,5e3)&&!e.isClientZombied(t.ownerId)&&!e.isLocalClient(t)&&!t.allowTabSynchronization)throw new E(w.FAILED_PRECONDITION,Nr)})},t.prototype.acquireOrExtendPrimaryLease=function(t){var e=new sr(this.clientId,this.allowTabSynchronization,Date.now());return Br(t).put(sr.key,e)},t.isAvailable=function(){return Mn.isAvailable()},t.buildStoragePrefix=function(t){var e=t.databaseId.projectId;return t.databaseId.isDefaultDatabase||(e+="."+t.databaseId.database),"firestore/"+t.persistenceKey+"/"+e+"/"},t.prototype.releasePrimaryLeaseIfHeld=function(t){var e=this,n=Br(t);return n.get(sr.key).next(function(t){return e.isLocalClient(t)?(d(Rr,"Releasing primary lease."),n.delete(sr.key)):Dn.resolve()})},t.prototype.isWithinAge=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(y("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.attachVisibilityHandler=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.documentVisibilityHandler=function(){t.queue.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.updateClientMetadataAndTryBecomePrimary()})},this.document.addEventListener("visibilitychange",this.documentVisibilityHandler),this.inForeground="visible"===this.document.visibilityState)},t.prototype.detachVisibilityHandler=function(){this.documentVisibilityHandler&&(g(null!==this.document&&"function"==typeof this.document.addEventListener,"Expected 'document.addEventListener' to be a function"),this.document.removeEventListener("visibilitychange",this.documentVisibilityHandler),this.documentVisibilityHandler=null)},t.prototype.attachWindowUnloadHook=function(){var t=this;"function"==typeof this.window.addEventListener&&(this.windowUnloadHandler=function(){t.markClientZombied(),t.queue.enqueueAndForget(function(){return t.shutdown()})},this.window.addEventListener("unload",this.windowUnloadHandler))},t.prototype.detachWindowUnloadHook=function(){this.windowUnloadHandler&&(g("function"==typeof this.window.removeEventListener,"Expected 'window.removeEventListener' to be a function"),this.window.removeEventListener("unload",this.windowUnloadHandler),this.windowUnloadHandler=null)},t.prototype.isClientZombied=function(t){try{var e=null!==this.webStorage.getItem(this.zombiedClientLocalStorageKey(t));return d(Rr,"Client '"+t+"' "+(e?"is":"is not")+" zombied in LocalStorage"),e}catch(n){return y(Rr,"Failed to get zombied client id.",n),!1}},t.prototype.markClientZombied=function(){try{this.webStorage.setItem(this.zombiedClientLocalStorageKey(this.clientId),String(Date.now()))}catch(t){y("Failed to set zombie client id.",t)}},t.prototype.removeClientZombiedEntry=function(){try{this.webStorage.removeItem(this.zombiedClientLocalStorageKey(this.clientId))}catch(t){}},t.prototype.zombiedClientLocalStorageKey=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t.MAIN_DATABASE="main",t}();function Lr(t){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(e){if(!function(t){return t.code===w.FAILED_PRECONDITION&&t.message===Pr}(t))throw t;return d(Rr,"Unexpectedly lost primary lease"),[2]})})}function Br(t){return t.store(sr.store)}function Vr(t){return t.store(wr.store)}var Ur=function(){function t(t,e){this.db=t,this.garbageCollector=new kr(this,e)}return t.prototype.getSequenceNumberCount=function(t){var e=this.orphanedDocmentCount(t);return this.db.getQueryCache().getQueryCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.orphanedDocmentCount=function(t){var e=0;return this.forEachOrphanedDocumentSequenceNumber(t,function(t){e++}).next(function(){return e})},t.prototype.forEachTarget=function(t,e){return this.db.getQueryCache().forEachTarget(t,e)},t.prototype.forEachOrphanedDocumentSequenceNumber=function(t,e){return this.forEachOrphanedDocument(t,function(t,n){return e(n)})},t.prototype.setInMemoryPins=function(t){this.inMemoryPins=t},t.prototype.addReference=function(t,e){return qr(t,e)},t.prototype.removeReference=function(t,e){return qr(t,e)},t.prototype.removeTargets=function(t,e,n){return this.db.getQueryCache().removeTargets(t,e,n)},t.prototype.removeMutationReference=function(t,e){return qr(t,e)},t.prototype.isPinned=function(t,e){return this.inMemoryPins.containsKey(e)?Dn.resolve(!0):function(t,e){var n=!1;return Rn(t).iterateSerial(function(r){return Tn(t,r,e).next(function(t){return t&&(n=!0),Dn.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=0,i=0,o=[];return this.forEachOrphanedDocument(t,function(a,s){if(s<=e){var u=n.isPinned(t,a).next(function(e){if(!e)return r++,n.removeOrphanedDocument(t,a).next(function(t){i+=t})});o.push(u)}}).next(function(){return Dn.waitFor(o)}).next(function(){return n.db.getRemoteDocumentCache().updateSize(t,-i)}).next(function(){return r})},t.prototype.removeOrphanedDocument=function(t,e){var n,r=0,i=this.db.getRemoteDocumentCache();return Dn.waitFor([Qn(t).delete((n=e,[0,bn(n.path)])),i.removeEntry(t,e).next(function(t){r+=t})]).next(function(){return r})},t.prototype.removeTarget=function(t,e){var n=e.copy({sequenceNumber:t.currentSequenceNumber});return this.db.getQueryCache().updateQueryData(t,n)},t.prototype.updateLimboDocument=function(t,e){return qr(t,e)},t.prototype.forEachOrphanedDocument=function(t,e){var n,r=Qn(t),i=fn.INVALID;return r.iterate({index:mr.documentTargetsIndex},function(t,r){var o=r.path,a=r.sequenceNumber;0===t[0]?(i!==fn.INVALID&&e(new ct(En(n)),i),i=a,n=o):i=fn.INVALID}).next(function(){i!==fn.INVALID&&e(new ct(En(n)),i)})},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function qr(t,e){return Qn(t).put(function(t,e){return new mr(0,bn(t.path),e)}(e,t.currentSequenceNumber))}var zr=function(){function t(t,e,n){this.remoteDocumentCache=t,this.mutationQueue=e,this.indexManager=n}return t.prototype.getDocument=function(t,e){var n=this;return this.mutationQueue.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(r){return n.getDocumentInternal(t,e,r)})},t.prototype.getDocumentInternal=function(t,e,n){return this.remoteDocumentCache.getEntry(t,e).next(function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].applyToLocalView(e,t);return t})},t.prototype.applyLocalMutationsToDocuments=function(t,e,n){var r=Oe();return e.forEach(function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].applyToLocalView(t,e);r=r.insert(t,e)}),r},t.prototype.getDocuments=function(t,e){var n=this;return this.remoteDocumentCache.getEntries(t,e).next(function(e){return n.getLocalViewOfDocuments(t,e)})},t.prototype.getLocalViewOfDocuments=function(t,e){var n=this;return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(r){var i=n.applyLocalMutationsToDocuments(t,e,r),o=De();return i.forEach(function(t,e){e||(e=new ht(t,$t.forDeletedDoc())),o=o.insert(t,e)}),o})},t.prototype.getDocumentsMatchingQuery=function(t,e){return e.isDocumentQuery()?this.getDocumentsMatchingDocumentQuery(t,e.path):e.isCollectionGroupQuery()?this.getDocumentsMatchingCollectionGroupQuery(t,e):this.getDocumentsMatchingCollectionQuery(t,e)},t.prototype.getDocumentsMatchingDocumentQuery=function(t,e){return this.getDocument(t,new ct(e)).next(function(t){var e=Ae();return t instanceof ft&&(e=e.insert(t.key,t)),e})},t.prototype.getDocumentsMatchingCollectionGroupQuery=function(t,e){var n=this;g(e.path.isEmpty(),"Currently we only support collection group queries at the root.");var r=e.collectionGroup,i=Ae();return this.indexManager.getCollectionParents(t,r).next(function(o){return Dn.forEach(o,function(o){var a=e.asCollectionQueryAtPath(o.child(r));return n.getDocumentsMatchingCollectionQuery(t,a).next(function(t){t.forEach(function(t,e){i=i.insert(t,e)})})}).next(function(){return i})})},t.prototype.getDocumentsMatchingCollectionQuery=function(t,e){var n,r=this;return this.remoteDocumentCache.getDocumentsMatchingQuery(t,e).next(function(i){return n=i,r.mutationQueue.getAllMutationBatchesAffectingQuery(t,e)}).next(function(t){for(var r=0,i=t;r<i.length;r++)for(var o=i[r],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key;if(e.path.isImmediateParentOf(c.path)){var l=n.get(c),f=u.applyToLocalView(l,l,o.localWriteTime);n=f instanceof ft?n.insert(c,f):n.remove(c)}}}).next(function(){return n.forEach(function(t,r){e.matches(r)||(n=n.remove(t))}),n})},t}(),Hr=function(){function t(){this.refsByKey=new ne(Qr.compareByKey),this.refsByTarget=new ne(Qr.compareByTargetId)}return t.prototype.isEmpty=function(){return this.refsByKey.isEmpty()},t.prototype.addReference=function(t,e){var n=new Qr(t,e);this.refsByKey=this.refsByKey.add(n),this.refsByTarget=this.refsByTarget.add(n)},t.prototype.addReferences=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.removeRef(new Qr(t,e))},t.prototype.removeReferences=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.removeReferencesForId=function(t){var e=this,n=ct.EMPTY,r=new Qr(n,t),i=new Qr(n,t+1),o=[];return this.refsByTarget.forEachInRange([r,i],function(t){e.removeRef(t),o.push(t.key)}),o},t.prototype.removeAllReferences=function(){var t=this;this.refsByKey.forEach(function(e){return t.removeRef(e)})},t.prototype.removeRef=function(t){this.refsByKey=this.refsByKey.delete(t),this.refsByTarget=this.refsByTarget.delete(t)},t.prototype.referencesForId=function(t){var e=ct.EMPTY,n=new Qr(e,t),r=new Qr(e,t+1),i=Re();return this.refsByTarget.forEachInRange([n,r],function(t){i=i.add(t.key)}),i},t.prototype.containsKey=function(t){var e=new Qr(t,0),n=this.refsByKey.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),Qr=function(){function t(t,e){this.key=t,this.targetOrBatchId=e}return t.compareByKey=function(t,e){return ct.comparator(t.key,e.key)||G(t.targetOrBatchId,e.targetOrBatchId)},t.compareByTargetId=function(t,e){return G(t.targetOrBatchId,e.targetOrBatchId)||ct.comparator(t.key,e.key)},t}(),Kr=function(){function t(t,e){this.persistence=t,this.localViewReferences=new Hr,this.queryDataByTarget={},g(t.started,"LocalStore was passed an unstarted persistence implementation"),this.persistence.referenceDelegate.setInMemoryPins(this.localViewReferences),this.mutationQueue=t.getMutationQueue(e),this.remoteDocuments=t.getRemoteDocumentCache(),this.queryCache=t.getQueryCache(),this.localDocuments=new zr(this.remoteDocuments,this.mutationQueue,this.persistence.getIndexManager())}return t.prototype.handleUserChange=function(t){var e=this;return this.persistence.runTransaction("Handle user change","readonly",function(n){var r;return e.mutationQueue.getAllMutationBatches(n).next(function(i){return r=i,e.mutationQueue=e.persistence.getMutationQueue(t),e.localDocuments=new zr(e.remoteDocuments,e.mutationQueue,e.persistence.getIndexManager()),e.mutationQueue.getAllMutationBatches(n)}).next(function(t){for(var i=[],o=[],a=Re(),s=0,u=r;s<u.length;s++){i.push((p=u[s]).batchId);for(var c=0,l=p.mutations;c<l.length;c++)a=a.add(l[c].key)}for(var f=0,h=t;f<h.length;f++){var p;o.push((p=h[f]).batchId);for(var d=0,y=p.mutations;d<y.length;d++)a=a.add(y[d].key)}return e.localDocuments.getDocuments(n,a).next(function(t){return{affectedDocuments:t,removedBatchIds:i,addedBatchIds:o}})})})},t.prototype.localWrite=function(t){var e=this,n=et.now(),r=t.reduce(function(t,e){return t.add(e.key)},Re());return this.persistence.runTransaction("Locally write mutations","readwrite",function(i){return e.localDocuments.getDocuments(i,r).next(function(r){for(var o=[],a=0,s=t;a<s.length;a++){var u=s[a],c=r.get(u.key);if(!u.isIdempotent){var l=u.fieldMask;if(l){var f=c instanceof ft?l.applyTo(c.data):Nt.EMPTY;o.push(new fe(u.key,f,l,ue.exists(!0)))}}}return e.mutationQueue.addMutationBatch(i,n,o,t).next(function(t){var e=t.applyToLocalDocumentSet(r);return{batchId:t.batchId,changes:e}})})})},t.prototype.lookupMutationDocuments=function(t){var e=this;return this.persistence.runTransaction("Lookup mutation documents","readonly",function(n){return e.mutationQueue.lookupMutationKeys(n,t).next(function(t){return t?e.localDocuments.getDocuments(n,t):Dn.resolve(null)})})},t.prototype.acknowledgeBatch=function(t){var e=this;return this.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(n){var r=t.batch.keys(),i=e.remoteDocuments.newChangeBuffer();return e.mutationQueue.acknowledgeBatch(n,t.batch,t.streamToken).next(function(){return e.applyWriteToRemoteDocuments(n,t,i)}).next(function(){return i.apply(n)}).next(function(){return e.mutationQueue.performConsistencyCheck(n)}).next(function(){return e.localDocuments.getDocuments(n,r)})})},t.prototype.rejectBatch=function(t){var e=this;return this.persistence.runTransaction("Reject batch","readwrite-primary",function(n){var r;return e.mutationQueue.lookupMutationBatch(n,t).next(function(t){return g(null!==t,"Attempt to reject nonexistent batch!"),r=t.keys(),e.mutationQueue.removeMutationBatch(n,t)}).next(function(){return e.mutationQueue.performConsistencyCheck(n)}).next(function(){return e.localDocuments.getDocuments(n,r)})})},t.prototype.getLastStreamToken=function(){var t=this;return this.persistence.runTransaction("Get last stream token","readonly",function(e){return t.mutationQueue.getLastStreamToken(e)})},t.prototype.setLastStreamToken=function(t){var e=this;return this.persistence.runTransaction("Set last stream token","readwrite-primary",function(n){return e.mutationQueue.setLastStreamToken(n,t)})},t.prototype.getLastRemoteSnapshotVersion=function(){var t=this;return this.persistence.runTransaction("Get last remote snapshot version","readonly",function(e){return t.queryCache.getLastRemoteSnapshotVersion(e)})},t.prototype.applyRemoteEvent=function(e){var n=this,r=this.remoteDocuments.newChangeBuffer();return this.persistence.runTransaction("Apply remote event","readwrite-primary",function(i){var o=[],a=Re();O(e.targetChanges,function(r,s){var u=n.queryDataByTarget[r];if(u){s.addedDocuments.forEach(function(t){a=a.add(t)}),s.modifiedDocuments.forEach(function(t){a=a.add(t)}),o.push(n.queryCache.removeMatchingKeys(i,s.removedDocuments,r).next(function(){return n.queryCache.addMatchingKeys(i,s.addedDocuments,r)}));var c=s.resumeToken;if(c.length>0){var l=u;u=u.copy({resumeToken:c,snapshotVersion:e.snapshotVersion}),n.queryDataByTarget[r]=u,t.shouldPersistQueryData(l,u,s)&&o.push(n.queryCache.updateQueryData(i,u))}}});var s=De(),u=Re();e.documentUpdates.forEach(function(t,e){u=u.add(t)}),o.push(r.getEntries(i,u).next(function(t){e.documentUpdates.forEach(function(u,c){var l=t.get(u);null==l||c.version.isEqual($t.MIN)||a.has(c.key)&&!l.hasPendingWrites||c.version.compareTo(l.version)>=0?(r.addEntry(c),s=s.insert(u,c)):d("LocalStore","Ignoring outdated watch update for ",u,". Current version:",l.version," Watch version:",c.version),e.resolvedLimboDocuments.has(u)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(i,u))})}));var c=e.snapshotVersion;if(!c.isEqual($t.MIN)){var l=n.queryCache.getLastRemoteSnapshotVersion(i).next(function(t){return g(c.compareTo(t)>=0,"Watch stream reverted to previous snapshot?? "+c+" < "+t),n.queryCache.setTargetsMetadata(i,i.currentSequenceNumber,c)});o.push(l)}return Dn.waitFor(o).next(function(){return r.apply(i)}).next(function(){return n.localDocuments.getLocalViewOfDocuments(i,s)})})},t.shouldPersistQueryData=function(t,e,n){return 0!==e.resumeToken.length&&(0===t.resumeToken.length||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=this.RESUME_TOKEN_MAX_AGE_MICROS||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)},t.prototype.notifyLocalViewChanges=function(t){var e=this;return this.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(n){return Dn.forEach(t,function(t){return e.localViewReferences.addReferences(t.addedKeys,t.targetId),e.localViewReferences.removeReferences(t.removedKeys,t.targetId),Dn.forEach(t.removedKeys,function(t){return e.persistence.referenceDelegate.removeReference(n,t)})})})},t.prototype.nextMutationBatch=function(t){var e=this;return this.persistence.runTransaction("Get next mutation batch","readonly",function(n){return void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(n,t)})},t.prototype.readDocument=function(t){var e=this;return this.persistence.runTransaction("read document","readonly",function(n){return e.localDocuments.getDocument(n,t)})},t.prototype.allocateQuery=function(t){var e=this;return this.persistence.runTransaction("Allocate query","readwrite",function(n){var r;return e.queryCache.getQueryData(n,t).next(function(i){return i?(r=i,Dn.resolve()):e.queryCache.allocateTargetId(n).next(function(i){return r=new ee(t,i,te.Listen,n.currentSequenceNumber),e.queryCache.addQueryData(n,r)})}).next(function(){return g(!e.queryDataByTarget[r.targetId],"Tried to allocate an already allocated query: "+t),e.queryDataByTarget[r.targetId]=r,r})})},t.prototype.releaseQuery=function(t,e){var n=this;return this.persistence.runTransaction("Release query",e?"readwrite":"readwrite-primary",function(r){return n.queryCache.getQueryData(r,t).next(function(i){g(null!=i,"Tried to release nonexistent query: "+t);var o=i.targetId,a=n.queryDataByTarget[o],s=n.localViewReferences.removeReferencesForId(o);return delete n.queryDataByTarget[o],e?Dn.resolve():Dn.forEach(s,function(t){return n.persistence.referenceDelegate.removeReference(r,t)}).next(function(){return n.persistence.referenceDelegate.removeTarget(r,a)})})})},t.prototype.executeQuery=function(t){var e=this;return this.persistence.runTransaction("Execute query","readonly",function(n){return e.localDocuments.getDocumentsMatchingQuery(n,t)})},t.prototype.remoteDocumentKeys=function(t){var e=this;return this.persistence.runTransaction("Remote document keys","readonly",function(n){return e.queryCache.getMatchingKeysForTargetId(n,t)})},t.prototype.getActiveClients=function(){return this.persistence.getActiveClients()},t.prototype.removeCachedMutationBatchMetadata=function(t){this.mutationQueue.removeCachedMutationKeys(t)},t.prototype.setNetworkEnabled=function(t){this.persistence.setNetworkEnabled(t)},t.prototype.applyWriteToRemoteDocuments=function(t,e,n){var r=this,i=e.batch,o=i.keys(),a=Dn.resolve();return o.forEach(function(r){a=a.next(function(){return n.getEntry(t,r)}).next(function(t){var o=t,a=e.docVersions.get(r);g(null!==a,"ackVersions should contain every doc in the write."),(!o||o.version.compareTo(a)<0)&&((o=i.applyToRemoteDocument(r,o,e))?n.addEntry(o):g(!t,"Mutation batch "+i+" applied to document "+t+" resulted in null"))})}),a.next(function(){return r.mutationQueue.removeMutationBatch(t,i)})},t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.collect(n,e.queryDataByTarget)})},t.prototype.getQueryForTarget=function(t){var e=this;return this.queryDataByTarget[t]?Promise.resolve(this.queryDataByTarget[t].query):this.persistence.runTransaction("Get query data","readonly",function(n){return e.queryCache.getQueryDataForTarget(n,t).next(function(t){return t?t.query:null})})},t.prototype.getNewDocumentChanges=function(){var t=this;return this.persistence.runTransaction("Get new document changes","readonly",function(e){return t.remoteDocuments.getNewDocumentChanges(e)})},t.RESUME_TOKEN_MAX_AGE_MICROS=3e8,t}(),Gr=function(){function t(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.nextBatchId=1,this.lastStreamToken=_(),this.batchesByDocumentKey=new ne(Qr.compareByKey)}return t.prototype.checkEmpty=function(t){return Dn.resolve(0===this.mutationQueue.length)},t.prototype.acknowledgeBatch=function(t,e,n){var r=e.batchId,i=this.indexOfExistingBatchId(r,"acknowledged");g(0===i,"Can only acknowledge the first batch in the mutation queue");var o=this.mutationQueue[i];return g(r===o.batchId,"Queue ordering failure: expected batch "+r+", got batch "+o.batchId),this.lastStreamToken=n,Dn.resolve()},t.prototype.getLastStreamToken=function(t){return Dn.resolve(this.lastStreamToken)},t.prototype.setLastStreamToken=function(t,e){return this.lastStreamToken=e,Dn.resolve()},t.prototype.addMutationBatch=function(t,e,n,r){g(0!==r.length,"Mutation batches should not be empty");var i=this.nextBatchId;this.nextBatchId++,this.mutationQueue.length>0&&g(this.mutationQueue[this.mutationQueue.length-1].batchId<i,"Mutation batchIDs must be monotonically increasing order");var o=new Cn(i,e,n,r);this.mutationQueue.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.batchesByDocumentKey=this.batchesByDocumentKey.add(new Qr(u.key,i)),this.indexManager.addToCollectionParentIndex(t,u.key.path.popLast())}return Dn.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return Dn.resolve(this.findMutationBatch(e))},t.prototype.lookupMutationKeys=function(t,e){var n=this.findMutationBatch(e);return g(null!=n,"Failed to find local mutation batch."),Dn.resolve(n.keys())},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.indexOfBatchId(e+1),r=n<0?0:n;return Dn.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)},t.prototype.getAllMutationBatches=function(t){return Dn.resolve(this.mutationQueue.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new Qr(e,0),i=new Qr(e,Number.POSITIVE_INFINITY),o=[];return this.batchesByDocumentKey.forEachInRange([r,i],function(t){g(e.isEqual(t.key),"Should only iterate over a single key's batches");var r=n.findMutationBatch(t.targetOrBatchId);g(null!==r,"Batches in the index must exist in the main table"),o.push(r)}),Dn.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new ne(G);return e.forEach(function(t){var e=new Qr(t,0),i=new Qr(t,Number.POSITIVE_INFINITY);n.batchesByDocumentKey.forEachInRange([e,i],function(e){g(t.isEqual(e.key),"For each key, should only iterate over a single key's batches"),r=r.add(e.targetOrBatchId)})}),Dn.resolve(this.findMutationBatches(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){g(!e.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var n=e.path,r=n.length+1,i=n;ct.isDocumentKey(i)||(i=i.child(""));var o=new Qr(new ct(i),0),a=new ne(G);return this.batchesByDocumentKey.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(a=a.add(t.targetOrBatchId)),!0)},o),Dn.resolve(this.findMutationBatches(a))},t.prototype.findMutationBatches=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.findMutationBatch(t);null!==r&&n.push(r)}),n},t.prototype.removeMutationBatch=function(t,e){var n=this;g(0===this.indexOfExistingBatchId(e.batchId,"removed"),"Can only remove the first entry of the mutation queue"),this.mutationQueue.shift();var r=this.batchesByDocumentKey;return Dn.forEach(e.mutations,function(i){var o=new Qr(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.removeMutationReference(t,i.key)}).next(function(){n.batchesByDocumentKey=r})},t.prototype.removeCachedMutationKeys=function(t){},t.prototype.containsKey=function(t,e){var n=new Qr(e,0),r=this.batchesByDocumentKey.firstAfterOrEqual(n);return Dn.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return 0===this.mutationQueue.length&&g(this.batchesByDocumentKey.isEmpty(),"Document leak -- detected dangling mutation references when queue is empty."),Dn.resolve()},t.prototype.indexOfExistingBatchId=function(t,e){var n=this.indexOfBatchId(t);return g(n>=0&&n<this.mutationQueue.length,"Batches must exist to be "+e),n},t.prototype.indexOfBatchId=function(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId},t.prototype.findMutationBatch=function(t){var e=this.indexOfBatchId(t);if(e<0||e>=this.mutationQueue.length)return null;var n=this.mutationQueue[e];return g(n.batchId===t,"If found batch must match"),n},t}(),Wr=function(){function t(t){this.persistence=t,this.queries=new Kn(function(t){return t.canonicalId()}),this.lastRemoteSnapshotVersion=$t.MIN,this.highestTargetId=0,this.highestSequenceNumber=0,this.references=new Hr,this.targetCount=0,this.targetIdGenerator=jn.forQueryCache()}return t.prototype.getTargetCount=function(t){return Dn.resolve(this.targetCount)},t.prototype.forEachTarget=function(t,e){return this.queries.forEach(function(t,n){return e(n)}),Dn.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return Dn.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return Dn.resolve(this.highestSequenceNumber)},t.prototype.allocateTargetId=function(t){var e=this.targetIdGenerator.after(this.highestTargetId);return this.highestTargetId=e,Dn.resolve(e)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.highestSequenceNumber&&(this.highestSequenceNumber=e),Dn.resolve()},t.prototype.saveQueryData=function(t){this.queries.set(t.query,t);var e=t.targetId;e>this.highestTargetId&&(this.highestTargetId=e),t.sequenceNumber>this.highestSequenceNumber&&(this.highestSequenceNumber=t.sequenceNumber)},t.prototype.addQueryData=function(t,e){return g(!this.queries.has(e.query),"Adding a query that already exists"),this.saveQueryData(e),this.targetCount+=1,Dn.resolve()},t.prototype.updateQueryData=function(t,e){return g(this.queries.has(e.query),"Updating a non-existent query"),this.saveQueryData(e),Dn.resolve()},t.prototype.removeQueryData=function(t,e){return g(this.targetCount>0,"Removing a target from an empty cache"),g(this.queries.has(e.query),"Removing a non-existent target from the cache"),this.queries.delete(e.query),this.references.removeReferencesForId(e.targetId),this.targetCount-=1,Dn.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.queries.forEach(function(a,s){s.sequenceNumber<=e&&!n[s.targetId]&&(r.queries.delete(a),o.push(r.removeMatchingKeysForTargetId(t,s.targetId)),i++)}),Dn.waitFor(o).next(function(){return i})},t.prototype.getQueryCount=function(t){return Dn.resolve(this.targetCount)},t.prototype.getQueryData=function(t,e){var n=this.queries.get(e)||null;return Dn.resolve(n)},t.prototype.getQueryDataForTarget=function(t,e){return v("Not yet implemented.")},t.prototype.addMatchingKeys=function(t,e,n){this.references.addReferences(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.addReference(t,e))}),Dn.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){this.references.removeReferences(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.removeReference(t,e))}),Dn.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this.references.removeReferencesForId(e),Dn.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this.references.referencesForId(e);return Dn.resolve(n)},t.prototype.containsKey=function(t,e){return Dn.resolve(this.references.containsKey(e))},t}(),Yr=function(){function t(t,e){this.indexManager=t,this.sizer=e,this.docs=new dt(ct.comparator),this.newDocumentChanges=Re(),this.size=0}return t.prototype.addEntries=function(t,e,n){for(var r=[],i=0,o=e;i<o.length;i++){var a=o[i],s=a.maybeDocument.key;this.docs=this.docs.insert(s,a),this.newDocumentChanges=this.newDocumentChanges.add(s),r.push(this.indexManager.addToCollectionParentIndex(t,s.path.popLast()))}return this.size+=n,Dn.waitFor(r)},t.prototype.removeEntry=function(t,e){var n=this.docs.get(e);return n?(this.docs=this.docs.remove(e),this.size-=n.size,Dn.resolve(n.size)):Dn.resolve(0)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return Dn.resolve(n?n.maybeDocument:null)},t.prototype.getSizedEntry=function(t,e){return Dn.resolve(this.docs.get(e))},t.prototype.getEntries=function(t,e){var n=this,r=Oe();return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.maybeDocument:null)}),Dn.resolve(r)},t.prototype.getSizedEntries=function(t,e){var n=this,r=Oe(),i=new dt(ct.comparator);return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.maybeDocument:null),i=i.insert(t,e?e.size:0)}),Dn.resolve({maybeDocuments:r,sizeMap:i})},t.prototype.getDocumentsMatchingQuery=function(t,e){g(!e.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");for(var n=Ae(),r=new ct(e.path.child("")),i=this.docs.getIteratorFrom(r);i.hasNext();){var o=i.getNext(),a=o.value.maybeDocument;if(!e.path.isPrefixOf(o.key.path))break;a instanceof ft&&e.matches(a)&&(n=n.insert(a.key,a))}return Dn.resolve(n)},t.prototype.forEachDocumentKey=function(t,e){return Dn.forEach(this.docs,function(t){return e(t)})},t.prototype.getNewDocumentChanges=function(t){var e=this,n=De();return this.newDocumentChanges.forEach(function(t){var r=e.docs.get(t),i=r?r.maybeDocument:new ht(t,$t.forDeletedDoc());n=n.insert(t,i)}),this.newDocumentChanges=Re(),Dn.resolve(n)},t.prototype.newChangeBuffer=function(){return new Zr(this.sizer,this)},t.prototype.getSize=function(t){return Dn.resolve(this.size)},t}(),Zr=function(t){function e(e,n){var r=t.call(this)||this;return r.sizer=e,r.documentCache=n,r}return a.__extends(e,t),e.prototype.applyChanges=function(t){var e=this,n=this.assertChanges(),r=0,i=[];return n.forEach(function(t,n){var o=e.documentSizes.get(t);g(void 0!==o,"Attempting to change document "+t.toString()+" without having read it first");var a=e.sizer(n);r+=a-o,i.push({maybeDocument:n,size:a})}),this.documentCache.addEntries(t,i,r)},e.prototype.getFromCache=function(t,e){return this.documentCache.getSizedEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.documentCache.getSizedEntries(t,e)},e}(Gn),Xr=function(){function t(t,e){var n=this;this.clientId=t,this.mutationQueues={},this.listenSequence=new fn(0),this._started=!1,this._started=!0,this.referenceDelegate=e(this),this.queryCache=new Wr(this),this.indexManager=new nr,this.remoteDocumentCache=new Yr(this.indexManager,function(t){return n.referenceDelegate.documentSize(t)})}return t.createLruPersistence=function(e,n,r){return new t(e,function(t){return new ti(t,new Dr(n),r)})},t.createEagerPersistence=function(e){return new t(e,function(t){return new $r(t)})},t.prototype.shutdown=function(){return this._started=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this._started},enumerable:!0,configurable:!0}),t.prototype.getActiveClients=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(t){return[2,[this.clientId]]})})},t.prototype.setPrimaryStateListener=function(t){return t(!0)},t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(t){},t.prototype.getIndexManager=function(){return this.indexManager},t.prototype.getMutationQueue=function(t){var e=this.mutationQueues[t.toKey()];return e||(e=new Gr(this.indexManager,this.referenceDelegate),this.mutationQueues[t.toKey()]=e),e},t.prototype.getQueryCache=function(){return this.queryCache},t.prototype.getRemoteDocumentCache=function(){return this.remoteDocumentCache},t.prototype.runTransaction=function(t,e,n){var r=this;d("MemoryPersistence","Starting transaction:",t);var i=new Jr(this.listenSequence.next());return this.referenceDelegate.onTransactionStarted(),n(i).next(function(t){return r.referenceDelegate.onTransactionCommitted(i).next(function(){return t})}).toPromise()},t.prototype.mutationQueuesContainKey=function(t,e){return Dn.or((n=this.mutationQueues,r=[],T(n,function(t,e){return r.push(e)}),r).map(function(n){return function(){return n.containsKey(t,e)}}));var n,r},t}(),Jr=function(){return function(t){this.currentSequenceNumber=t}}(),$r=function(){function t(t){this.persistence=t}return t.prototype.setInMemoryPins=function(t){this.inMemoryPins=t},t.prototype.addReference=function(t,e){return this.orphanedDocuments.delete(e),Dn.resolve()},t.prototype.removeReference=function(t,e){return this.orphanedDocuments.add(e),Dn.resolve()},t.prototype.removeMutationReference=function(t,e){return this.orphanedDocuments.add(e),Dn.resolve()},t.prototype.removeTarget=function(t,e){var n=this,r=this.persistence.getQueryCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return n.orphanedDocuments.add(t)})}).next(function(){return r.removeQueryData(t,e)})},t.prototype.onTransactionStarted=function(){this.orphanedDocuments=new Set},t.prototype.onTransactionCommitted=function(t){var e=this,n=this.persistence.getRemoteDocumentCache();return Dn.forEach(this.orphanedDocuments,function(r){return e.isReferenced(t,r).next(function(e){return e?Dn.resolve():n.removeEntry(t,r).next(function(){})})})},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.isReferenced(t,e).next(function(t){t?n.orphanedDocuments.delete(e):n.orphanedDocuments.add(e)})},t.prototype.documentSize=function(t){return 0},t.prototype.isReferenced=function(t,e){var n=this;return Dn.or([function(){return n.persistence.getQueryCache().containsKey(t,e)},function(){return n.persistence.mutationQueuesContainKey(t,e)},function(){return Dn.resolve(n.inMemoryPins.containsKey(e))}])},t}(),ti=function(){function t(t,e,n){this.persistence=t,this.serializer=e,this.orphanedSequenceNumbers=new Kn(function(t){return bn(t.path)}),this.garbageCollector=new kr(this,n)}return t.prototype.onTransactionStarted=function(){},t.prototype.onTransactionCommitted=function(t){return Dn.resolve()},t.prototype.forEachTarget=function(t,e){return this.persistence.getQueryCache().forEachTarget(t,e)},t.prototype.getSequenceNumberCount=function(t){var e=this.orphanedDocumentCount(t);return this.persistence.getQueryCache().getTargetCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.orphanedDocumentCount=function(t){var e=0;return this.forEachOrphanedDocumentSequenceNumber(t,function(t){e++}).next(function(){return e})},t.prototype.forEachOrphanedDocumentSequenceNumber=function(t,e){var n=this;return Dn.forEach(this.orphanedSequenceNumbers,function(r,i){return n.isPinned(t,r,i).next(function(t){return t?Dn.resolve():e(i)})})},t.prototype.setInMemoryPins=function(t){this.inMemoryPins=t},t.prototype.removeTargets=function(t,e,n){return this.persistence.getQueryCache().removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=0,i=this.persistence.getRemoteDocumentCache();return i.forEachDocumentKey(t,function(o){return n.isPinned(t,o,e).next(function(e){return e?Dn.resolve():(r++,i.removeEntry(t,o).next())})}).next(function(){return r})},t.prototype.removeMutationReference=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),Dn.resolve()},t.prototype.removeTarget=function(t,e){var n=e.copy({sequenceNumber:t.currentSequenceNumber});return this.persistence.getQueryCache().updateQueryData(t,n)},t.prototype.addReference=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),Dn.resolve()},t.prototype.removeReference=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),Dn.resolve()},t.prototype.updateLimboDocument=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),Dn.resolve()},t.prototype.documentSize=function(t){var e,n=this.serializer.toDbRemoteDocument(t);if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw v("Unknown remote document type");e=n.noDocument}return JSON.stringify(e).length},t.prototype.isPinned=function(t,e,n){var r=this;return Dn.or([function(){return r.persistence.mutationQueuesContainKey(t,e)},function(){return Dn.resolve(r.inMemoryPins.containsKey(e))},function(){return r.persistence.getQueryCache().containsKey(t,e)},function(){var t=r.orphanedSequenceNumbers.get(e);return Dn.resolve(void 0!==t&&t>n)}])},t.prototype.getCacheSize=function(t){return this.persistence.getRemoteDocumentCache().getSize(t)},t}(),ei=function(){function t(t,e,n,r,i){this.queue=t,this.timerId=e,this.initialDelayMs=n,this.backoffFactor=r,this.maxDelayMs=i,this.timerPromise=null,this.lastAttemptTime=Date.now(),this.reset()}return t.prototype.reset=function(){this.currentBaseMs=0},t.prototype.resetToMax=function(){this.currentBaseMs=this.maxDelayMs},t.prototype.backoffAndRun=function(t){var e=this;this.cancel();var n=Math.floor(this.currentBaseMs+this.jitterDelayMs()),r=Math.max(0,Date.now()-this.lastAttemptTime),i=Math.max(0,n-r);this.currentBaseMs>0&&d("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.currentBaseMs+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.timerPromise=this.queue.enqueueAfterDelay(this.timerId,i,function(){return e.lastAttemptTime=Date.now(),t()}),this.currentBaseMs*=this.backoffFactor,this.currentBaseMs<this.initialDelayMs&&(this.currentBaseMs=this.initialDelayMs),this.currentBaseMs>this.maxDelayMs&&(this.currentBaseMs=this.maxDelayMs)},t.prototype.cancel=function(){null!==this.timerPromise&&(this.timerPromise.cancel(),this.timerPromise=null)},t.prototype.jitterDelayMs=function(){return(Math.random()-.5)*this.currentBaseMs},t}(),ni=function(t){return t[t.Initial=0]="Initial",t[t.Starting=1]="Starting",t[t.Open=2]="Open",t[t.Error=3]="Error",t[t.Backoff=4]="Backoff",t}({}),ri=1e3,ii=6e4,oi=1.5,ai=function(){function t(t,e,n,r,i,o){this.queue=t,this.idleTimerId=n,this.connection=r,this.credentialsProvider=i,this.listener=o,this.state=ni.Initial,this.closeCount=0,this.idleTimer=null,this.stream=null,this.backoff=new ei(t,e,ri,oi,ii)}return t.prototype.isStarted=function(){return this.state===ni.Starting||this.state===ni.Open||this.state===ni.Backoff},t.prototype.isOpen=function(){return this.state===ni.Open},t.prototype.start=function(){this.state!==ni.Error?(g(this.state===ni.Initial,"Already started"),this.auth()):this.performBackoff()},t.prototype.stop=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(t){switch(t.label){case 0:return this.isStarted()?[4,this.close(ni.Initial)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.inhibitBackoff=function(){g(!this.isStarted(),"Can only inhibit backoff in a stopped state"),this.state=ni.Initial,this.backoff.reset()},t.prototype.markIdle=function(){var t=this;this.isOpen()&&null===this.idleTimer&&(this.idleTimer=this.queue.enqueueAfterDelay(this.idleTimerId,6e4,function(){return t.handleIdleCloseTimer()}))},t.prototype.sendRequest=function(t){this.cancelIdleCheck(),this.stream.send(t)},t.prototype.handleIdleCloseTimer=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(t){return this.isOpen()?[2,this.close(ni.Initial)]:[2]})})},t.prototype.cancelIdleCheck=function(){this.idleTimer&&(this.idleTimer.cancel(),this.idleTimer=null)},t.prototype.close=function(t,e){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(n){switch(n.label){case 0:return g(this.isStarted(),"Only started streams should be closed."),g(t===ni.Error||Vt(e),"Can't provide an error when not in an error state."),this.cancelIdleCheck(),this.backoff.cancel(),this.closeCount++,t!==ni.Error?this.backoff.reset():e&&e.code===w.RESOURCE_EXHAUSTED?(y(e.toString()),y("Using maximum backoff delay to prevent overloading the backend."),this.backoff.resetToMax()):e&&e.code===w.UNAUTHENTICATED&&this.credentialsProvider.invalidateToken(),null!==this.stream&&(this.tearDown(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.onClose(e)];case 1:return n.sent(),[2]}})})},t.prototype.tearDown=function(){},t.prototype.auth=function(){var t=this;g(this.state===ni.Initial,"Must be in initial state to auth"),this.state=ni.Starting;var e=this.getCloseGuardedDispatcher(this.closeCount),n=this.closeCount;this.credentialsProvider.getToken().then(function(e){t.closeCount===n&&t.startStream(e)},function(n){e(function(){var e=new E(w.UNKNOWN,"Fetching auth token failed: "+n.message);return t.handleStreamClose(e)})})},t.prototype.startStream=function(t){var e=this;g(this.state===ni.Starting,"Trying to start stream in a non-starting state");var n=this.getCloseGuardedDispatcher(this.closeCount);this.stream=this.startRpc(t),this.stream.onOpen(function(){n(function(){return g(e.state===ni.Starting,"Expected stream to be in state Starting, but was "+e.state),e.state=ni.Open,e.listener.onOpen()})}),this.stream.onClose(function(t){n(function(){return e.handleStreamClose(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.performBackoff=function(){var t=this;g(this.state===ni.Error,"Should only perform backoff when in Error state"),this.state=ni.Backoff,this.backoff.backoffAndRun(function(){return a.__awaiter(t,void 0,void 0,function(){return a.__generator(this,function(t){return g(this.state===ni.Backoff,"Backoff elapsed but state is now: "+this.state),this.state=ni.Initial,this.start(),g(this.isStarted(),"PersistentStream should have started"),[2]})})})},t.prototype.handleStreamClose=function(t){return g(this.isStarted(),"Can't handle server close on non-started stream"),d("PersistentStream","close with error: "+t),this.stream=null,this.close(ni.Error,t)},t.prototype.getCloseGuardedDispatcher=function(t){var e=this;return function(n){e.queue.enqueueAndForget(function(){return e.closeCount===t?n():(d("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),si=function(t){function e(e,n,r,i,o){var a=t.call(this,e,ln.ListenStreamConnectionBackoff,ln.ListenStreamIdle,n,r,o)||this;return a.serializer=i,a}return a.__extends(e,t),e.prototype.startRpc=function(t){return this.connection.openStream("Listen",t)},e.prototype.onMessage=function(t){this.backoff.reset();var e=this.serializer.fromWatchChange(t),n=this.serializer.versionFromListenResponse(t);return this.listener.onWatchChange(e,n)},e.prototype.watch=function(t){var e={};e.database=this.serializer.encodedDatabaseId,e.addTarget=this.serializer.toTarget(t);var n=this.serializer.toListenRequestLabels(t);n&&(e.labels=n),this.sendRequest(e)},e.prototype.unwatch=function(t){var e={};e.database=this.serializer.encodedDatabaseId,e.removeTarget=t,this.sendRequest(e)},e}(ai),ui=function(t){function e(e,n,r,i,o){var a=t.call(this,e,ln.WriteStreamConnectionBackoff,ln.WriteStreamIdle,n,r,o)||this;return a.serializer=i,a.handshakeComplete_=!1,a}return a.__extends(e,t),Object.defineProperty(e.prototype,"handshakeComplete",{get:function(){return this.handshakeComplete_},enumerable:!0,configurable:!0}),e.prototype.start=function(){this.handshakeComplete_=!1,t.prototype.start.call(this)},e.prototype.tearDown=function(){this.handshakeComplete_&&this.writeMutations([])},e.prototype.startRpc=function(t){return this.connection.openStream("Write",t)},e.prototype.onMessage=function(t){if(g(!!t.streamToken,"Got a write response without a stream token"),this.lastStreamToken=t.streamToken,this.handshakeComplete_){this.backoff.reset();var e=this.serializer.fromWriteResults(t.writeResults,t.commitTime),n=this.serializer.fromVersion(t.commitTime);return this.listener.onMutationResult(n,e)}return g(!t.writeResults||0===t.writeResults.length,"Got mutation results for handshake"),this.handshakeComplete_=!0,this.listener.onHandshakeComplete()},e.prototype.writeHandshake=function(){g(this.isOpen(),"Writing handshake requires an opened stream"),g(!this.handshakeComplete_,"Handshake already completed");var t={};t.database=this.serializer.encodedDatabaseId,this.sendRequest(t)},e.prototype.writeMutations=function(t){var e=this;g(this.isOpen(),"Writing mutations requires an opened stream"),g(this.handshakeComplete_,"Handshake must be complete before writing mutations"),g(this.lastStreamToken.length>0,"Trying to write mutation without a token");var n={streamToken:this.lastStreamToken,writes:t.map(function(t){return e.serializer.toMutation(t)})};this.sendRequest(n)},e}(ai),ci=function(){function t(t,e,n,r){this.queue=t,this.connection=e,this.credentials=n,this.serializer=r}return t.prototype.newPersistentWriteStream=function(t){return new ui(this.queue,this.connection,this.credentials,this.serializer,t)},t.prototype.newPersistentWatchStream=function(t){return new si(this.queue,this.connection,this.credentials,this.serializer,t)},t.prototype.commit=function(t){var e=this,n={database:this.serializer.encodedDatabaseId,writes:t.map(function(t){return e.serializer.toMutation(t)})};return this.invokeRPC("Commit",n).then(function(t){return e.serializer.fromWriteResults(t.writeResults,t.commitTime)})},t.prototype.lookup=function(t){var e=this,n={database:this.serializer.encodedDatabaseId,documents:t.map(function(t){return e.serializer.toName(t)})};return this.invokeStreamingRPC("BatchGetDocuments",n).then(function(n){var r=De();n.forEach(function(t){var n=e.serializer.fromMaybeDocument(t);r=r.insert(n.key,n)});var i=[];return t.forEach(function(t){var e=r.get(t);g(!!e,"Missing entity in write response for "+t),i.push(e)}),i})},t.prototype.invokeRPC=function(t,e){var n=this;return this.credentials.getToken().then(function(r){return n.connection.invokeRPC(t,e,r)}).catch(function(t){throw t.code===w.UNAUTHENTICATED&&n.credentials.invalidateToken(),t})},t.prototype.invokeStreamingRPC=function(t,e){var n=this;return this.credentials.getToken().then(function(r){return n.connection.invokeStreamingRPC(t,e,r)}).catch(function(t){throw t.code===w.UNAUTHENTICATED&&n.credentials.invalidateToken(),t})},t}(),li=function(){function t(t){this.datastore=t,this.readVersions=xe(),this.mutations=[],this.committed=!1}return t.prototype.recordVersion=function(t){var e;if(t instanceof ft)e=t.version;else{if(!(t instanceof ht))throw v("Document in a transaction was a "+t.constructor.name);e=$t.forDeletedDoc()}var n=this.readVersions.get(t.key);if(null!==n){if(!e.isEqual(n))throw new E(w.ABORTED,"Document version changed between two reads.")}else this.readVersions=this.readVersions.insert(t.key,e)},t.prototype.lookup=function(t){var e=this;return this.committed?Promise.reject("Transaction has already completed."):this.mutations.length>0?Promise.reject("Transactions lookups are invalid after writes."):this.datastore.lookup(t).then(function(t){return t.forEach(function(t){t instanceof ht||t instanceof ft?e.recordVersion(t):v("Document in a transaction was a "+t.constructor.name)}),t})},t.prototype.write=function(t){if(this.committed)throw new E(w.FAILED_PRECONDITION,"Transaction has already completed.");this.mutations=this.mutations.concat(t)},t.prototype.precondition=function(t){var e=this.readVersions.get(t);return e?ue.updateTime(e):ue.NONE},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t);if(e&&e.isEqual($t.forDeletedDoc()))throw new E(w.FAILED_PRECONDITION,"Can't update a document that doesn't exist.");return e?ue.updateTime(e):ue.exists(!0)},t.prototype.set=function(t,e){this.write(e.toMutations(t,this.precondition(t)))},t.prototype.update=function(t,e){this.write(e.toMutations(t,this.preconditionForUpdate(t)))},t.prototype.delete=function(t){this.write([new pe(t,this.precondition(t))]),this.readVersions=this.readVersions.insert(t,$t.forDeletedDoc())},t.prototype.commit=function(){var t=this,e=this.readVersions;return this.mutations.forEach(function(t){e=e.remove(t.key)}),e.isEmpty()?this.datastore.commit(this.mutations).then(function(){t.committed=!0}):Promise.reject(Error("Every document read in a transaction must also be written."))},t}(),fi=function(t){return t[t.Unknown=0]="Unknown",t[t.Online=1]="Online",t[t.Offline=2]="Offline",t}({}),hi=function(t){return t[t.RemoteStore=0]="RemoteStore",t[t.SharedClientState=1]="SharedClientState",t}({}),pi=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state=fi.Unknown,this.watchStreamFailures=0,this.onlineStateTimer=null,this.shouldWarnClientIsOffline=!0}return t.prototype.handleWatchStreamStart=function(){var t=this;0===this.watchStreamFailures&&(this.setAndBroadcast(fi.Unknown),g(null===this.onlineStateTimer,"onlineStateTimer shouldn't be started yet"),this.onlineStateTimer=this.asyncQueue.enqueueAfterDelay(ln.OnlineStateTimeout,1e4,function(){return t.onlineStateTimer=null,g(t.state===fi.Unknown,"Timer should be canceled if we transitioned to a different state."),t.logClientOfflineWarningIfNecessary("Backend didn't respond within 10 seconds."),t.setAndBroadcast(fi.Offline),Promise.resolve()}))},t.prototype.handleWatchStreamFailure=function(t){this.state===fi.Online?(this.setAndBroadcast(fi.Unknown),g(0===this.watchStreamFailures,"watchStreamFailures must be 0"),g(null===this.onlineStateTimer,"onlineStateTimer must be null")):(this.watchStreamFailures++,this.watchStreamFailures>=1&&(this.clearOnlineStateTimer(),this.logClientOfflineWarningIfNecessary("Connection failed 1 times. Most recent error: "+t.toString()),this.setAndBroadcast(fi.Offline)))},t.prototype.set=function(t){this.clearOnlineStateTimer(),this.watchStreamFailures=0,t===fi.Online&&(this.shouldWarnClientIsOffline=!1),this.setAndBroadcast(t)},t.prototype.setAndBroadcast=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.logClientOfflineWarningIfNecessary=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.shouldWarnClientIsOffline?(y(e),this.shouldWarnClientIsOffline=!1):d("OnlineStateTracker",e)},t.prototype.clearOnlineStateTimer=function(){null!==this.onlineStateTimer&&(this.onlineStateTimer.cancel(),this.onlineStateTimer=null)},t}(),di=function(){function t(t,e,n,r){this.localStore=t,this.datastore=e,this.writePipeline=[],this.listenTargets={},this.watchChangeAggregator=null,this.networkEnabled=!1,this.isPrimary=!1,this.onlineStateTracker=new pi(n,r),this.watchStream=this.datastore.newPersistentWatchStream({onOpen:this.onWatchStreamOpen.bind(this),onClose:this.onWatchStreamClose.bind(this),onWatchChange:this.onWatchStreamChange.bind(this)}),this.writeStream=this.datastore.newPersistentWriteStream({onOpen:this.onWriteStreamOpen.bind(this),onClose:this.onWriteStreamClose.bind(this),onHandshakeComplete:this.onWriteHandshakeComplete.bind(this),onMutationResult:this.onMutationResult.bind(this)})}return t.prototype.start=function(){return this.enableNetwork()},t.prototype.enableNetwork=function(){return a.__awaiter(this,void 0,void 0,function(){var t;return a.__generator(this,function(e){switch(e.label){case 0:return this.networkEnabled=!0,this.canUseNetwork()?(t=this.writeStream,[4,this.localStore.getLastStreamToken()]):[3,3];case 1:return t.lastStreamToken=e.sent(),this.shouldStartWatchStream()?this.startWatchStream():this.onlineStateTracker.set(fi.Unknown),[4,this.fillWritePipeline()];case 2:e.sent(),e.label=3;case 3:return[2]}})})},t.prototype.disableNetwork=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(t){switch(t.label){case 0:return this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return t.sent(),this.onlineStateTracker.set(fi.Offline),[2]}})})},t.prototype.disableNetworkInternal=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(t){switch(t.label){case 0:return[4,this.writeStream.stop()];case 1:return t.sent(),[4,this.watchStream.stop()];case 2:return t.sent(),this.writePipeline.length>0&&(d("RemoteStore","Stopping write stream with "+this.writePipeline.length+" pending writes"),this.writePipeline=[]),this.cleanUpWatchStreamState(),[2]}})})},t.prototype.shutdown=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(t){switch(t.label){case 0:return d("RemoteStore","RemoteStore shutting down."),this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return t.sent(),this.onlineStateTracker.set(fi.Unknown),[2]}})})},t.prototype.listen=function(t){g(!S(this.listenTargets,t.targetId),"listen called with duplicate targetId!"),this.listenTargets[t.targetId]=t,this.shouldStartWatchStream()?this.startWatchStream():this.watchStream.isOpen()&&this.sendWatchRequest(t)},t.prototype.unlisten=function(t){g(S(this.listenTargets,t),"unlisten called without assigned target ID!"),delete this.listenTargets[t],this.watchStream.isOpen()&&this.sendUnwatchRequest(t),A(this.listenTargets)&&(this.watchStream.isOpen()?this.watchStream.markIdle():this.canUseNetwork()&&this.onlineStateTracker.set(fi.Unknown))},t.prototype.getQueryDataForTarget=function(t){return this.listenTargets[t]||null},t.prototype.getRemoteKeysForTarget=function(t){return this.syncEngine.getRemoteKeysForTarget(t)},t.prototype.sendWatchRequest=function(t){this.watchChangeAggregator.recordPendingTargetRequest(t.targetId),this.watchStream.watch(t)},t.prototype.sendUnwatchRequest=function(t){this.watchChangeAggregator.recordPendingTargetRequest(t),this.watchStream.unwatch(t)},t.prototype.startWatchStream=function(){g(this.shouldStartWatchStream(),"startWatchStream() called when shouldStartWatchStream() is false."),this.watchChangeAggregator=new Ge(this),this.watchStream.start(),this.onlineStateTracker.handleWatchStreamStart()},t.prototype.shouldStartWatchStream=function(){return this.canUseNetwork()&&!this.watchStream.isStarted()&&!A(this.listenTargets)},t.prototype.canUseNetwork=function(){return this.isPrimary&&this.networkEnabled},t.prototype.cleanUpWatchStreamState=function(){this.watchChangeAggregator=null},t.prototype.onWatchStreamOpen=function(){return a.__awaiter(this,void 0,void 0,function(){var t=this;return a.__generator(this,function(e){return O(this.listenTargets,function(e,n){t.sendWatchRequest(n)}),[2]})})},t.prototype.onWatchStreamClose=function(t){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(e){return void 0===t&&g(!this.shouldStartWatchStream(),"Watch stream was stopped gracefully while still needed."),this.cleanUpWatchStreamState(),this.shouldStartWatchStream()?(this.onlineStateTracker.handleWatchStreamFailure(t),this.startWatchStream()):this.onlineStateTracker.set(fi.Unknown),[2]})})},t.prototype.onWatchStreamChange=function(t,e){return a.__awaiter(this,void 0,void 0,function(){var n;return a.__generator(this,function(r){switch(r.label){case 0:return this.onlineStateTracker.set(fi.Online),t instanceof Qe&&t.state===He.Removed&&t.cause?[2,this.handleTargetError(t)]:(t instanceof qe?this.watchChangeAggregator.handleDocumentChange(t):t instanceof ze?this.watchChangeAggregator.handleExistenceFilter(t):(g(t instanceof Qe,"Expected watchChange to be an instance of WatchTargetChange"),this.watchChangeAggregator.handleTargetChange(t)),e.isEqual($t.MIN)?[3,3]:[4,this.localStore.getLastRemoteSnapshotVersion()]);case 1:return n=r.sent(),e.compareTo(n)>=0?[4,this.raiseWatchSnapshot(e)]:[3,3];case 2:r.sent(),r.label=3;case 3:return[2]}})})},t.prototype.raiseWatchSnapshot=function(t){var e=this;g(!t.isEqual($t.MIN),"Can't raise event for unknown SnapshotVersion");var n=this.watchChangeAggregator.createRemoteEvent(t);return O(n.targetChanges,function(n,r){if(r.resumeToken.length>0){var i=e.listenTargets[n];i&&(e.listenTargets[n]=i.copy({resumeToken:r.resumeToken,snapshotVersion:t}))}}),n.targetMismatches.forEach(function(t){var n=e.listenTargets[t];if(n){e.listenTargets[t]=n.copy({resumeToken:_()}),e.sendUnwatchRequest(t);var r=new ee(n.query,t,te.ExistenceFilterMismatch,n.sequenceNumber);e.sendWatchRequest(r)}}),this.syncEngine.applyRemoteEvent(n)},t.prototype.handleTargetError=function(t){var e=this;g(!!t.cause,"Handling target error without a cause");var n=t.cause,r=Promise.resolve();return t.targetIds.forEach(function(t){r=r.then(function(){return a.__awaiter(e,void 0,void 0,function(){return a.__generator(this,function(e){return S(this.listenTargets,t)?(delete this.listenTargets[t],this.watchChangeAggregator.removeTarget(t),[2,this.syncEngine.rejectListen(t,n)]):[2]})})})}),r},t.prototype.fillWritePipeline=function(){return a.__awaiter(this,void 0,void 0,function(){var t;return a.__generator(this,function(e){switch(e.label){case 0:return this.canAddToWritePipeline()?[4,this.localStore.nextMutationBatch(this.writePipeline.length>0?this.writePipeline[this.writePipeline.length-1].batchId:-1)]:[3,4];case 1:return null!==(t=e.sent())?[3,2]:(0===this.writePipeline.length&&this.writeStream.markIdle(),[3,4]);case 2:return this.addToWritePipeline(t),[4,this.fillWritePipeline()];case 3:e.sent(),e.label=4;case 4:return this.shouldStartWriteStream()&&this.startWriteStream(),[2]}})})},t.prototype.canAddToWritePipeline=function(){return this.canUseNetwork()&&this.writePipeline.length<10},t.prototype.outstandingWrites=function(){return this.writePipeline.length},t.prototype.addToWritePipeline=function(t){g(this.canAddToWritePipeline(),"addToWritePipeline called when pipeline is full"),this.writePipeline.push(t),this.writeStream.isOpen()&&this.writeStream.handshakeComplete&&this.writeStream.writeMutations(t.mutations)},t.prototype.shouldStartWriteStream=function(){return this.canUseNetwork()&&!this.writeStream.isStarted()&&this.writePipeline.length>0},t.prototype.startWriteStream=function(){g(this.shouldStartWriteStream(),"startWriteStream() called when shouldStartWriteStream() is false."),this.writeStream.start()},t.prototype.onWriteStreamOpen=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(t){return this.writeStream.writeHandshake(),[2]})})},t.prototype.onWriteHandshakeComplete=function(){var t=this;return this.localStore.setLastStreamToken(this.writeStream.lastStreamToken).then(function(){for(var e=0,n=t.writePipeline;e<n.length;e++)t.writeStream.writeMutations(n[e].mutations)}).catch(Lr)},t.prototype.onMutationResult=function(t,e){var n=this;g(this.writePipeline.length>0,"Got result for empty write pipeline");var r=this.writePipeline.shift(),i=Sn.from(r,t,e,this.writeStream.lastStreamToken);return this.syncEngine.applySuccessfulWrite(i).then(function(){return n.fillWritePipeline()})},t.prototype.onWriteStreamClose=function(t){return a.__awaiter(this,void 0,void 0,function(){var e=this;return a.__generator(this,function(n){return void 0===t&&g(!this.shouldStartWriteStream(),"Write stream was stopped gracefully while still needed."),t&&this.writePipeline.length>0?[2,(this.writeStream.handshakeComplete?this.handleWriteError(t):this.handleHandshakeError(t)).then(function(){e.shouldStartWriteStream()&&e.startWriteStream()})]:[2]})})},t.prototype.handleHandshakeError=function(t){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(e){return we(t.code)?(d("RemoteStore","RemoteStore error before completed handshake; resetting stream token: ",this.writeStream.lastStreamToken),this.writeStream.lastStreamToken=_(),[2,this.localStore.setLastStreamToken(_()).catch(Lr)]):[2]})})},t.prototype.handleWriteError=function(t){return a.__awaiter(this,void 0,void 0,function(){var e,n=this;return a.__generator(this,function(r){return we(i=t.code)&&i!==w.ABORTED?(e=this.writePipeline.shift(),this.writeStream.inhibitBackoff(),[2,this.syncEngine.rejectFailedWrite(e.batchId,t).then(function(){return n.fillWritePipeline()})]):[2];var i})})},t.prototype.createTransaction=function(){return new li(this.datastore)},t.prototype.handleCredentialChange=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(t){switch(t.label){case 0:return this.canUseNetwork()?(d("RemoteStore","RemoteStore restarting streams for new credential"),this.networkEnabled=!1,[4,this.disableNetworkInternal()]):[3,3];case 1:return t.sent(),this.onlineStateTracker.set(fi.Unknown),[4,this.enableNetwork()];case 2:t.sent(),t.label=3;case 3:return[2]}})})},t.prototype.applyPrimaryState=function(t){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(e){switch(e.label){case 0:return this.isPrimary=t,t&&this.networkEnabled?[4,this.enableNetwork()]:[3,2];case 1:return e.sent(),[3,4];case 2:return t?[3,4]:[4,this.disableNetworkInternal()];case 3:e.sent(),this.onlineStateTracker.set(fi.Unknown),e.label=4;case 4:return[2]}})})},t}(),yi=function(){return function(){this.listeners=[]}}(),mi=function(){function t(t){this.syncEngine=t,this.queries=new Kn(function(t){return t.canonicalId()}),this.onlineState=fi.Unknown,this.syncEngine.subscribe(this)}return t.prototype.listen=function(t){var e=t.query,n=!1,r=this.queries.get(e);return r||(n=!0,r=new yi,this.queries.set(e,r)),r.listeners.push(t),t.applyOnlineStateChange(this.onlineState),r.viewSnap&&t.onViewSnapshot(r.viewSnap),n?this.syncEngine.listen(e).then(function(t){return r.targetId=t,t}):Promise.resolve(r.targetId)},t.prototype.unlisten=function(t){return a.__awaiter(this,void 0,void 0,function(){var e,n,r,i;return a.__generator(this,function(o){return n=!1,(r=this.queries.get(e=t.query))&&(i=r.listeners.indexOf(t))>=0&&(r.listeners.splice(i,1),n=0===r.listeners.length),n?(this.queries.delete(e),[2,this.syncEngine.unlisten(e)]):[2]})})},t.prototype.onWatchChange=function(t){for(var e=0,n=t;e<n.length;e++){var r=n[e],i=this.queries.get(r.query);if(i){for(var o=0,a=i.listeners;o<a.length;o++)a[o].onViewSnapshot(r);i.viewSnap=r}}},t.prototype.onWatchError=function(t,e){var n=this.queries.get(t);if(n)for(var r=0,i=n.listeners;r<i.length;r++)i[r].onError(e);this.queries.delete(t)},t.prototype.onOnlineStateChange=function(t){this.onlineState=t,this.queries.forEach(function(e,n){for(var r=0,i=n.listeners;r<i.length;r++)i[r].applyOnlineStateChange(t)})},t}(),vi=function(){function t(t,e,n){this.query=t,this.queryObserver=e,this.raisedInitialEvent=!1,this.onlineState=fi.Unknown,this.options=n||{}}return t.prototype.onViewSnapshot=function(t){if(g(t.docChanges.length>0||t.syncStateChanged,"We got a new snapshot with no changes?"),!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];i.type!==Me.Metadata&&e.push(i)}t=new Be(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}this.raisedInitialEvent?this.shouldRaiseEvent(t)&&this.queryObserver.next(t):this.shouldRaiseInitialEvent(t,this.onlineState)&&this.raiseInitialEvent(t),this.snap=t},t.prototype.onError=function(t){this.queryObserver.error(t)},t.prototype.applyOnlineStateChange=function(t){this.onlineState=t,this.snap&&!this.raisedInitialEvent&&this.shouldRaiseInitialEvent(this.snap,t)&&this.raiseInitialEvent(this.snap)},t.prototype.shouldRaiseInitialEvent=function(t,e){return g(!this.raisedInitialEvent,"Determining whether to raise first event but already had first event"),!t.fromCache||(this.options.waitForSyncWhenOnline&&e!==fi.Offline?(g(t.fromCache,"Waiting for sync, but snapshot is not from cache"),!1):!t.docs.isEmpty()||e===fi.Offline)},t.prototype.shouldRaiseEvent=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.snap&&this.snap.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.raiseInitialEvent=function(t){g(!this.raisedInitialEvent,"Trying to raise initial events for second time"),t=Be.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.raisedInitialEvent=!0,this.queryObserver.next(t)},t}(),gi=function(){function t(t,e,n){this.targetId=t,this.addedKeys=e,this.removedKeys=n}return t.fromSnapshot=function(e,n){for(var r=Re(),i=Re(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case Me.Added:r=r.add(s.doc.key);break;case Me.Removed:i=i.add(s.doc.key)}}return new t(e,r,i)},t}(),bi=function(){return function(t){this.key=t}}(),_i=function(){return function(t){this.key=t}}(),wi=function(){function t(t,e){this.query=t,this._syncedDocuments=e,this.syncState=null,this.current=!1,this.limboDocuments=Re(),this.mutatedKeys=Re(),this.documentSet=new je(t.docComparator.bind(t))}return Object.defineProperty(t.prototype,"syncedDocuments",{get:function(){return this._syncedDocuments},enumerable:!0,configurable:!0}),t.prototype.computeDocChanges=function(t,e){var n=this,r=e?e.changeSet:new Le,i=e?e.documentSet:this.documentSet,o=e?e.mutatedKeys:this.mutatedKeys,a=i,s=!1,u=this.query.hasLimit()&&i.size===this.query.limit?i.last():null;if(t.inorderTraversal(function(t,e){var c=i.get(t),l=e instanceof ft?e:null;l&&(g(t.isEqual(l.key),"Mismatching keys found in document changes: "+t+" != "+l.key),l=n.query.matches(l)?l:null);var f=!!c&&n.mutatedKeys.has(c.key),h=!!l&&(l.hasLocalMutations||n.mutatedKeys.has(l.key)&&l.hasCommittedMutations),p=!1;c&&l?c.data.isEqual(l.data)?f!==h&&(r.track({type:Me.Metadata,doc:l}),p=!0):n.shouldWaitForSyncedDocument(c,l)||(r.track({type:Me.Modified,doc:l}),p=!0,u&&n.query.docComparator(l,u)>0&&(s=!0)):!c&&l?(r.track({type:Me.Added,doc:l}),p=!0):c&&!l&&(r.track({type:Me.Removed,doc:c}),p=!0,u&&(s=!0)),p&&(l?(a=a.add(l),o=h?o.add(t):o.delete(t)):(a=a.delete(t),o=o.delete(t)))}),this.query.hasLimit())for(;a.size>this.query.limit;){var c=a.last();a=a.delete(c.key),o=o.delete(c.key),r.track({type:Me.Removed,doc:c})}return g(!s||!e,"View was refilled using docs that themselves needed refilling."),{documentSet:a,changeSet:r,needsRefill:s,mutatedKeys:o}},t.prototype.shouldWaitForSyncedDocument=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this;g(!t.needsRefill,"Cannot apply changes that need a refill");var i=this.documentSet;this.documentSet=t.documentSet,this.mutatedKeys=t.mutatedKeys;var o=t.changeSet.getChanges();o.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case Me.Added:return 1;case Me.Modified:case Me.Metadata:return 2;case Me.Removed:return 0;default:return v("Unknown ChangeType: "+t)}};return n(t)-n(e)}(t.type,e.type)||r.query.docComparator(t.doc,e.doc)}),this.applyTargetChange(n);var a=e?this.updateLimboDocuments():[],s=0===this.limboDocuments.size&&this.current?Fe.Synced:Fe.Local,u=s!==this.syncState;return this.syncState=s,0!==o.length||u?{snapshot:new Be(this.query,t.documentSet,i,o,t.mutatedKeys,s===Fe.Local,u,!1),limboChanges:a}:{limboChanges:a}},t.prototype.applyOnlineStateChange=function(t){return this.current&&t===fi.Offline?(this.current=!1,this.applyChanges({documentSet:this.documentSet,changeSet:new Le,mutatedKeys:this.mutatedKeys,needsRefill:!1},!1)):{limboChanges:[]}},t.prototype.shouldBeInLimbo=function(t){return!this._syncedDocuments.has(t)&&!!this.documentSet.has(t)&&!this.documentSet.get(t).hasLocalMutations},t.prototype.applyTargetChange=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e._syncedDocuments=e._syncedDocuments.add(t)}),t.modifiedDocuments.forEach(function(t){return g(e._syncedDocuments.has(t),"Modified document "+t+" not found in view.")}),t.removedDocuments.forEach(function(t){return e._syncedDocuments=e._syncedDocuments.delete(t)}),this.current=t.current)},t.prototype.updateLimboDocuments=function(){var t=this;if(!this.current)return[];var e=this.limboDocuments;this.limboDocuments=Re(),this.documentSet.forEach(function(e){t.shouldBeInLimbo(e.key)&&(t.limboDocuments=t.limboDocuments.add(e.key))});var n=[];return e.forEach(function(e){t.limboDocuments.has(e)||n.push(new _i(e))}),this.limboDocuments.forEach(function(t){e.has(t)||n.push(new bi(t))}),n},t.prototype.synchronizeWithPersistedState=function(t,e){this._syncedDocuments=e,this.limboDocuments=Re();var n=this.computeDocChanges(t);return this.applyChanges(n,!0)},t.prototype.computeInitialSnapshot=function(){return Be.fromInitialDocuments(this.query,this.documentSet,this.mutatedKeys,this.syncState===Fe.Local)},t}(),Ei=function(){return function(t,e,n){this.query=t,this.targetId=e,this.view=n}}(),Ci=function(){return function(t){this.key=t}}(),Si=function(){function t(t,e,n,r){this.localStore=t,this.remoteStore=e,this.sharedClientState=n,this.currentUser=r,this.syncEngineListener=null,this.queryViewsByQuery=new Kn(function(t){return t.canonicalId()}),this.queryViewsByTarget={},this.limboTargetsByKey=new dt(ct.comparator),this.limboResolutionsByTarget={},this.limboDocumentRefs=new Hr,this.mutationUserCallbacks={},this.limboTargetIdGenerator=jn.forSyncEngine(),this.isPrimary=void 0,this.onlineState=fi.Unknown}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.isPrimary},enumerable:!0,configurable:!0}),t.prototype.subscribe=function(t){g(null!==t,"SyncEngine listener cannot be null"),g(null===this.syncEngineListener,"SyncEngine already has a subscriber."),this.syncEngineListener=t},t.prototype.listen=function(t){return a.__awaiter(this,void 0,void 0,function(){var e,n,r,i,o;return a.__generator(this,function(a){switch(a.label){case 0:return this.assertSubscribed("listen()"),(r=this.queryViewsByQuery.get(t))?(this.sharedClientState.addLocalQueryTarget(e=r.targetId),n=r.view.computeInitialSnapshot(),[3,4]):[3,1];case 1:return[4,this.localStore.allocateQuery(t)];case 2:return i=a.sent(),o=this.sharedClientState.addLocalQueryTarget(i.targetId),e=i.targetId,[4,this.initializeViewAndComputeSnapshot(i,"current"===o)];case 3:n=a.sent(),this.isPrimary&&this.remoteStore.listen(i),a.label=4;case 4:return this.syncEngineListener.onWatchChange([n]),[2,e]}})})},t.prototype.initializeViewAndComputeSnapshot=function(t,e){var n=this,r=t.query;return this.localStore.executeQuery(r).then(function(i){return n.localStore.remoteDocumentKeys(t.targetId).then(function(o){var a=new wi(r,o),s=a.computeDocChanges(i),u=Ue.createSynthesizedTargetChangeForCurrentChange(t.targetId,e&&n.onlineState!==fi.Offline),c=a.applyChanges(s,!0===n.isPrimary,u);g(0===c.limboChanges.length,"View returned limbo docs before target ack from the server."),g(!!c.snapshot,"applyChanges for new view should always return a snapshot");var l=new Ei(r,t.targetId,a);return n.queryViewsByQuery.set(r,l),n.queryViewsByTarget[t.targetId]=l,c.snapshot})})},t.prototype.synchronizeViewAndComputeSnapshot=function(t){var e=this;return this.localStore.executeQuery(t.query).then(function(n){return e.localStore.remoteDocumentKeys(t.targetId).then(function(r){return a.__awaiter(e,void 0,void 0,function(){var e;return a.__generator(this,function(i){return e=t.view.synchronizeWithPersistedState(n,r),this.isPrimary&&this.updateTrackedLimbos(t.targetId,e.limboChanges),[2,e]})})})})},t.prototype.unlisten=function(t){return a.__awaiter(this,void 0,void 0,function(){var e,n=this;return a.__generator(this,function(r){switch(r.label){case 0:return this.assertSubscribed("unlisten()"),g(!!(e=this.queryViewsByQuery.get(t)),"Trying to unlisten on query not found:"+t),this.isPrimary?(this.sharedClientState.removeLocalQueryTarget(e.targetId),this.sharedClientState.isActiveQueryTarget(e.targetId)?[3,2]:[4,this.localStore.releaseQuery(t,!1).then(function(){n.sharedClientState.clearQueryState(e.targetId),n.remoteStore.unlisten(e.targetId),n.removeAndCleanupQuery(e)}).catch(Lr)]):[3,3];case 1:r.sent(),r.label=2;case 2:return[3,5];case 3:return this.removeAndCleanupQuery(e),[4,this.localStore.releaseQuery(t,!0)];case 4:r.sent(),r.label=5;case 5:return[2]}})})},t.prototype.write=function(t,e){var n=this;return this.assertSubscribed("write()"),this.localStore.localWrite(t).then(function(t){return n.sharedClientState.addPendingMutation(t.batchId),n.addMutationCallback(t.batchId,e),n.emitNewSnapsAndNotifyLocalStore(t.changes)}).then(function(){return n.remoteStore.fillWritePipeline()})},t.prototype.wrapUpdateFunctionError=function(t){return t},t.prototype.runTransaction=function(t,e){var n=this;void 0===e&&(e=5),g(e>=0,"Got negative number of retries for transaction.");var r=this.remoteStore.createTransaction();return function(){try{var e=t(r);return!Vt(e)&&e.catch&&e.then?e.catch(function(t){return Promise.reject(n.wrapUpdateFunctionError(t))}):Promise.reject(Error("Transaction callback must return a Promise"))}catch(i){return Promise.reject(n.wrapUpdateFunctionError(i))}}().then(function(i){return r.commit().then(function(){return i}).catch(function(r){return 0===e?Promise.reject(r):n.runTransaction(t,e-1)})})},t.prototype.applyRemoteEvent=function(t){var e=this;return this.assertSubscribed("applyRemoteEvent()"),this.localStore.applyRemoteEvent(t).then(function(n){return T(t.targetChanges,function(t,n){var r=e.limboResolutionsByTarget[t];r&&(g(n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size<=1,"Limbo resolution for single document contains multiple changes."),n.addedDocuments.size>0?r.receivedDocument=!0:n.modifiedDocuments.size>0?g(r.receivedDocument,"Received change for limbo target document without add."):n.removedDocuments.size>0&&(g(r.receivedDocument,"Received remove for limbo target document without add."),r.receivedDocument=!1))}),e.emitNewSnapsAndNotifyLocalStore(n,t)}).catch(Lr)},t.prototype.applyOnlineStateChange=function(t,e){if(this.isPrimary&&e===hi.RemoteStore||!this.isPrimary&&e===hi.SharedClientState){var n=[];this.queryViewsByQuery.forEach(function(e,r){var i=r.view.applyOnlineStateChange(t);g(0===i.limboChanges.length,"OnlineState should not affect limbo documents."),i.snapshot&&n.push(i.snapshot)}),this.syncEngineListener.onOnlineStateChange(t),this.syncEngineListener.onWatchChange(n),this.onlineState=t,this.isPrimary&&this.sharedClientState.setOnlineState(t)}},t.prototype.rejectListen=function(t,e){return a.__awaiter(this,void 0,void 0,function(){var n,r,i,o,s,u,c=this;return a.__generator(this,function(a){switch(a.label){case 0:return this.assertSubscribed("rejectListens()"),this.sharedClientState.updateQueryState(t,"rejected",e),(r=(n=this.limboResolutionsByTarget[t])&&n.key)?(this.limboTargetsByKey=this.limboTargetsByKey.remove(r),delete this.limboResolutionsByTarget[t],i=(i=new dt(ct.comparator)).insert(r,new ht(r,$t.forDeletedDoc())),o=Re().add(r),s=new Ve($t.MIN,{},new ne(G),i,o),[2,this.applyRemoteEvent(s)]):[3,1];case 1:return g(!!(u=this.queryViewsByTarget[t]),"Unknown targetId: "+t),[4,this.localStore.releaseQuery(u.query,!1).then(function(){return c.removeAndCleanupQuery(u)}).catch(Lr)];case 2:a.sent(),this.syncEngineListener.onWatchError(u.query,e),a.label=3;case 3:return[2]}})})},t.prototype.applyBatchState=function(t,e,n){return a.__awaiter(this,void 0,void 0,function(){var r;return a.__generator(this,function(i){switch(i.label){case 0:return this.assertSubscribed("applyBatchState()"),[4,this.localStore.lookupMutationDocuments(t)];case 1:return null===(r=i.sent())?(d("SyncEngine","Cannot apply mutation batch with id: "+t),[2]):"pending"!==e?[3,3]:[4,this.remoteStore.fillWritePipeline()];case 2:return i.sent(),[3,4];case 3:"acknowledged"===e||"rejected"===e?(this.processUserCallback(t,n||null),this.localStore.removeCachedMutationBatchMetadata(t)):v("Unknown batchState: "+e),i.label=4;case 4:return[4,this.emitNewSnapsAndNotifyLocalStore(r)];case 5:return i.sent(),[2]}})})},t.prototype.applySuccessfulWrite=function(t){var e=this;this.assertSubscribed("applySuccessfulWrite()");var n=t.batch.batchId;return this.processUserCallback(n,null),this.localStore.acknowledgeBatch(t).then(function(t){return e.sharedClientState.updateMutationState(n,"acknowledged"),e.emitNewSnapsAndNotifyLocalStore(t)}).catch(Lr)},t.prototype.rejectFailedWrite=function(t,e){var n=this;return this.assertSubscribed("rejectFailedWrite()"),this.processUserCallback(t,e),this.localStore.rejectBatch(t).then(function(r){return n.sharedClientState.updateMutationState(t,"rejected",e),n.emitNewSnapsAndNotifyLocalStore(r)}).catch(Lr)},t.prototype.addMutationCallback=function(t,e){var n=this.mutationUserCallbacks[this.currentUser.toKey()];n||(n=new dt(G)),n=n.insert(t,e),this.mutationUserCallbacks[this.currentUser.toKey()]=n},t.prototype.processUserCallback=function(t,e){var n=this.mutationUserCallbacks[this.currentUser.toKey()];if(n){var r=n.get(t);r&&(g(t===n.minKey(),"Mutation callbacks processed out-of-order?"),e?r.reject(e):r.resolve(),n=n.remove(t)),this.mutationUserCallbacks[this.currentUser.toKey()]=n}},t.prototype.removeAndCleanupQuery=function(t){var e=this;if(this.sharedClientState.removeLocalQueryTarget(t.targetId),this.queryViewsByQuery.delete(t.query),delete this.queryViewsByTarget[t.targetId],this.isPrimary){var n=this.limboDocumentRefs.referencesForId(t.targetId);this.limboDocumentRefs.removeReferencesForId(t.targetId),n.forEach(function(t){e.limboDocumentRefs.containsKey(t)||e.removeLimboTarget(t)})}},t.prototype.removeLimboTarget=function(t){var e=this.limboTargetsByKey.get(t);null!==e&&(this.remoteStore.unlisten(e),this.limboTargetsByKey=this.limboTargetsByKey.remove(t),delete this.limboResolutionsByTarget[e])},t.prototype.updateTrackedLimbos=function(t,e){for(var n=0,r=e;n<r.length;n++){var i=r[n];i instanceof bi?(this.limboDocumentRefs.addReference(i.key,t),this.trackLimboChange(i)):i instanceof _i?(d("SyncEngine","Document no longer in limbo: "+i.key),this.limboDocumentRefs.removeReference(i.key,t),this.limboDocumentRefs.containsKey(i.key)||this.removeLimboTarget(i.key)):v("Unknown limbo change: "+JSON.stringify(i))}},t.prototype.trackLimboChange=function(t){var e=t.key;if(!this.limboTargetsByKey.get(e)){d("SyncEngine","New document in limbo: "+e);var n=this.limboTargetIdGenerator.next(),r=qt.atPath(e.path);this.limboResolutionsByTarget[n]=new Ci(e),this.remoteStore.listen(new ee(r,n,te.LimboResolution,fn.INVALID)),this.limboTargetsByKey=this.limboTargetsByKey.insert(e,n)}},t.prototype.currentLimboDocs=function(){return this.limboTargetsByKey},t.prototype.emitNewSnapsAndNotifyLocalStore=function(t,e){return a.__awaiter(this,void 0,void 0,function(){var n,r,i,o=this;return a.__generator(this,function(a){switch(a.label){case 0:return n=[],r=[],i=[],this.queryViewsByQuery.forEach(function(a,s){i.push(Promise.resolve().then(function(){var e=s.view.computeDocChanges(t);return e.needsRefill?o.localStore.executeQuery(s.query).then(function(t){return s.view.computeDocChanges(t,e)}):e}).then(function(t){var i=s.view.applyChanges(t,!0===o.isPrimary,e&&e.targetChanges[s.targetId]);if(o.updateTrackedLimbos(s.targetId,i.limboChanges),i.snapshot){o.isPrimary&&o.sharedClientState.updateQueryState(s.targetId,i.snapshot.fromCache?"not-current":"current"),n.push(i.snapshot);var a=gi.fromSnapshot(s.targetId,i.snapshot);r.push(a)}}))}),[4,Promise.all(i)];case 1:return a.sent(),this.syncEngineListener.onWatchChange(n),[4,this.localStore.notifyLocalViewChanges(r)];case 2:return a.sent(),[2]}})})},t.prototype.assertSubscribed=function(t){g(null!==this.syncEngineListener,"Trying to call "+t+" before calling subscribe().")},t.prototype.handleCredentialChange=function(t){return a.__awaiter(this,void 0,void 0,function(){var e,n;return a.__generator(this,function(r){switch(r.label){case 0:return e=!this.currentUser.isEqual(t),this.currentUser=t,e?[4,this.localStore.handleUserChange(t)]:[3,3];case 1:return n=r.sent(),this.sharedClientState.handleUserChange(t,n.removedBatchIds,n.addedBatchIds),[4,this.emitNewSnapsAndNotifyLocalStore(n.affectedDocuments)];case 2:r.sent(),r.label=3;case 3:return[4,this.remoteStore.handleCredentialChange()];case 4:return r.sent(),[2]}})})},t.prototype.applyPrimaryState=function(t){return a.__awaiter(this,void 0,void 0,function(){var e,n,r,i,o,s,u=this;return a.__generator(this,function(a){switch(a.label){case 0:return!0!==t||!0===this.isPrimary?[3,3]:(this.isPrimary=!0,[4,this.remoteStore.applyPrimaryState(!0)]);case 1:return a.sent(),e=this.sharedClientState.getAllActiveQueryTargets(),[4,this.synchronizeQueryViewsAndRaiseSnapshots(e.toArray())];case 2:for(n=a.sent(),r=0,i=n;r<i.length;r++)this.remoteStore.listen(i[r]);return[3,7];case 3:return!1!==t||!1===this.isPrimary?[3,7]:(this.isPrimary=!1,o=[],s=Promise.resolve(),O(this.queryViewsByTarget,function(t,e){u.sharedClientState.isLocalQueryTarget(t)?o.push(t):s=s.then(function(){return u.unlisten(e.query)}),u.remoteStore.unlisten(e.targetId)}),[4,s]);case 4:return a.sent(),[4,this.synchronizeQueryViewsAndRaiseSnapshots(o)];case 5:return a.sent(),this.resetLimboDocuments(),[4,this.remoteStore.applyPrimaryState(!1)];case 6:a.sent(),a.label=7;case 7:return[2]}})})},t.prototype.resetLimboDocuments=function(){var t=this;O(this.limboResolutionsByTarget,function(e){t.remoteStore.unlisten(e)}),this.limboDocumentRefs.removeAllReferences(),this.limboResolutionsByTarget=[],this.limboTargetsByKey=new dt(ct.comparator)},t.prototype.synchronizeQueryViewsAndRaiseSnapshots=function(t){for(var e=this,n=Promise.resolve(),r=[],i=[],o=function(t){n=n.then(function(){return a.__awaiter(e,void 0,void 0,function(){var e,n,o,s;return a.__generator(this,function(a){switch(a.label){case 0:return(n=this.queryViewsByTarget[t])?[4,this.localStore.releaseQuery(n.query,!0)]:[3,4];case 1:return a.sent(),[4,this.localStore.allocateQuery(n.query)];case 2:return e=a.sent(),[4,this.synchronizeViewAndComputeSnapshot(n)];case 3:return(o=a.sent()).snapshot&&i.push(o.snapshot),[3,8];case 4:return g(!0===this.isPrimary,"A secondary tab should never have an active query without an active view."),[4,this.localStore.getQueryForTarget(t)];case 5:return g(!!(s=a.sent()),"Query data for target "+t+" not found"),[4,this.localStore.allocateQuery(s)];case 6:return e=a.sent(),[4,this.initializeViewAndComputeSnapshot(e,!1)];case 7:a.sent(),a.label=8;case 8:return r.push(e),[2]}})})})},s=0,u=t;s<u.length;s++)o(u[s]);return n.then(function(){return e.syncEngineListener.onWatchChange(i),r})},t.prototype.getActiveClients=function(){return this.localStore.getActiveClients()},t.prototype.applyTargetState=function(t,e,n){return a.__awaiter(this,void 0,void 0,function(){var r,i=this;return a.__generator(this,function(o){switch(o.label){case 0:if(this.isPrimary)return d("SyncEngine","Ignoring unexpected query state notification."),[2];if(!this.queryViewsByTarget[t])return[3,5];switch(e){case"current":case"not-current":return[3,1];case"rejected":return[3,2]}return[3,4];case 1:return[2,this.localStore.getNewDocumentChanges().then(function(n){return a.__awaiter(i,void 0,void 0,function(){var r;return a.__generator(this,function(i){switch(i.label){case 0:return r=Ve.createSynthesizedRemoteEventForCurrentChange(t,"current"===e),[4,this.emitNewSnapsAndNotifyLocalStore(n,r)];case 1:return i.sent(),[2]}})})},function(t){return a.__awaiter(i,void 0,void 0,function(){var e;return a.__generator(this,function(n){switch(n.label){case 0:return function(t){return t.code===w.DATA_LOSS&&t.message===Wn}(t)?(e=[],O(this.queryViewsByTarget,function(t){return e.push(t)}),[4,this.synchronizeQueryViewsAndRaiseSnapshots(e)]):[3,2];case 1:return n.sent(),[3,3];case 2:throw t;case 3:return[2]}})})})];case 2:return this.removeAndCleanupQuery(r=this.queryViewsByTarget[t]),[4,this.localStore.releaseQuery(r.query,!0)];case 3:return o.sent(),this.syncEngineListener.onWatchError(r.query,n),[3,5];case 4:v("Unexpected target state: "+e),o.label=5;case 5:return[2]}})})},t.prototype.applyActiveTargetsChange=function(t,e){return a.__awaiter(this,void 0,void 0,function(){var n,r,i,o,s,u,c,l,f,h=this;return a.__generator(this,function(p){switch(p.label){case 0:if(!this.isPrimary)return[2];n=0,r=t,p.label=1;case 1:return n<r.length?(g(!this.queryViewsByTarget[f=r[n]],"Trying to add an already active target"),[4,this.localStore.getQueryForTarget(f)]):[3,6];case 2:return g(!!(i=p.sent()),"Query data for active target "+f+" not found"),[4,this.localStore.allocateQuery(i)];case 3:return o=p.sent(),[4,this.initializeViewAndComputeSnapshot(o,!1)];case 4:p.sent(),this.remoteStore.listen(o),p.label=5;case 5:return n++,[3,1];case 6:s=function(t){var e;return a.__generator(this,function(n){switch(n.label){case 0:return(e=u.queryViewsByTarget[t])?[4,u.localStore.releaseQuery(e.query,!1).then(function(){h.remoteStore.unlisten(t),h.removeAndCleanupQuery(e)}).catch(Lr)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})},u=this,c=0,l=e,p.label=7;case 7:return c<l.length?[5,s(f=l[c])]:[3,10];case 8:p.sent(),p.label=9;case 9:return c++,[3,7];case 10:return[2]}})})},t.prototype.enableNetwork=function(){return this.localStore.setNetworkEnabled(!0),this.remoteStore.enableNetwork()},t.prototype.disableNetwork=function(){return this.localStore.setNetworkEnabled(!1),this.remoteStore.disableNetwork()},t.prototype.getRemoteKeysForTarget=function(t){var e=this.limboResolutionsByTarget[t];return e&&e.receivedDocument?Re().add(e.key):this.queryViewsByTarget[t]?this.queryViewsByTarget[t].view.syncedDocuments:Re()},t}(),Di=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t.UNAUTHENTICATED=new t(null),t.GOOGLE_CREDENTIALS=new t("google-credentials-uid"),t.FIRST_PARTY=new t("first-party-uid"),t}(),Oi="SharedClientState",Ti="firestore_clients",Ai="firestore_mutations",Ii="firestore_targets",xi="firestore_online_state",ki="firestore_sequence_number",Ri=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r,g(void 0!==r==("rejected"===n),"MutationMetadata must contain an error iff state is 'rejected'")}return t.fromWebStorageEntry=function(e,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),a=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(a=new E(i.error.code,i.error.message)),o?new t(e,n,i.state,a):(y(Oi,"Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.toWebStorageJSON=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Pi=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n,g(void 0!==n==("rejected"===e),"QueryTargetMetadata must contain an error iff state is 'rejected'")}return t.fromWebStorageEntry=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new E(r.error.code,r.error.message)),i?new t(e,r.state,o):(y(Oi,"Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.toWebStorageJSON=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Ni=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.fromWebStorageEntry=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Ne(),a=0;i&&a<r.activeTargetIds.length;++a)i=Ut(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new t(e,o):(y(Oi,"Failed to parse client data for instance '"+e+"': "+n),null)},t}(),ji=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.fromWebStorageEntry=function(e){var n=JSON.parse(e);return"object"==typeof n&&void 0!==fi[n.onlineState]&&"string"==typeof n.clientId?new t(n.clientId,fi[n.onlineState]):(y(Oi,"Failed to parse online state: "+e),null)},t}(),Mi=function(){function t(){this.activeTargetIds=Ne()}return t.prototype.addQueryTarget=function(t){g(!this.activeTargetIds.has(t),"Target with ID '"+t+"' already active."),this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.removeQueryTarget=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.toWebStorageJSON=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Fi=function(){function t(e,n,r,i,o){if(this.queue=e,this.platform=n,this.persistenceKey=r,this.localClientId=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.activeClients={},this.storageListener=this.handleWebStorageEvent.bind(this),this.started=!1,this.earlyEvents=[],!t.isAvailable(this.platform))throw new E(w.UNIMPLEMENTED,"LocalStorage is not available on this platform.");var a=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.platform.window.localStorage,this.currentUser=o,this.localClientStorageKey=this.toWebStorageClientStateKey(this.localClientId),this.sequenceNumberKey=ki+"_"+r,this.activeClients[this.localClientId]=new Mi,this.clientStateKeyRe=new RegExp("^"+Ti+"_"+a+"_([^_]*)$"),this.mutationBatchKeyRe=new RegExp("^"+Ai+"_"+a+"_(\\d+)(?:_(.*))?$"),this.queryTargetKeyRe=new RegExp("^"+Ii+"_"+a+"_(\\d+)$"),this.onlineStateKey=xi+"_"+r,this.platform.window.addEventListener("storage",this.storageListener)}return t.isAvailable=function(t){return!(!t.window||null==t.window.localStorage)},t.prototype.start=function(){return a.__awaiter(this,void 0,void 0,function(){var t,e,n,r,i,o,s,u,c,l,f=this;return a.__generator(this,function(a){switch(a.label){case 0:return g(!this.started,"WebStorageSharedClientState already started"),g(null!==this.syncEngine,"syncEngine property must be set before calling start()"),g(null!==this.onlineStateHandler,"onlineStateHandler property must be set before calling start()"),[4,this.syncEngine.getActiveClients()];case 1:for(t=a.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.localClientId&&(i=this.getItem(this.toWebStorageClientStateKey(r)))&&(o=Ni.fromWebStorageEntry(r,i))&&(this.activeClients[o.clientId]=o);for(this.persistClientState(),(s=this.storage.getItem(this.onlineStateKey))&&(u=this.fromWebStorageOnlineState(s))&&this.handleOnlineStateEvent(u),c=0,l=this.earlyEvents;c<l.length;c++)this.handleWebStorageEvent(l[c]);return this.earlyEvents=[],this.platform.window.addEventListener("unload",function(){return f.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(t){this.setItem(this.sequenceNumberKey,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){var t=Ne();return T(this.activeClients,function(e,n){t=t.unionWith(n.activeTargetIds)}),t},t.prototype.isActiveQueryTarget=function(t){for(var e in this.activeClients)if(this.activeClients.hasOwnProperty(e)&&this.activeClients[e].activeTargetIds.has(t))return!0;return!1},t.prototype.addPendingMutation=function(t){this.persistMutationState(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.persistMutationState(t,e,n),this.removeMutationState(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(this.toWebStorageQueryTargetMetadataKey(t));if(n){var r=Pi.fromWebStorageEntry(t,n);r&&(e=r.state)}}return this.localClientState.addQueryTarget(t),this.persistClientState(),e},t.prototype.removeLocalQueryTarget=function(t){this.localClientState.removeQueryTarget(t),this.persistClientState()},t.prototype.isLocalQueryTarget=function(t){return this.localClientState.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(this.toWebStorageQueryTargetMetadataKey(t))},t.prototype.updateQueryState=function(t,e,n){this.persistQueryTargetState(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach(function(t){r.removeMutationState(t)}),this.currentUser=t,n.forEach(function(t){r.addPendingMutation(t)})},t.prototype.setOnlineState=function(t){this.persistOnlineState(t)},t.prototype.shutdown=function(){this.started&&(this.platform.window.removeEventListener("storage",this.storageListener),this.removeItem(this.localClientStorageKey),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return d(Oi,"READ",t,e),e},t.prototype.setItem=function(t,e){d(Oi,"SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){d(Oi,"REMOVE",t),this.storage.removeItem(t)},t.prototype.handleWebStorageEvent=function(t){var e=this;if(t.storageArea===this.storage){if(d(Oi,"EVENT",t.key,t.newValue),t.key===this.localClientStorageKey)return void y("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.queue.enqueueAndForget(function(){return a.__awaiter(e,void 0,void 0,function(){var e,n,r,i,o,s;return a.__generator(this,function(a){if(!this.started)return this.earlyEvents.push(t),[2];if(null===t.key)return[2];if(this.clientStateKeyRe.test(t.key)){if(null==t.newValue)return n=this.fromWebStorageClientStateKey(t.key),[2,this.handleClientStateEvent(n,null)];if(e=this.fromWebStorageClientState(t.key,t.newValue))return[2,this.handleClientStateEvent(e.clientId,e)]}else if(this.mutationBatchKeyRe.test(t.key)){if(null!==t.newValue&&(r=this.fromWebStorageMutationMetadata(t.key,t.newValue)))return[2,this.handleMutationBatchEvent(r)]}else if(this.queryTargetKeyRe.test(t.key)){if(null!==t.newValue&&(i=this.fromWebStorageQueryTargetMetadata(t.key,t.newValue)))return[2,this.handleQueryTargetEvent(i)]}else if(t.key===this.onlineStateKey){if(null!==t.newValue&&(o=this.fromWebStorageOnlineState(t.newValue)))return[2,this.handleOnlineStateEvent(o)]}else t.key===this.sequenceNumberKey&&(g(!!this.sequenceNumberHandler,"Missing sequenceNumberHandler"),(s=function(t){var e=fn.INVALID;if(null!=t)try{var n=JSON.parse(t);g("number"==typeof n,"Found non-numeric sequence number"),e=n}catch(r){y(Oi,"Failed to read sequence number from WebStorage",r)}return e}(t.newValue))!==fn.INVALID&&this.sequenceNumberHandler(s));return[2]})})})}},Object.defineProperty(t.prototype,"localClientState",{get:function(){return this.activeClients[this.localClientId]},enumerable:!0,configurable:!0}),t.prototype.persistClientState=function(){this.setItem(this.localClientStorageKey,this.localClientState.toWebStorageJSON())},t.prototype.persistMutationState=function(t,e,n){var r=new Ri(this.currentUser,t,e,n),i=this.toWebStorageMutationBatchKey(t);this.setItem(i,r.toWebStorageJSON())},t.prototype.removeMutationState=function(t){var e=this.toWebStorageMutationBatchKey(t);this.removeItem(e)},t.prototype.persistOnlineState=function(t){this.storage.setItem(this.onlineStateKey,JSON.stringify({clientId:this.localClientId,onlineState:fi[t]}))},t.prototype.persistQueryTargetState=function(t,e,n){var r=this.toWebStorageQueryTargetMetadataKey(t),i=new Pi(t,e,n);this.setItem(r,i.toWebStorageJSON())},t.prototype.toWebStorageClientStateKey=function(t){return g(-1===t.indexOf("_"),"Client key cannot contain '_', but was '"+t+"'"),Ti+"_"+this.persistenceKey+"_"+t},t.prototype.toWebStorageQueryTargetMetadataKey=function(t){return Ii+"_"+this.persistenceKey+"_"+t},t.prototype.toWebStorageMutationBatchKey=function(t){var e=Ai+"_"+this.persistenceKey+"_"+t;return this.currentUser.isAuthenticated()&&(e+="_"+this.currentUser.uid),e},t.prototype.fromWebStorageClientStateKey=function(t){var e=this.clientStateKeyRe.exec(t);return e?e[1]:null},t.prototype.fromWebStorageClientState=function(t,e){var n=this.fromWebStorageClientStateKey(t);return g(null!==n,"Cannot parse client state key '"+t+"'"),Ni.fromWebStorageEntry(n,e)},t.prototype.fromWebStorageMutationMetadata=function(t,e){var n=this.mutationBatchKeyRe.exec(t);g(null!==n,"Cannot parse mutation batch key '"+t+"'");var r=Number(n[1]);return Ri.fromWebStorageEntry(new Di(void 0!==n[2]?n[2]:null),r,e)},t.prototype.fromWebStorageQueryTargetMetadata=function(t,e){var n=this.queryTargetKeyRe.exec(t);g(null!==n,"Cannot parse query target key '"+t+"'");var r=Number(n[1]);return Pi.fromWebStorageEntry(r,e)},t.prototype.fromWebStorageOnlineState=function(t){return ji.fromWebStorageEntry(t)},t.prototype.handleMutationBatchEvent=function(t){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(e){return t.user.uid!==this.currentUser.uid?(d(Oi,"Ignoring mutation for non-active user "+t.user.uid),[2]):[2,this.syncEngine.applyBatchState(t.batchId,t.state,t.error)]})})},t.prototype.handleQueryTargetEvent=function(t){return this.syncEngine.applyTargetState(t.targetId,t.state,t.error)},t.prototype.handleClientStateEvent=function(t,e){var n=this,r=this.getAllActiveQueryTargets();e?this.activeClients[t]=e:delete this.activeClients[t];var i=this.getAllActiveQueryTargets(),o=[],s=[];return i.forEach(function(t){return a.__awaiter(n,void 0,void 0,function(){return a.__generator(this,function(e){return r.has(t)||o.push(t),[2]})})}),r.forEach(function(t){return a.__awaiter(n,void 0,void 0,function(){return a.__generator(this,function(e){return i.has(t)||s.push(t),[2]})})}),this.syncEngine.applyActiveTargetsChange(o,s)},t.prototype.handleOnlineStateEvent=function(t){this.activeClients[t.clientId]&&this.onlineStateHandler(t.onlineState)},t}(),Li=function(){function t(){this.localState=new Mi,this.queryState={},this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.localState.addQueryTarget(t),this.queryState[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.queryState[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.localState.removeQueryTarget(t)},t.prototype.isLocalQueryTarget=function(t){return this.localState.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.queryState[t]},t.prototype.getAllActiveQueryTargets=function(){return this.localState.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.localState.activeTargetIds.has(t)},t.prototype.start=function(){return this.localState=new Mi,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t}(),Bi=function(){function t(t,e){this.cacheSizeBytes=t,this.synchronizeTabs=e}return t.prototype.lruParams=function(){return Ir.withCacheSize(this.cacheSizeBytes)},t}(),Vi=function(){return function(){}}(),Ui=function(){function t(t,e,n,r){this.platform=t,this.databaseInfo=e,this.credentials=n,this.asyncQueue=r,this.clientId=K.newId(),this.isShutdown=!1}return t.prototype.start=function(t){var e=this;this.verifyNotShutdown();var n=new hn,r=new hn,i=!1;return this.credentials.setChangeListener(function(o){i?e.asyncQueue.enqueueAndForget(function(){return e.handleCredentialChange(o)}):(i=!0,e.initializePersistence(t,r,o).then(function(t){return e.initializeRest(o,t)}).then(n.resolve,n.reject))}),this.asyncQueue.enqueueAndForget(function(){return n.promise}),r.promise},t.prototype.enableNetwork=function(){var t=this;return this.verifyNotShutdown(),this.asyncQueue.enqueue(function(){return t.syncEngine.enableNetwork()})},t.prototype.initializePersistence=function(t,e,n){var r=this;return t instanceof Bi?this.startIndexedDbPersistence(n,t).then(function(t){return e.resolve(),t}).catch(function(t){if(e.reject(t),!r.canFallback(t))throw t;return console.warn("Error enabling offline storage. Falling back to storage disabled: "+t),r.startMemoryPersistence()}):(e.resolve(),this.startMemoryPersistence())},t.prototype.canFallback=function(t){return t instanceof E?t.code===w.FAILED_PRECONDITION||t.code===w.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code},t.prototype.verifyNotShutdown=function(){if(this.isShutdown)throw new E(w.FAILED_PRECONDITION,"The client has already been shutdown.")},t.prototype.startIndexedDbPersistence=function(t,e){var n=this,r=Fr.buildStoragePrefix(this.databaseInfo),i=new rn(this.databaseInfo.databaseId,{useProto3Json:!0});return Promise.resolve().then(function(){return a.__awaiter(n,void 0,void 0,function(){var n,o;return a.__generator(this,function(a){switch(a.label){case 0:if(e.synchronizeTabs&&!Fi.isAvailable(this.platform))throw new E(w.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");return o=e.lruParams(),e.synchronizeTabs?(this.sharedClientState=new Fi(this.asyncQueue,this.platform,r,this.clientId,t),[4,Fr.createMultiClientIndexedDbPersistence(r,this.clientId,this.platform,this.asyncQueue,i,o,{sequenceNumberSyncer:this.sharedClientState})]):[3,2];case 1:return n=a.sent(),[3,4];case 2:return this.sharedClientState=new Li,[4,Fr.createIndexedDbPersistence(r,this.clientId,this.platform,this.asyncQueue,i,o)];case 3:n=a.sent(),a.label=4;case 4:return this.persistence=n,[2,n.referenceDelegate.garbageCollector]}})})})},t.prototype.startMemoryPersistence=function(){return this.persistence=Xr.createEagerPersistence(this.clientId),this.sharedClientState=new Li,Promise.resolve(null)},t.prototype.initializeRest=function(t,e){var n=this;return d("FirestoreClient","Initializing. user=",t.uid),this.platform.loadConnection(this.databaseInfo).then(function(r){return a.__awaiter(n,void 0,void 0,function(){var n,i,o,s=this;return a.__generator(this,function(u){switch(u.label){case 0:return this.localStore=new Kr(this.persistence,t),e&&(this.lruScheduler=new xr(e,this.asyncQueue,this.localStore)),n=this.platform.newSerializer(this.databaseInfo.databaseId),i=new ci(this.asyncQueue,r,this.credentials,n),o=function(t){return s.syncEngine.applyOnlineStateChange(t,hi.SharedClientState)},this.remoteStore=new di(this.localStore,i,this.asyncQueue,function(t){return s.syncEngine.applyOnlineStateChange(t,hi.RemoteStore)}),this.syncEngine=new Si(this.localStore,this.remoteStore,this.sharedClientState,t),this.sharedClientState.onlineStateHandler=o,this.remoteStore.syncEngine=this.syncEngine,this.sharedClientState.syncEngine=this.syncEngine,this.eventMgr=new mi(this.syncEngine),[4,this.sharedClientState.start()];case 1:return u.sent(),[4,this.remoteStore.start()];case 2:return u.sent(),[4,this.persistence.setPrimaryStateListener(function(t){return a.__awaiter(s,void 0,void 0,function(){return a.__generator(this,function(e){switch(e.label){case 0:return[4,this.syncEngine.applyPrimaryState(t)];case 1:return e.sent(),this.lruScheduler&&(t&&!this.lruScheduler.started?this.lruScheduler.start():t||this.lruScheduler.stop()),[2]}})})})];case 3:return u.sent(),[4,this.persistence.setDatabaseDeletedListener(function(){return a.__awaiter(s,void 0,void 0,function(){return a.__generator(this,function(t){switch(t.label){case 0:return[4,this.shutdown()];case 1:return t.sent(),[2]}})})})];case 4:return u.sent(),[2]}})})})},t.prototype.handleCredentialChange=function(t){return this.asyncQueue.verifyOperationInProgress(),d("FirestoreClient","Credential Changed. Current user: "+t.uid),this.syncEngine.handleCredentialChange(t)},t.prototype.disableNetwork=function(){var t=this;return this.verifyNotShutdown(),this.asyncQueue.enqueue(function(){return t.syncEngine.disableNetwork()})},t.prototype.shutdown=function(){var t=this;return!0===this.isShutdown?Promise.resolve():this.asyncQueue.enqueue(function(){return a.__awaiter(t,void 0,void 0,function(){return a.__generator(this,function(t){switch(t.label){case 0:return this.lruScheduler&&this.lruScheduler.stop(),[4,this.remoteStore.shutdown()];case 1:return t.sent(),[4,this.sharedClientState.shutdown()];case 2:return t.sent(),[4,this.persistence.shutdown()];case 3:return t.sent(),this.credentials.removeChangeListener(),this.isShutdown=!0,[2]}})})})},t.prototype.listen=function(t,e,n){var r=this;this.verifyNotShutdown();var i=new vi(t,e,n);return this.asyncQueue.enqueueAndForget(function(){return r.eventMgr.listen(i)}),i},t.prototype.unlisten=function(t){var e=this;this.verifyNotShutdown(),this.asyncQueue.enqueueAndForget(function(){return e.eventMgr.unlisten(t)})},t.prototype.getDocumentFromLocalCache=function(t){var e=this;return this.verifyNotShutdown(),this.asyncQueue.enqueue(function(){return e.localStore.readDocument(t)}).then(function(t){if(t instanceof ft)return t;if(t instanceof ht)return null;throw new E(w.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")})},t.prototype.getDocumentsFromLocalCache=function(t){var e=this;return this.verifyNotShutdown(),this.asyncQueue.enqueue(function(){return e.localStore.executeQuery(t)}).then(function(e){var n=Re(),r=new wi(t,n),i=r.computeDocChanges(e);return r.applyChanges(i,!1).snapshot})},t.prototype.write=function(t){var e=this;this.verifyNotShutdown();var n=new hn;return this.asyncQueue.enqueueAndForget(function(){return e.syncEngine.write(t,n)}),n.promise},t.prototype.databaseId=function(){return this.databaseInfo.databaseId},t.prototype.transaction=function(t){var e=this;return this.verifyNotShutdown(),this.asyncQueue.enqueue(function(){return a.__awaiter(e,void 0,void 0,function(){return a.__generator(this,function(t){return[2]})})}).then(function(){return e.syncEngine.runTransaction(t)})},t}(),qi=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.scheduleEvent(this.observer.next,t)},t.prototype.error=function(t){this.scheduleEvent(this.observer.error,t)},t.prototype.mute=function(){this.muted=!0},t.prototype.scheduleEvent=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),zi=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];!function(e,n,r,i){if(!(t instanceof Array)||t.length<1)throw new E(w.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least "+Q(1,"element")+".")}();for(var n=0;n<t.length;++n)if(P("FieldPath","string",n,t[n]),0===t[n].length)throw new E(w.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ut(t)}return t.documentId=function(){return t._DOCUMENT_ID},t.prototype.isEqual=function(e){if(!(e instanceof t))throw z("isEqual","FieldPath",1,e);return this._internalPath.isEqual(e._internalPath)},t._DOCUMENT_ID=new t(ut.keyField().canonicalString()),t}(),Hi=new RegExp("[~\\*/\\[\\]]"),Qi=function(){return function(t,e){this.user=e,this.type="OAuth",this.authHeaders={Authorization:"Bearer "+t}}}(),Ki=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t){g(!this.changeListener,"Can only call setChangeListener() once."),this.changeListener=t,t(Di.UNAUTHENTICATED)},t.prototype.removeChangeListener=function(){g(null!==this.changeListener,"removeChangeListener() when no listener registered"),this.changeListener=null},t}(),Gi=function(){function t(t){var e=this;this.app=t,this.tokenListener=null,this.tokenCounter=0,this.changeListener=null,this.forceRefresh=!1,this.tokenListener=function(){e.tokenCounter++,e.currentUser=e.getUser(),e.changeListener&&e.changeListener(e.currentUser)},this.tokenCounter=0,this.app.INTERNAL.addAuthTokenListener(this.tokenListener)}return t.prototype.getToken=function(){var t=this;g(null!=this.tokenListener,"getToken cannot be called after listener removed.");var e=this.tokenCounter,n=this.forceRefresh;return this.forceRefresh=!1,this.app.INTERNAL.getToken(n).then(function(n){if(t.tokenCounter!==e)throw new E(w.ABORTED,"getToken aborted due to token change.");return n?(g("string"==typeof n.accessToken,"Invalid tokenData returned from getToken():"+n),new Qi(n.accessToken,t.currentUser)):null})},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t){g(!this.changeListener,"Can only call setChangeListener() once."),this.changeListener=t,this.currentUser&&t(this.currentUser)},t.prototype.removeChangeListener=function(){g(null!=this.tokenListener,"removeChangeListener() called twice"),g(null!==this.changeListener,"removeChangeListener() called when no listener registered"),this.app.INTERNAL.removeAuthTokenListener(this.tokenListener),this.tokenListener=null,this.changeListener=null},t.prototype.getUser=function(){var t=this.app.INTERNAL.getUid();return g(null===t||"string"==typeof t,"Received invalid UID: "+t),new Di(t)},t}(),Wi=function(){function t(t,e){this.gapi=t,this.sessionIndex=e,this.type="FirstParty",this.user=Di.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.sessionIndex},e=this.gapi.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!0,configurable:!0}),t}(),Yi=function(){function t(t,e){this.gapi=t,this.sessionIndex=e}return t.prototype.getToken=function(){return Promise.resolve(new Wi(this.gapi,this.sessionIndex))},t.prototype.setChangeListener=function(t){t(Di.FIRST_PARTY)},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function Zi(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}var Xi=function(){function t(t){this._methodName=t}return t.delete=function(){return I("FieldValue.delete",arguments),Ji.instance},t.serverTimestamp=function(){return I("FieldValue.serverTimestamp",arguments),$i.instance},t.arrayUnion=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return k("FieldValue.arrayUnion",arguments,1),new to(t)},t.arrayRemove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return k("FieldValue.arrayRemove",arguments,1),new eo(t)},t.increment=function(t){return P("FieldValue.increment","number",1,t),x("FieldValue.increment",arguments,1),new no(t)},t.prototype.isEqual=function(t){return this===t},t}(),Ji=function(t){function e(){return t.call(this,"FieldValue.delete")||this}return a.__extends(e,t),e.instance=new e,e}(Xi),$i=function(t){function e(){return t.call(this,"FieldValue.serverTimestamp")||this}return a.__extends(e,t),e.instance=new e,e}(Xi),to=function(t){function e(e){var n=t.call(this,"FieldValue.arrayUnion")||this;return n._elements=e,n}return a.__extends(e,t),e}(Xi),eo=function(t){function e(e){var n=t.call(this,"FieldValue.arrayRemove")||this;return n._elements=e,n}return a.__extends(e,t),e}(Xi),no=function(t){function e(e){var n=t.call(this,"FieldValue.increment")||this;return n._operand=e,n}return a.__extends(e,t),e}(Xi),ro=C(Xi,"Use FieldValue.<field>() instead."),io=/^__.*__$/,oo=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutations=function(t,e){var n=[];return n.push(null!==this.fieldMask?new fe(t,this.data,this.fieldMask,e):new le(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new he(t,this.fieldTransforms)),n},t}(),ao=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutations=function(t,e){var n=[new fe(t,this.data,this.fieldMask,e)];return this.fieldTransforms.length>0&&n.push(new he(t,this.fieldTransforms)),n},t}(),so=function(t){return t[t.Set=0]="Set",t[t.Update=1]="Update",t[t.MergeSet=2]="MergeSet",t[t.Argument=3]="Argument",t}({});function uo(t){switch(t){case so.Set:case so.MergeSet:case so.Update:return!0;case so.Argument:return!1;default:throw v("Unexpected case for UserDataSource: "+t)}}var co=function(){function t(t,e,n,r,i,o){this.dataSource=t,this.methodName=e,this.path=n,this.arrayElement=r,void 0===i&&this.validatePath(),this.arrayElement=void 0!==r&&r,this.fieldTransforms=i||[],this.fieldMask=o||[]}return t.prototype.childContextForField=function(e){var n=null==this.path?null:this.path.child(e),r=new t(this.dataSource,this.methodName,n,!1,this.fieldTransforms,this.fieldMask);return r.validatePathSegment(e),r},t.prototype.childContextForFieldPath=function(e){var n=null==this.path?null:this.path.child(e),r=new t(this.dataSource,this.methodName,n,!1,this.fieldTransforms,this.fieldMask);return r.validatePath(),r},t.prototype.childContextForArray=function(e){return new t(this.dataSource,this.methodName,null,!0,this.fieldTransforms,this.fieldMask)},t.prototype.createError=function(t){var e=null===this.path||this.path.isEmpty()?"":" (found in field "+this.path.toString()+")";return new E(w.INVALID_ARGUMENT,"Function "+this.methodName+"() called with invalid data. "+t+e)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},t.prototype.validatePath=function(){if(null!==this.path)for(var t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))},t.prototype.validatePathSegment=function(t){if(uo(this.dataSource)&&io.test(t))throw this.createError("Document fields cannot begin and end with __")},t}(),lo=function(){return function(t,e){this.databaseId=t,this.key=e}}(),fo=function(){function t(t){this.preConverter=t}return t.prototype.parseSetData=function(t,e){var n=new co(so.Set,t,ut.EMPTY_PATH);po("Data must be an object, but it was:",n,e);var r=this.parseData(e,n);return new oo(r,null,n.fieldTransforms)},t.prototype.parseMergeData=function(t,e,n){var r=new co(so.MergeSet,t,ut.EMPTY_PATH);po("Data must be an object, but it was:",r,e);var i,o,a=this.parseData(e,r);if(n){for(var s=new ne(ut.comparator),u=0,c=n;u<c.length;u++){var l=c[u],f=void 0;if(l instanceof zi)f=l._internalPath;else{if("string"!=typeof l)throw v("Expected stringOrFieldPath to be a string or a FieldPath");f=mo(t,l)}if(!r.contains(f))throw new E(w.INVALID_ARGUMENT,"Field '"+f+"' is specified in your field mask but missing from your input data.");s=s.add(f)}i=ie.fromSet(s),o=r.fieldTransforms.filter(function(t){return i.covers(t.field)})}else i=ie.fromArray(r.fieldMask),o=r.fieldTransforms;return new oo(a,i,o)},t.prototype.parseUpdateData=function(t,e){var n=this,r=new co(so.Update,t,ut.EMPTY_PATH);po("Data must be an object, but it was:",r,e);var i=new ne(ut.comparator),o=Nt.EMPTY;T(e,function(e,a){var s=mo(t,e),u=r.childContextForFieldPath(s);if((a=n.runPreConverter(a,u))instanceof Ji)i=i.add(s);else{var c=n.parseData(a,u);null!=c&&(i=i.add(s),o=o.set(s,c))}});var a=ie.fromSet(i);return new ao(o,a,r.fieldTransforms)},t.prototype.parseUpdateVarargs=function(t,e,n,r){var i=new co(so.Update,t,ut.EMPTY_PATH),o=[yo(t,e)],a=[n];if(r.length%2!=0)throw new E(w.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var s=0;s<r.length;s+=2)o.push(yo(t,r[s])),a.push(r[s+1]);var u=new ne(ut.comparator),c=Nt.EMPTY;for(s=0;s<o.length;++s){var l=o[s],f=i.childContextForFieldPath(l),h=this.runPreConverter(a[s],f);if(h instanceof Ji)u=u.add(l);else{var p=this.parseData(h,f);null!=p&&(u=u.add(l),c=c.set(l,p))}}var d=ie.fromSet(u);return new ao(c,d,i.fieldTransforms)},t.prototype.parseQueryValue=function(t,e){var n=new co(so.Argument,t,ut.EMPTY_PATH),r=this.parseData(e,n);return g(null!=r,"Parsed data should not be null."),g(0===n.fieldTransforms.length,"Field transforms should have been disallowed."),r},t.prototype.runPreConverter=function(t,e){try{return this.preConverter(t)}catch(r){var n=vo(r);throw e.createError(n)}},t.prototype.parseData=function(t,e){if(ho(t=this.runPreConverter(t,e)))return po("Unsupported field value:",e,t),this.parseObject(t,e);if(t instanceof Xi)return this.parseSentinelFieldValue(t,e),null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.arrayElement)throw e.createError("Nested arrays are not supported");return this.parseArray(t,e)}return this.parseScalarValue(t,e)},t.prototype.parseObject=function(t,e){var n=this,r=new dt(G);return A(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):T(t,function(t,i){var o=n.parseData(i,e.childContextForField(t));null!=o&&(r=r.insert(t,o))}),new Nt(r)},t.prototype.parseArray=function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var a=this.parseData(o[i],e.childContextForArray(r));null==a&&(a=Et.INSTANCE),n.push(a),r++}return new jt(n)},t.prototype.parseSentinelFieldValue=function(t,e){if(!uo(e.dataSource))throw e.createError(t._methodName+"() can only be used with update() and set()");if(null===e.path)throw e.createError(t._methodName+"() is not currently supported inside arrays");if(t instanceof Ji){if(e.dataSource!==so.MergeSet)throw e.dataSource===so.Update?(g(e.path.length>0,"FieldValue.delete() at the top level should have already been handled."),e.createError("FieldValue.delete() can only appear at the top level of your update data")):e.createError("FieldValue.delete() cannot be used with set() unless you pass {merge:true}");e.fieldMask.push(e.path)}else if(t instanceof $i)e.fieldTransforms.push(new oe(e.path,de.instance));else if(t instanceof to){var n=this.parseArrayTransformElements(t._methodName,t._elements),r=new ye(n);e.fieldTransforms.push(new oe(e.path,r))}else if(t instanceof eo){n=this.parseArrayTransformElements(t._methodName,t._elements);var i=new me(n);e.fieldTransforms.push(new oe(e.path,i))}else if(t instanceof no){var o=this.parseQueryValue("FieldValue.increment",t._operand),a=new ve(o);e.fieldTransforms.push(new oe(e.path,a))}else v("Unknown FieldValue type: "+t)},t.prototype.parseScalarValue=function(t,e){if(null===t)return Et.INSTANCE;if("number"==typeof t)return Ut(t)?new Ot(t):new Tt(t);if("boolean"==typeof t)return Ct.of(t);if("string"==typeof t)return new At(t);if(t instanceof Date)return new It(et.fromDate(t));if(t instanceof et)return new It(new et(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)));if(t instanceof tt)return new Pt(t);if(t instanceof J)return new kt(t);if(t instanceof lo)return new Rt(t.databaseId,t.key);throw e.createError("Unsupported field value: "+V(t))},t.prototype.parseArrayTransformElements=function(t,e){var n=this;return e.map(function(e,r){var i=new co(so.Argument,t,ut.EMPTY_PATH);return n.parseData(e,i.childContextForArray(r))})},t}();function ho(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof et||t instanceof tt||t instanceof J||t instanceof lo||t instanceof Xi)}function po(t,e,n){if(!ho(n)||!B(n)){var r=V(n);throw e.createError("an object"===r?t+" a custom object":t+" "+r)}}function yo(t,e){if(e instanceof zi)return e._internalPath;if("string"==typeof e)return mo(t,e);throw new E(w.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. Field path arguments must be of type string or FieldPath.")}function mo(t,e){try{return function(t){if(t.search(Hi)>=0)throw new E(w.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(zi.bind.apply(zi,[void 0].concat(t.split("."))))}catch(e){throw new E(w.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(e)._internalPath}catch(r){var n=vo(r);throw new E(w.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. "+n)}}function vo(t){return t instanceof Error?t.message:t.toString()}var go="firestore.googleapis.com",bo=!0,_o=!0,wo=!1,Eo=Ir.COLLECTION_DISABLED,Co=function(){function t(t){if(void 0===t.host){if(void 0!==t.ssl)throw new E(w.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=go,this.ssl=bo}else j("settings","non-empty string","host",t.host),this.host=t.host,M("settings","boolean","ssl",t.ssl),this.ssl=D(t.ssl,bo);if(q("settings",t,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling"]),M("settings","object","credentials",t.credentials),this.credentials=t.credentials,M("settings","boolean","timestampsInSnapshots",t.timestampsInSnapshots),!0===t.timestampsInSnapshots?y("\n  The timestampsInSnapshots setting now defaults to true and you no\n  longer need to explicitly set it. In a future release, the setting\n  will be removed entirely and so it is recommended that you remove it\n  from your firestore.settings() call now."):!1===t.timestampsInSnapshots&&y("\n  The timestampsInSnapshots setting will soon be removed. YOU MUST UPDATE\n  YOUR CODE.\n\n  To hide this warning, stop using the timestampsInSnapshots setting in your\n  firestore.settings({ ... }) call.\n\n  Once you remove the setting, Timestamps stored in Cloud Firestore will be\n  read back as Firebase Timestamp objects instead of as system Date objects.\n  So you will also need to update code expecting a Date to instead expect a\n  Timestamp. For example:\n\n  // Old:\n  const date = snapshot.get('created_at');\n  // New:\n  const timestamp = snapshot.get('created_at'); const date =\n  timestamp.toDate();\n\n  Please audit all existing usages of Date when you enable the new\n  behavior."),this.timestampsInSnapshots=D(t.timestampsInSnapshots,_o),M("settings","number","cacheSizeBytes",t.cacheSizeBytes),void 0===t.cacheSizeBytes)this.cacheSizeBytes=Ir.DEFAULT_CACHE_SIZE_BYTES;else{if(t.cacheSizeBytes!==Eo&&t.cacheSizeBytes<Ir.MINIMUM_CACHE_SIZE_BYTES)throw new E(w.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+Ir.MINIMUM_CACHE_SIZE_BYTES);this.cacheSizeBytes=t.cacheSizeBytes}M("settings","boolean","experimentalForceLongPolling",t.experimentalForceLongPolling),this.forceLongPolling=void 0===t.experimentalForceLongPolling?wo:t.experimentalForceLongPolling}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.timestampsInSnapshots===t.timestampsInSnapshots&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.forceLongPolling===t.forceLongPolling},t}(),So=function(){return function(){}}(),Do=function(){function t(e){var n=this;this._queue=new dn,this.INTERNAL={delete:function(){return a.__awaiter(n,void 0,void 0,function(){return a.__generator(this,function(t){switch(t.label){case 0:return this.ensureClientConfigured(),[4,this._firestoreClient.shutdown()];case 1:return t.sent(),this.clientRunning=!1,[2]}})})}},this.clientRunning=!1;var r=new So;if("object"==typeof e.options){var i=e;r.firebaseApp=i,r.databaseId=t.databaseIdFromApp(i),r.persistenceKey=r.firebaseApp.name,r.credentials=new Gi(i)}else{var o=e;if(!o.projectId)throw new E(w.INVALID_ARGUMENT,"Must provide projectId");r.databaseId=new it(o.projectId,o.database),r.persistenceKey="[DEFAULT]",r.credentials=new Ki}r.settings=new Co({}),this._config=r,this._databaseId=r.databaseId}return t.prototype.settings=function(t){if(x("Firestore.settings",arguments,1),P("Firestore.settings","object",1,t),S(t,"persistence"))throw new E(w.INVALID_ARGUMENT,'"persistence" is now specified with a separate call to firestore.enablePersistence().');var e=new Co(t);if(this._firestoreClient&&!this._config.settings.isEqual(e))throw new E(w.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this._config.settings=e,void 0!==e.credentials&&(this._config.credentials=function(t){if(!t)return new Ki;switch(t.type){case"gapi":var e=t.client;return g(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty),"unexpected gapi interface"),new Yi(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new E(w.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},t.prototype.enableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.enableNetwork()},t.prototype.disableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.disableNetwork()},t.prototype.enablePersistence=function(t){if(this._firestoreClient)throw new E(w.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var e=!1;return t&&(void 0!==t.experimentalTabSynchronization&&y("The 'experimentalTabSynchronization' setting has been renamed to 'synchronizeTabs'. In a future release, the setting will be removed and it is recommended that you update your firestore.enablePersistence() call to use 'synchronizeTabs'."),e=D(void 0!==t.synchronizeTabs?t.synchronizeTabs:t.experimentalTabSynchronization,!1)),this.configureClient(new Bi(this._config.settings.cacheSizeBytes,e))},t.prototype._clearPersistence=function(){var t=this;if(this.clientRunning)throw new E(w.FAILED_PRECONDITION,"Persistence cannot be cleared while the client is running");var e=Fr.buildStoragePrefix(this.makeDatabaseInfo()),n=new hn;return this._queue.enqueueAndForget(function(){return a.__awaiter(t,void 0,void 0,function(){var t;return a.__generator(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,Fr.clearPersistence(e)];case 1:return r.sent(),n.resolve(),[3,3];case 2:return t=r.sent(),n.reject(t),[3,3];case 3:return[2]}})})}),n.promise},t.prototype.ensureClientConfigured=function(){return this._firestoreClient||this.configureClient(new Vi),this._firestoreClient},t.prototype.makeDatabaseInfo=function(){return new nt(this._config.databaseId,this._config.persistenceKey,this._config.settings.host,this._config.settings.ssl,this._config.settings.forceLongPolling)},t.prototype.configureClient=function(t){var e=this;g(!!this._config.settings.host,"FirestoreSettings.host cannot be falsey"),g(!this._firestoreClient,"configureClient() called multiple times"),this.clientRunning=!0;var n=this.makeDatabaseInfo();return this._dataConverter=new fo(function(t){if(t instanceof Ao){var n=e._config.databaseId,r=t.firestore._config.databaseId;if(!r.isEqual(n))throw new E(w.INVALID_ARGUMENT,"Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return new lo(e._config.databaseId,t._key)}return t}),this._firestoreClient=new Ui(b.getPlatform(),n,this._config.credentials,this._queue),this._firestoreClient.start(t)},t.databaseIdFromApp=function(t){var e=t.options;if(!S(e,"projectId"))throw new E(w.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var n=e.projectId;if(!n||"string"!=typeof n)throw new E(w.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new it(n)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this._config.firebaseApp)throw new E(w.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._config.firebaseApp},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){return x("Firestore.collection",arguments,1),P("Firestore.collection","non-empty string",1,t),this.ensureClientConfigured(),new No(at.fromString(t),this)},t.prototype.doc=function(t){return x("Firestore.doc",arguments,1),P("Firestore.doc","non-empty string",1,t),this.ensureClientConfigured(),Ao.forPath(at.fromString(t),this)},t.prototype.collectionGroup=function(t){if(x("Firestore.collectionGroup",arguments,1),P("Firestore.collectionGroup","non-empty string",1,t),t.indexOf("/")>=0)throw new E(w.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.ensureClientConfigured(),new Ro(new qt(at.EMPTY_PATH,t),this)},t.prototype.runTransaction=function(t){var e=this;return x("Firestore.runTransaction",arguments,1),P("Firestore.runTransaction","function",1,t),this.ensureClientConfigured().transaction(function(n){return t(new Oo(e,n))})},t.prototype.batch=function(){return this.ensureClientConfigured(),new To(this)},Object.defineProperty(t,"logLevel",{get:function(){switch(h()){case f.DEBUG:return"debug";case f.ERROR:return"error";case f.SILENT:return"silent";default:return v("Unknown log level: "+h())}},enumerable:!0,configurable:!0}),t.setLogLevel=function(t){switch(x("Firestore.setLogLevel",arguments,1),P("Firestore.setLogLevel","non-empty string",1,t),t){case"debug":p(f.DEBUG);break;case"error":p(f.ERROR);break;case"silent":p(f.SILENT);break;default:throw new E(w.INVALID_ARGUMENT,"Invalid log level: "+t)}},t.prototype._areTimestampsInSnapshotsEnabled=function(){return this._config.settings.timestampsInSnapshots},t}(),Oo=function(){function t(t,e){this._firestore=t,this._transaction=e}return t.prototype.get=function(t){var e=this;x("Transaction.get",arguments,1);var n=Lo("Transaction.get",t,this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return v("Mismatch in docs returned from document lookup.");var r=t[0];if(r instanceof ht)return new xo(e._firestore,n._key,null,!1,!1);if(r instanceof ft)return new xo(e._firestore,n._key,r,!1,!1);throw v("BatchGetDocumentsRequest returned unexpected document type: "+r.constructor.name)})},t.prototype.set=function(t,e,n){R("Transaction.set",arguments,2,3);var r=Lo("Transaction.set",t,this._firestore),i=(n=jo("Transaction.set",n)).merge||n.mergeFields?this._firestore._dataConverter.parseMergeData("Transaction.set",e,n.mergeFields):this._firestore._dataConverter.parseSetData("Transaction.set",e);return this._transaction.set(r._key,i),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];return"string"==typeof e||e instanceof zi?(k("Transaction.update",arguments,3),r=Lo("Transaction.update",t,this._firestore),i=this._firestore._dataConverter.parseUpdateVarargs("Transaction.update",e,n,o)):(x("Transaction.update",arguments,2),r=Lo("Transaction.update",t,this._firestore),i=this._firestore._dataConverter.parseUpdateData("Transaction.update",e)),this._transaction.update(r._key,i),this},t.prototype.delete=function(t){x("Transaction.delete",arguments,1);var e=Lo("Transaction.delete",t,this._firestore);return this._transaction.delete(e._key),this},t}(),To=function(){function t(t){this._firestore=t,this._mutations=[],this._committed=!1}return t.prototype.set=function(t,e,n){R("WriteBatch.set",arguments,2,3),this.verifyNotCommitted();var r=Lo("WriteBatch.set",t,this._firestore),i=(n=jo("WriteBatch.set",n)).merge||n.mergeFields?this._firestore._dataConverter.parseMergeData("WriteBatch.set",e,n.mergeFields):this._firestore._dataConverter.parseSetData("WriteBatch.set",e);return this._mutations=this._mutations.concat(i.toMutations(r._key,ue.NONE)),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];return this.verifyNotCommitted(),"string"==typeof e||e instanceof zi?(k("WriteBatch.update",arguments,3),r=Lo("WriteBatch.update",t,this._firestore),i=this._firestore._dataConverter.parseUpdateVarargs("WriteBatch.update",e,n,o)):(x("WriteBatch.update",arguments,2),r=Lo("WriteBatch.update",t,this._firestore),i=this._firestore._dataConverter.parseUpdateData("WriteBatch.update",e)),this._mutations=this._mutations.concat(i.toMutations(r._key,ue.exists(!0))),this},t.prototype.delete=function(t){x("WriteBatch.delete",arguments,1),this.verifyNotCommitted();var e=Lo("WriteBatch.delete",t,this._firestore);return this._mutations=this._mutations.concat(new pe(e._key,ue.NONE)),this},t.prototype.commit=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(t){return this.verifyNotCommitted(),this._committed=!0,this._mutations.length>0?[2,this._firestore.ensureClientConfigured().write(this._mutations)]:[2]})})},t.prototype.verifyNotCommitted=function(){if(this._committed)throw new E(w.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}(),Ao=function(){function t(t,e){this._key=t,this.firestore=e,this._firestoreClient=this.firestore.ensureClientConfigured()}return t.forPath=function(e,n){if(e.length%2!=0)throw new E(w.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(new ct(e),n)},Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new No(this._key.path.popLast(),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){if(x("DocumentReference.collection",arguments,1),P("DocumentReference.collection","non-empty string",1,t),!t)throw new E(w.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var e=at.fromString(t);return new No(this._key.path.child(e),this.firestore)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw z("isEqual","DocumentReference",1,e);return this.firestore===e.firestore&&this._key.isEqual(e._key)},t.prototype.set=function(t,e){R("DocumentReference.set",arguments,1,2);var n=(e=jo("DocumentReference.set",e)).merge||e.mergeFields?this.firestore._dataConverter.parseMergeData("DocumentReference.set",t,e.mergeFields):this.firestore._dataConverter.parseSetData("DocumentReference.set",t);return this._firestoreClient.write(n.toMutations(this._key,ue.NONE))},t.prototype.update=function(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return"string"==typeof t||t instanceof zi?(k("DocumentReference.update",arguments,2),n=this.firestore._dataConverter.parseUpdateVarargs("DocumentReference.update",t,e,r)):(x("DocumentReference.update",arguments,1),n=this.firestore._dataConverter.parseUpdateData("DocumentReference.update",t)),this._firestoreClient.write(n.toMutations(this._key,ue.exists(!0)))},t.prototype.delete=function(){return x("DocumentReference.delete",arguments,0),this._firestoreClient.write([new pe(this._key,ue.NONE)])},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];R("DocumentReference.onSnapshot",arguments,1,4);var n,r={includeMetadataChanges:!1},i=0;"object"!=typeof t[i]||Zi(t[i])||(q("DocumentReference.onSnapshot",r=t[i],["includeMetadataChanges"]),M("DocumentReference.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++);var o={includeMetadataChanges:r.includeMetadataChanges};return Zi(t[i])?n=t[i]:(P("DocumentReference.onSnapshot","function",i,t[i]),N("DocumentReference.onSnapshot","function",i+1,t[i+1]),N("DocumentReference.onSnapshot","function",i+2,t[i+2]),n={next:t[i],error:t[i+1],complete:t[i+2]}),this.onSnapshotInternal(o,n)},t.prototype.onSnapshotInternal=function(t,e){var n=this,r=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(r=e.error.bind(e));var i=new qi({next:function(t){if(e.next){g(t.docs.size<=1,"Too many documents returned on a document query");var r=t.docs.get(n._key);e.next(new xo(n.firestore,n._key,r,t.fromCache,t.hasPendingWrites))}},error:r}),o=this._firestoreClient.listen(qt.atPath(this._key.path),i,t);return function(){i.mute(),n._firestoreClient.unlisten(o)}},t.prototype.get=function(t){var e=this;return R("DocumentReference.get",arguments,0,1),Fo("DocumentReference.get",t),new Promise(function(n,r){t&&"cache"===t.source?e.firestore.ensureClientConfigured().getDocumentFromLocalCache(e._key).then(function(t){n(new xo(e.firestore,e._key,t,!0,t instanceof ft&&t.hasLocalMutations))},r):e.getViaSnapshotListener(n,r,t)})},t.prototype.getViaSnapshotListener=function(t,e,n){var r=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(i){r(),!i.exists&&i.metadata.fromCache?e(new E(w.UNAVAILABLE,"Failed to get document because the client is offline.")):i.exists&&i.metadata.fromCache&&n&&"server"===n.source?e(new E(w.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):t(i)},error:e})},t}(),Io=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),xo=function(){function t(t,e,n,r,i){this._firestore=t,this._key=e,this._document=n,this._fromCache=r,this._hasPendingWrites=i}return t.prototype.data=function(t){return R("DocumentSnapshot.data",arguments,0,1),t=Mo("DocumentSnapshot.data",t),this._document?this.convertObject(this._document.data,_t.fromSnapshotOptions(t,this._firestore._areTimestampsInSnapshotsEnabled())):void 0},t.prototype.get=function(t,e){if(R("DocumentSnapshot.get",arguments,1,2),e=Mo("DocumentSnapshot.get",e),this._document){var n=this._document.data.field(yo("DocumentSnapshot.get",t));if(void 0!==n)return this.convertValue(n,_t.fromSnapshotOptions(e,this._firestore._areTimestampsInSnapshotsEnabled()))}},Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Ao(this._key,this._firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return null!==this._document},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return new Io(this._hasPendingWrites,this._fromCache)},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){if(!(e instanceof t))throw z("isEqual","DocumentSnapshot",1,e);return this._firestore===e._firestore&&this._fromCache===e._fromCache&&this._key.isEqual(e._key)&&(null===this._document?null===e._document:this._document.isEqual(e._document))},t.prototype.convertObject=function(t,e){var n=this,r={};return t.forEach(function(t,i){r[t]=n.convertValue(i,e)}),r},t.prototype.convertValue=function(t,e){if(t instanceof Nt)return this.convertObject(t,e);if(t instanceof jt)return this.convertArray(t,e);if(t instanceof Rt){var n=t.value(e),r=this._firestore.ensureClientConfigured().databaseId();return t.databaseId.isEqual(r)||y("Document "+this._key.path+" contains a document reference within a different database ("+t.databaseId.projectId+"/"+t.databaseId.database+") which is not supported. It will be treated as a reference in the current database ("+r.projectId+"/"+r.database+") instead."),new Ao(n,this._firestore)}return t.value(e)},t.prototype.convertArray=function(t,e){var n=this;return t.internalValue.map(function(t){return n.convertValue(t,e)})},t}(),ko=function(t){function e(e,n,r,i,o){return t.call(this,e,n,r,i,o)||this}return a.__extends(e,t),e.prototype.data=function(e){var n=t.prototype.data.call(this,e);return g("object"==typeof n,"Document in a QueryDocumentSnapshot should exist"),n},e}(xo),Ro=function(){function t(t,e){this._query=t,this.firestore=e}return t.prototype.where=function(e,n,r){var i;x("Query.where",arguments,3),U("Query.where",3,r),function(t,e,n,r){if(!e.some(function(t){return t===r}))throw new E(w.INVALID_ARGUMENT,"Invalid value "+V(r)+" provided to function Query.where() for its "+H(2)+" argument. Acceptable values: "+e.join(", "))}(0,["<","<=","==",">=",">","array-contains"],0,n);var o=yo("Query.where",e),a=Ht.fromString(n);if(o.isKeyField()){if(a===Ht.ARRAY_CONTAINS)throw new E(w.INVALID_ARGUMENT,"Invalid Query. You can't perform array-contains queries on FieldPath.documentId() since document IDs are not arrays.");if("string"==typeof r){if(""===r)throw new E(w.INVALID_ARGUMENT,"Function Query.where() requires its third parameter to be a valid document ID if the first parameter is FieldPath.documentId(), but it was an empty string.");if(!this._query.isCollectionGroupQuery()&&-1!==r.indexOf("/"))throw new E(w.INVALID_ARGUMENT,"Invalid third parameter to Query.where(). When querying a collection by FieldPath.documentId(), the value provided must be a plain document ID, but '"+r+"' contains a slash.");var s=this._query.path.child(at.fromString(r));if(!ct.isDocumentKey(s))throw new E(w.INVALID_ARGUMENT,"Invalid third parameter to Query.where(). When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+s+"' is not because it has an odd number of segments ("+s.length+").");i=new Rt(this.firestore._databaseId,new ct(s))}else{if(!(r instanceof Ao))throw new E(w.INVALID_ARGUMENT,"Function Query.where() requires its third parameter to be a string or a DocumentReference if the first parameter is FieldPath.documentId(), but it was: "+V(r)+".");i=new Rt(this.firestore._databaseId,r._key)}}else i=this.firestore._dataConverter.parseQueryValue("Query.where",r);var u=zt.create(o,a,i);return this.validateNewFilter(u),new t(this._query.addFilter(u),this.firestore)},t.prototype.orderBy=function(e,n){var r;if(R("Query.orderBy",arguments,1,2),N("Query.orderBy","non-empty string",2,n),void 0===n||"asc"===n)r=Wt.ASCENDING;else{if("desc"!==n)throw new E(w.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");r=Wt.DESCENDING}if(null!==this._query.startAt)throw new E(w.INVALID_ARGUMENT,"Invalid query. You must not call Query.startAt() or Query.startAfter() before calling Query.orderBy().");if(null!==this._query.endAt)throw new E(w.INVALID_ARGUMENT,"Invalid query. You must not call Query.endAt() or Query.endBefore() before calling Query.orderBy().");var i=yo("Query.orderBy",e),o=new Zt(i,r);return this.validateNewOrderBy(o),new t(this._query.addOrderBy(o),this.firestore)},t.prototype.limit=function(e){if(x("Query.limit",arguments,1),P("Query.limit","number",1,e),e<=0)throw new E(w.INVALID_ARGUMENT,"Invalid Query. Query limit ("+e+") is invalid. Limit must be positive.");return new t(this._query.withLimit(e),this.firestore)},t.prototype.startAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];k("Query.startAt",arguments,1);var i=this.boundFromDocOrFields("Query.startAt",e,n,!0);return new t(this._query.withStartAt(i),this.firestore)},t.prototype.startAfter=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];k("Query.startAfter",arguments,1);var i=this.boundFromDocOrFields("Query.startAfter",e,n,!1);return new t(this._query.withStartAt(i),this.firestore)},t.prototype.endBefore=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];k("Query.endBefore",arguments,1);var i=this.boundFromDocOrFields("Query.endBefore",e,n,!0);return new t(this._query.withEndAt(i),this.firestore)},t.prototype.endAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];k("Query.endAt",arguments,1);var i=this.boundFromDocOrFields("Query.endAt",e,n,!1);return new t(this._query.withEndAt(i),this.firestore)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw z("isEqual","Query",1,e);return this.firestore===e.firestore&&this._query.isEqual(e._query)},t.prototype.boundFromDocOrFields=function(t,e,n,r){if(U(t,1,e),e instanceof xo){if(n.length>0)throw new E(w.INVALID_ARGUMENT,"Too many arguments provided to "+t+"().");var i=e;if(!i.exists)throw new E(w.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+t+"().");return this.boundFromDocument(t,i._document,r)}var o=[e].concat(n);return this.boundFromFields(t,o,r)},t.prototype.boundFromDocument=function(t,e,n){for(var r=[],i=0,o=this._query.orderBy;i<o.length;i++){var a=o[i];if(a.field.isKeyField())r.push(new Rt(this.firestore._databaseId,e.key));else{var s=e.field(a.field);if(s instanceof xt)throw new E(w.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+a.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(void 0===s){var u=a.field.canonicalString();throw new E(w.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+u+"' (used as the orderBy) does not exist.")}r.push(s)}}return new Yt(r,n)},t.prototype.boundFromFields=function(t,e,n){var r=this._query.explicitOrderBy;if(e.length>r.length)throw new E(w.INVALID_ARGUMENT,"Too many arguments provided to "+t+"(). The number of arguments must be less than or equal to the number of Query.orderBy() clauses");for(var i=[],o=0;o<e.length;o++){var a=e[o];if(r[o].field.isKeyField()){if("string"!=typeof a)throw new E(w.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+t+"(), but got a "+typeof a);if(!this._query.isCollectionGroupQuery()&&-1!==a.indexOf("/"))throw new E(w.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+t+"() must be a plain document ID, but '"+a+"' contains a slash.");var s=this._query.path.child(at.fromString(a));if(!ct.isDocumentKey(s))throw new E(w.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+t+"() must result in a valid document path, but '"+s+"' is not because it contains an odd number of segments.");var u=new ct(s);i.push(new Rt(this.firestore._databaseId,u))}else{var c=this.firestore._dataConverter.parseQueryValue(t,a);i.push(c)}}return new Yt(i,n)},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];R("Query.onSnapshot",arguments,1,4);var n,r={},i=0;return"object"!=typeof t[i]||Zi(t[i])||(q("Query.onSnapshot",r=t[i],["includeMetadataChanges"]),M("Query.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++),Zi(t[i])?n=t[i]:(P("Query.onSnapshot","function",i,t[i]),N("Query.onSnapshot","function",i+1,t[i+1]),N("Query.onSnapshot","function",i+2,t[i+2]),n={next:t[i],error:t[i+1],complete:t[i+2]}),this.onSnapshotInternal(r,n)},t.prototype.onSnapshotInternal=function(t,e){var n=this,r=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(r=e.error.bind(e));var i=new qi({next:function(t){e.next&&e.next(new Po(n.firestore,n._query,t))},error:r}),o=this.firestore.ensureClientConfigured(),a=o.listen(this._query,i,t);return function(){i.mute(),o.unlisten(a)}},t.prototype.get=function(t){var e=this;return R("Query.get",arguments,0,1),Fo("Query.get",t),new Promise(function(n,r){t&&"cache"===t.source?e.firestore.ensureClientConfigured().getDocumentsFromLocalCache(e._query).then(function(t){n(new Po(e.firestore,e._query,t))},r):e.getViaSnapshotListener(n,r,t)})},t.prototype.getViaSnapshotListener=function(t,e,n){var r=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(i){r(),i.metadata.fromCache&&n&&"server"===n.source?e(new E(w.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):t(i)},error:e})},t.prototype.validateNewFilter=function(t){if(t instanceof Qt)if(t.isInequality()){var e=this._query.getInequalityFilterField();if(null!==e&&!e.isEqual(t.field))throw new E(w.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+e.toString()+"' and '"+t.field.toString()+"'");var n=this._query.getFirstOrderByField();null!==n&&this.validateOrderByAndInequalityMatch(t.field,n)}else if(t.op===Ht.ARRAY_CONTAINS&&this._query.hasArrayContainsFilter())throw new E(w.INVALID_ARGUMENT,"Invalid query. Queries only support a single array-contains filter.")},t.prototype.validateNewOrderBy=function(t){if(null===this._query.getFirstOrderByField()){var e=this._query.getInequalityFilterField();null!==e&&this.validateOrderByAndInequalityMatch(e,t.field)}},t.prototype.validateOrderByAndInequalityMatch=function(t,e){if(!e.isEqual(t))throw new E(w.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first Query.orderBy(), but your first Query.orderBy() is on field '"+e.toString()+"' instead.")},t}(),Po=function(){function t(t,e,n){this._firestore=t,this._originalQuery=e,this._snapshot=n,this._cachedChanges=null,this._cachedChangesIncludeMetadataChanges=null,this.metadata=new Io(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._snapshot.docs.isEmpty()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;R("QuerySnapshot.forEach",arguments,1,2),P("QuerySnapshot.forEach","function",1,t),this._snapshot.docs.forEach(function(r){t.call(e,n.convertToDocumentImpl(r))})},Object.defineProperty(t.prototype,"query",{get:function(){return new Ro(this._originalQuery,this._firestore)},enumerable:!0,configurable:!0}),t.prototype.docChanges=function(t){t&&(q("QuerySnapshot.docChanges",t,["includeMetadataChanges"]),M("QuerySnapshot.docChanges","boolean","includeMetadataChanges",t.includeMetadataChanges));var e=!(!t||!t.includeMetadataChanges);if(e&&this._snapshot.excludesMetadataChanges)throw new E(w.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e,n){if(n.oldDocs.isEmpty()){var r,i=0;return n.docChanges.map(function(e){var o=new ko(t,e.doc.key,e.doc,n.fromCache,n.mutatedKeys.has(e.doc.key));return g(e.type===Me.Added,"Invalid event type for first snapshot"),g(!r||n.query.docComparator(r,e.doc)<0,"Got added events in wrong order"),r=e.doc,{type:"added",doc:o,oldIndex:-1,newIndex:i++}})}var o=n.oldDocs;return n.docChanges.filter(function(t){return e||t.type!==Me.Metadata}).map(function(e){var r=new ko(t,e.doc.key,e.doc,n.fromCache,n.mutatedKeys.has(e.doc.key)),i=-1,a=-1;return e.type!==Me.Added&&(g((i=o.indexOf(e.doc.key))>=0,"Index for document not found"),o=o.delete(e.doc.key)),e.type!==Me.Removed&&(a=(o=o.add(e.doc)).indexOf(e.doc.key)),{type:Bo(e.type),doc:r,oldIndex:i,newIndex:a}})}(this._firestore,e,this._snapshot),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t.prototype.isEqual=function(e){if(!(e instanceof t))throw z("isEqual","QuerySnapshot",1,e);return this._firestore===e._firestore&&this._originalQuery.isEqual(e._originalQuery)&&this._snapshot.isEqual(e._snapshot)},t.prototype.convertToDocumentImpl=function(t){return new ko(this._firestore,t.key,t,this.metadata.fromCache,this._snapshot.mutatedKeys.has(t.key))},t}();["length","forEach","map"].concat("undefined"!=typeof Symbol?[Symbol.iterator]:[]).forEach(function(t){try{Object.defineProperty(Po.prototype.docChanges,t,{get:function(){return function(){throw new E(w.INVALID_ARGUMENT,'QuerySnapshot.docChanges has been changed from a property into a method, so usages like "querySnapshot.docChanges" should become "querySnapshot.docChanges()"')}()}})}catch(e){}});var No=function(t){function e(e,n){var r=t.call(this,qt.atPath(e),n)||this;if(e.length%2!=1)throw new E(w.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e.canonicalString()+" has "+e.length);return r}return a.__extends(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._query.path.popLast();return t.isEmpty()?null:new Ao(new ct(t),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!0,configurable:!0}),e.prototype.doc=function(t){if(R("CollectionReference.doc",arguments,0,1),0===arguments.length&&(t=K.newId()),P("CollectionReference.doc","non-empty string",1,t),""===t)throw new E(w.INVALID_ARGUMENT,"Document path must be a non-empty string");var e=at.fromString(t);return Ao.forPath(this._query.path.child(e),this.firestore)},e.prototype.add=function(t){x("CollectionReference.add",arguments,1),P("CollectionReference.add","object",1,t);var e=this.doc();return e.set(t).then(function(){return e})},e}(Ro);function jo(t,e){if(void 0===e)return{merge:!1};if(q(t,e,["merge","mergeFields"]),M(t,"boolean","merge",e.merge),"mergeFields","a string or a FieldPath",void 0!==(n=e.mergeFields)&&function(t,e,n,r,i){if(!(r instanceof Array))throw new E(w.INVALID_ARGUMENT,"Function "+t+"() requires its mergeFields option to be an array, but it was: "+V(r));for(var o=0;o<r.length;++o)if(!i(r[o]))throw new E(w.INVALID_ARGUMENT,"Function "+t+"() requires all mergeFields elements to be a string or a FieldPath, but the value at index "+o+" was: "+V(r[o]))}(t,0,0,n,function(t){return"string"==typeof t||t instanceof zi}),void 0!==e.mergeFields&&void 0!==e.merge)throw new E(w.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');var n;return e}function Mo(t,e){return void 0===e?{}:(q(t,e,["serverTimestamps"]),F(t,0,"serverTimestamps",e.serverTimestamps,["estimate","previous","none"]),e)}function Fo(t,e){N(t,"object",1,e),e&&(q(t,e,["source"]),F(t,0,"source",e.source,["default","server","cache"]))}function Lo(t,e,n){if(e instanceof Ao){if(e.firestore!==n)throw new E(w.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}throw z(t,"DocumentReference",1,e)}function Bo(t){switch(t){case Me.Added:return"added";case Me.Modified:case Me.Metadata:return"modified";case Me.Removed:return"removed";default:return v("Unknown change type: "+t)}}var Vo=C(Do,"Use firebase.firestore() instead."),Uo=C(Oo,"Use firebase.firestore().runTransaction() instead."),qo=C(To,"Use firebase.firestore().batch() instead."),zo=C(Ao,"Use firebase.firestore().doc() instead."),Ho=C(xo),Qo=C(ko),Ko=C(Ro),Go=C(Po),Wo=C(No,"Use firebase.firestore().collection() instead."),Yo={Firestore:Vo,GeoPoint:tt,Timestamp:et,Blob:$,Transaction:Uo,WriteBatch:qo,DocumentReference:zo,DocumentSnapshot:Ho,Query:Ko,QueryDocumentSnapshot:Qo,QuerySnapshot:Go,CollectionReference:Wo,FieldPath:zi,FieldValue:ro,setLogLevel:Do.setLogLevel,CACHE_SIZE_UNLIMITED:Eo};function Zo(t){t.INTERNAL.registerService("firestore",function(t){return new Do(t)},function(t){g(t&&"object"==typeof t,"shallowCopy() expects object parameter.");var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}(Yo))}Zo(i),e.registerFirestore=Zo},"6QML":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return t&&"string"==typeof t&&null!==t.trim().match(/^{[\s\S]*?}$/)};e.isJsonLikeString=r;var i=function(t){return t&&("NamedNodeMap"===t.constructor.name||t instanceof NamedNodeMap)};e.isNamedNodeMap=i;var o=function(t){var e={};return Object.keys(t).forEach(function(n){e[t[n].name]=t[n].value}),e};e.namedNodeMapToObject=o;var a=function(t){var e=t;return r(t)?e=JSON.parse(t):i(t)&&(e=o(t)),Array.isArray(e)?e=e.map(function(t){return a(t)}):"object"==typeof e&&Object.keys(e).forEach(function(t){var n=t.replace(/-/g,"_").toLocaleLowerCase().replace(/^cld(-|_)?/,""),r=a(e[t]);delete e[t],e[n]=r}),e};e.transformKeyNames=a;var s=function(){function t(t,e){this._cloudinaryInstance=t.CloudinaryJQuery?new t.CloudinaryJQuery(e):new t.Cloudinary(e)}return Object.defineProperty(t.prototype,"cloudinaryInstance",{get:function(){return this._cloudinaryInstance},enumerable:!0,configurable:!0}),t.prototype.config=function(){return this._cloudinaryInstance.config()},t.prototype.url=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._cloudinaryInstance).url.apply(t,e)},t.prototype.imageTag=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._cloudinaryInstance).imageTag.apply(t,e)},t.prototype.videoTag=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._cloudinaryInstance).videoTag.apply(t,e)},t.prototype.responsive=function(t,e){this._cloudinaryInstance.cloudinary_update(t,e),this._cloudinaryInstance.responsive(e,!1)},t.prototype.toCloudinaryAttributes=function(t,e){var n=this,r=a(t);return e&&e.length>0&&(r.transformation=[],e.forEach(function(t){r.transformation.push(n.toCloudinaryAttributes(t.getAttributes()))})),""!==r.responsive&&"true"!==r.responsive&&!0!==r.responsive||(r.responsive=!0),r},t}();e.Cloudinary=s,e.provideCloudinary=function(t,e){return{provide:s,useFactory:function(){return new s(t,e)}}},e.isBrowser=function(){return"undefined"!=typeof window}},"6ahw":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("iLxQ"),i=n("DKTb"),o={closed:!0,next:function(t){},error:function(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete:function(){}}},"6blF":function(t,e,n){"use strict";var r=n("FFOo"),i=n("L/V9"),o=n("6ahw"),a=n("xTla"),s=n("y3By"),u=n("iLxQ");n.d(e,"a",function(){return c});var c=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var a=this.operator,s=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(o.a)}(t,e,n);if(a?a.call(s,this.source):s.add(this.source||u.a.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),u.a.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){u.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){var e=t.destination;if(t.closed||t.isStopped)return!1;t=e&&e instanceof r.a?e:null}return!0}(t)?t.error(e):console.warn(e)}},t.prototype.forEach=function(t,e){var n=this;return new(e=l(e))(function(e,r){var i;i=n.subscribe(function(e){try{t(e)}catch(n){r(n),i&&i.unsubscribe()}},r,e)})},t.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},t.prototype[a.a]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:Object(s.b)(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=l(t))(function(t,n){var r;e.subscribe(function(t){return r=t},function(t){return n(t)},function(){return t(r)})})},t.create=function(e){return new t(e)},t}();function l(t){if(t||(t=u.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},"6rTD":function(t,e,n){var r=n("mrSG").__decorate,i=n("mrSG").__metadata;Object.defineProperty(e,"__esModule",{value:!0});var o=n("CcnG"),a=(n("6QML"),n("BHEk")),s=n("6QML");e.CloudinaryImageSourceDirective=function(){function t(t,e){this.el=t,this.cloudinary=e}return t.prototype.ngAfterViewInit=function(){if(s.isBrowser()){var t=void 0,e=void 0;this.clHref?(t="href",e=this.clHref):this.clSrc?(t="src",e=this.clSrc):this.clSrcset&&(t="srcset",e=this.clSrcset);var n=!1;if(this.clHref&&toString.call("[object SVGAnimatedString]"===this.el.nativeElement.href)&&(this.el.nativeElement.setAttribute("xlinkHref","xlink:href"),n=!0),!t||!e)throw new Error("Directive value is missing for clHref/clSrc/clSrcset");var r=this.cloudinary.toCloudinaryAttributes(this.el.nativeElement.attributes,this.transformations),i=this.cloudinary.url(e,r);this.el.nativeElement.setAttribute(t,i),this.el.nativeElement.ownerDocument.documentMode&&!n&&(this.el.nativeElement[t]=i)}},r([o.Input(),i("design:type",String)],t.prototype,"clHref",void 0),r([o.Input(),i("design:type",String)],t.prototype,"clSrc",void 0),r([o.Input(),i("design:type",String)],t.prototype,"clSrcset",void 0),r([o.ContentChildren(a.CloudinaryTransformationDirective),i("design:type",o.QueryList)],t.prototype,"transformations",void 0),r([o.Directive({selector:"[clHref], [clSrc], [clSrcset]"})],t)}()},"6sVZ":function(t,e){var n=Object.prototype;t.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||n)}},"77Zs":function(t,e,n){var r=n("Xi7e");t.exports=function(){this.__data__=new r,this.size=0}},"7GkX":function(t,e,n){var r=n("b80T"),i=n("A90E"),o=n("MMmD");t.exports=function(t){return o(t)?r(t):i(t)}},"7Ix3":function(t,e){t.exports=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}},"88Gu":function(t,e){var n=Date.now;t.exports=function(t){var e=0,r=0;return function(){var i=n(),o=16-(i-r);if(r=i,o>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}},"8g8A":function(t,e,n){"use strict";function r(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}n.d(e,"a",function(){return i}),r.prototype=Object.create(Error.prototype);var i=r},A90E:function(t,e,n){var r=n("6sVZ"),i=n("V6Ve"),o=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return i(t);var e=[];for(var n in Object(t))o.call(t,n)&&"constructor"!=n&&e.push(n);return e}},AP2z:function(t,e,n){var r=n("nmnc"),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;t.exports=function(t){var e=o.call(t,s),n=t[s];try{t[s]=void 0;var r=!0}catch(u){}var i=a.call(t);return r&&(e?t[s]=n:delete t[s]),i}},B8du:function(t,e){t.exports=function(){return!1}},BHEk:function(t,e,n){var r=n("mrSG").__decorate;Object.defineProperty(e,"__esModule",{value:!0});var i=n("CcnG");e.CloudinaryTransformationDirective=function(){function t(t){this.el=t}return t.prototype.getAttributes=function(){return this.el.nativeElement.attributes},r([i.Directive({selector:"cl-transformation"})],t)}()},BiGR:function(t,e,n){var r=n("nmnc"),i=n("03A+"),o=n("Z0cm"),a=r?r.isConcatSpreadable:void 0;t.exports=function(t){return o(t)||i(t)||!!(a&&t&&t[a])}},BkRI:function(t,e,n){var r=n("OBhP");t.exports=function(t){return r(t,5)}},CH3K:function(t,e){t.exports=function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}},CZoQ:function(t,e){t.exports=function(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}},CcnG:function(t,e,n){"use strict";n.r(e),n.d(e,"\u0275angular_packages_core_core_t",function(){return Jd}),n.d(e,"\u0275angular_packages_core_core_q",function(){return Yd}),n.d(e,"\u0275angular_packages_core_core_r",function(){return Zd}),n.d(e,"\u0275angular_packages_core_core_s",function(){return Xd}),n.d(e,"\u0275angular_packages_core_core_h",function(){return Xh}),n.d(e,"\u0275angular_packages_core_core_o",function(){return Id}),n.d(e,"\u0275angular_packages_core_core_p",function(){return Md}),n.d(e,"\u0275angular_packages_core_core_n",function(){return md}),n.d(e,"\u0275angular_packages_core_core_m",function(){return yd}),n.d(e,"\u0275angular_packages_core_core_c",function(){return ps}),n.d(e,"\u0275angular_packages_core_core_d",function(){return ke}),n.d(e,"\u0275angular_packages_core_core_e",function(){return Qh}),n.d(e,"\u0275angular_packages_core_core_f",function(){return Ph}),n.d(e,"\u0275angular_packages_core_core_g",function(){return Bh}),n.d(e,"\u0275angular_packages_core_core_l",function(){return af}),n.d(e,"\u0275angular_packages_core_core_u",function(){return Dp}),n.d(e,"\u0275angular_packages_core_core_w",function(){return wp}),n.d(e,"\u0275angular_packages_core_core_v",function(){return _p}),n.d(e,"\u0275angular_packages_core_core_z",function(){return Sp}),n.d(e,"\u0275angular_packages_core_core_x",function(){return Ep}),n.d(e,"\u0275angular_packages_core_core_y",function(){return Cp}),n.d(e,"\u0275angular_packages_core_core_bc",function(){return An}),n.d(e,"\u0275angular_packages_core_core_bj",function(){return p}),n.d(e,"\u0275angular_packages_core_core_bd",function(){return Xe}),n.d(e,"\u0275angular_packages_core_core_be",function(){return $e}),n.d(e,"\u0275angular_packages_core_core_bf",function(){return vn}),n.d(e,"\u0275angular_packages_core_core_bi",function(){return ii}),n.d(e,"\u0275angular_packages_core_core_bm",function(){return Xt}),n.d(e,"\u0275angular_packages_core_core_i",function(){return fu}),n.d(e,"\u0275angular_packages_core_core_j",function(){return hu}),n.d(e,"\u0275angular_packages_core_core_k",function(){return pu}),n.d(e,"\u0275angular_packages_core_core_a",function(){return I}),n.d(e,"\u0275angular_packages_core_core_b",function(){return x}),n.d(e,"\u0275angular_packages_core_core_bk",function(){return c}),n.d(e,"\u0275angular_packages_core_core_ba",function(){return Gm}),n.d(e,"\u0275angular_packages_core_core_bb",function(){return cy}),n.d(e,"createPlatform",function(){return Kp}),n.d(e,"assertPlatform",function(){return Wp}),n.d(e,"destroyPlatform",function(){return Yp}),n.d(e,"getPlatform",function(){return Zp}),n.d(e,"PlatformRef",function(){return Xp}),n.d(e,"ApplicationRef",function(){return $p}),n.d(e,"createPlatformFactory",function(){return Gp}),n.d(e,"NgProbeToken",function(){return Qp}),n.d(e,"enableProdMode",function(){return Vu}),n.d(e,"isDevMode",function(){return Bu}),n.d(e,"APP_ID",function(){return Zh}),n.d(e,"PACKAGE_ROOT_URL",function(){return rp}),n.d(e,"PLATFORM_INITIALIZER",function(){return tp}),n.d(e,"PLATFORM_ID",function(){return ep}),n.d(e,"APP_BOOTSTRAP_LISTENER",function(){return np}),n.d(e,"APP_INITIALIZER",function(){return Wh}),n.d(e,"ApplicationInitStatus",function(){return Yh}),n.d(e,"DebugElement",function(){return Ad}),n.d(e,"DebugNode",function(){return Td}),n.d(e,"asNativeElements",function(){return vd}),n.d(e,"getDebugNode",function(){return Dd}),n.d(e,"Testability",function(){return Lp}),n.d(e,"TestabilityRegistry",function(){return Bp}),n.d(e,"setTestabilityGetter",function(){return Vp}),n.d(e,"TRANSLATIONS",function(){return Kd}),n.d(e,"TRANSLATIONS_FORMAT",function(){return Gd}),n.d(e,"LOCALE_ID",function(){return Qd}),n.d(e,"MissingTranslationStrategy",function(){return Wd}),n.d(e,"ApplicationModule",function(){return $d}),n.d(e,"wtfCreateScope",function(){return Tp}),n.d(e,"wtfLeave",function(){return Ap}),n.d(e,"wtfStartTimeRange",function(){return Ip}),n.d(e,"wtfEndTimeRange",function(){return xp}),n.d(e,"Type",function(){return lf}),n.d(e,"EventEmitter",function(){return yl}),n.d(e,"ErrorHandler",function(){return Dh}),n.d(e,"Sanitizer",function(){return Tu}),n.d(e,"SecurityContext",function(){return Ou}),n.d(e,"ANALYZE_FOR_ENTRY_COMPONENTS",function(){return k}),n.d(e,"Attribute",function(){return R}),n.d(e,"ContentChild",function(){return j}),n.d(e,"ContentChildren",function(){return N}),n.d(e,"Query",function(){return P}),n.d(e,"ViewChild",function(){return F}),n.d(e,"ViewChildren",function(){return M}),n.d(e,"Component",function(){return Hf}),n.d(e,"Directive",function(){return zf}),n.d(e,"HostBinding",function(){return Yf}),n.d(e,"HostListener",function(){return Zf}),n.d(e,"Input",function(){return Gf}),n.d(e,"Output",function(){return Wf}),n.d(e,"Pipe",function(){return Qf}),n.d(e,"CUSTOM_ELEMENTS_SCHEMA",function(){return ah}),n.d(e,"NO_ERRORS_SCHEMA",function(){return sh}),n.d(e,"NgModule",function(){return uh}),n.d(e,"ViewEncapsulation",function(){return rt}),n.d(e,"Version",function(){return Au}),n.d(e,"VERSION",function(){return Iu}),n.d(e,"defineInjectable",function(){return b}),n.d(e,"defineInjector",function(){return _}),n.d(e,"forwardRef",function(){return X}),n.d(e,"resolveForwardRef",function(){return J}),n.d(e,"Injectable",function(){return mh}),n.d(e,"INJECTOR",function(){return hs}),n.d(e,"Injector",function(){return ds}),n.d(e,"inject",function(){return Re}),n.d(e,"\u0275inject",function(){return Re}),n.d(e,"InjectFlags",function(){return Te}),n.d(e,"ReflectiveInjector",function(){return Hh}),n.d(e,"createInjector",function(){return js}),n.d(e,"ResolvedReflectiveFactory",function(){return Mh}),n.d(e,"ReflectiveKey",function(){return xh}),n.d(e,"InjectionToken",function(){return C}),n.d(e,"Inject",function(){return Ee}),n.d(e,"Optional",function(){return Ce}),n.d(e,"Self",function(){return Se}),n.d(e,"SkipSelf",function(){return De}),n.d(e,"Host",function(){return Oe}),n.d(e,"NgZone",function(){return kp}),n.d(e,"\u0275NoopNgZone",function(){return Fp}),n.d(e,"RenderComponentType",function(){return vu}),n.d(e,"Renderer",function(){return bu}),n.d(e,"Renderer2",function(){return Cu}),n.d(e,"RendererFactory2",function(){return wu}),n.d(e,"RendererStyleFlags2",function(){return Eu}),n.d(e,"RootRenderer",function(){return _u}),n.d(e,"COMPILER_OPTIONS",function(){return gp}),n.d(e,"Compiler",function(){return vp}),n.d(e,"CompilerFactory",function(){return bp}),n.d(e,"ModuleWithComponentFactories",function(){return op}),n.d(e,"ComponentFactory",function(){return Xs}),n.d(e,"\u0275ComponentFactory",function(){return Xs}),n.d(e,"ComponentRef",function(){return Zs}),n.d(e,"ComponentFactoryResolver",function(){return iu}),n.d(e,"ElementRef",function(){return du}),n.d(e,"NgModuleFactory",function(){return uu}),n.d(e,"NgModuleRef",function(){return su}),n.d(e,"NgModuleFactoryLoader",function(){return ef}),n.d(e,"getModuleFactory",function(){return uf}),n.d(e,"QueryList",function(){return ed}),n.d(e,"SystemJsNgModuleLoader",function(){return id}),n.d(e,"SystemJsNgModuleLoaderConfig",function(){return nd}),n.d(e,"TemplateRef",function(){return ml}),n.d(e,"ViewContainerRef",function(){return ad}),n.d(e,"EmbeddedViewRef",function(){return pd}),n.d(e,"ViewRef",function(){return hd}),n.d(e,"ChangeDetectionStrategy",function(){return L}),n.d(e,"ChangeDetectorRef",function(){return cd}),n.d(e,"DefaultIterableDiffer",function(){return kd}),n.d(e,"IterableDiffers",function(){return Bd}),n.d(e,"KeyValueDiffers",function(){return Vd}),n.d(e,"SimpleChange",function(){return lr}),n.d(e,"WrappedValue",function(){return cr}),n.d(e,"platformCore",function(){return Hd}),n.d(e,"\u0275ALLOW_MULTIPLE_PLATFORMS",function(){return Hp}),n.d(e,"\u0275APP_ID_RANDOM_PROVIDER",function(){return Jh}),n.d(e,"\u0275defaultIterableDiffers",function(){return qd}),n.d(e,"\u0275defaultKeyValueDiffers",function(){return zd}),n.d(e,"\u0275devModeEqual",function(){return ur}),n.d(e,"\u0275isListLikeIterable",function(){return fr}),n.d(e,"\u0275ChangeDetectorStatus",function(){return B}),n.d(e,"\u0275isDefaultChangeDetectionStrategy",function(){return V}),n.d(e,"\u0275Console",function(){return ip}),n.d(e,"\u0275getInjectableDef",function(){return w}),n.d(e,"\u0275setCurrentInjector",function(){return Ie}),n.d(e,"\u0275APP_ROOT",function(){return Is}),n.d(e,"\u0275ivyEnabled",function(){return ey}),n.d(e,"\u0275CodegenComponentFactoryResolver",function(){return ou}),n.d(e,"\u0275resolveComponentResources",function(){return $}),n.d(e,"\u0275ReflectionCapabilities",function(){return yf}),n.d(e,"\u0275RenderDebugInfo",function(){return gu}),n.d(e,"\u0275_sanitizeHtml",function(){return uc}),n.d(e,"\u0275_sanitizeStyle",function(){return Kl}),n.d(e,"\u0275_sanitizeUrl",function(){return Hu}),n.d(e,"\u0275global",function(){return z}),n.d(e,"\u0275looseIdentical",function(){return W}),n.d(e,"\u0275stringify",function(){return Y}),n.d(e,"\u0275makeDecorator",function(){return T}),n.d(e,"\u0275isObservable",function(){return Gh}),n.d(e,"\u0275isPromise",function(){return Kh}),n.d(e,"\u0275clearOverrides",function(){return Ig}),n.d(e,"\u0275initServicesIfNeeded",function(){return Hv}),n.d(e,"\u0275overrideComponentView",function(){return Ag}),n.d(e,"\u0275overrideProvider",function(){return Tg}),n.d(e,"\u0275NOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR",function(){return tv}),n.d(e,"\u0275defineBase",function(){return ht}),n.d(e,"\u0275defineComponent",function(){return st}),n.d(e,"\u0275defineDirective",function(){return pt}),n.d(e,"\u0275definePipe",function(){return dt}),n.d(e,"\u0275defineNgModule",function(){return lt}),n.d(e,"\u0275detectChanges",function(){return ma}),n.d(e,"\u0275renderComponent",function(){return Za}),n.d(e,"\u0275Render3ComponentFactory",function(){return ju}),n.d(e,"\u0275Render3ComponentRef",function(){return Mu}),n.d(e,"\u0275directiveInject",function(){return Ma}),n.d(e,"\u0275injectAttribute",function(){return Fa}),n.d(e,"\u0275getFactoryOf",function(){return Fn}),n.d(e,"\u0275getInheritedFactory",function(){return Ln}),n.d(e,"\u0275templateRefExtractor",function(){return jl}),n.d(e,"\u0275ProvidersFeature",function(){return Ys}),n.d(e,"\u0275InheritDefinitionFeature",function(){return rs}),n.d(e,"\u0275NgOnChangesFeature",function(){return as}),n.d(e,"\u0275LifecycleHooksFeature",function(){return ts}),n.d(e,"\u0275Render3NgModuleRef",function(){return Wc}),n.d(e,"\u0275markDirty",function(){return _a}),n.d(e,"\u0275NgModuleFactory",function(){return Yc}),n.d(e,"\u0275NO_CHANGE",function(){return dr}),n.d(e,"\u0275container",function(){return ra}),n.d(e,"\u0275nextContext",function(){return fo}),n.d(e,"\u0275elementStart",function(){return Eo}),n.d(e,"\u0275namespaceHTML",function(){return go}),n.d(e,"\u0275namespaceMathML",function(){return vo}),n.d(e,"\u0275namespaceSVG",function(){return mo}),n.d(e,"\u0275element",function(){return bo}),n.d(e,"\u0275listener",function(){return Io}),n.d(e,"\u0275text",function(){return Qo}),n.d(e,"\u0275embeddedViewStart",function(){return sa}),n.d(e,"\u0275query",function(){return Pl}),n.d(e,"\u0275registerContentQuery",function(){return La}),n.d(e,"\u0275projection",function(){return fa}),n.d(e,"\u0275bind",function(){return wa}),n.d(e,"\u0275interpolation1",function(){return Sa}),n.d(e,"\u0275interpolation2",function(){return Da}),n.d(e,"\u0275interpolation3",function(){return Oa}),n.d(e,"\u0275interpolation4",function(){return Ta}),n.d(e,"\u0275interpolation5",function(){return Aa}),n.d(e,"\u0275interpolation6",function(){return Ia}),n.d(e,"\u0275interpolation7",function(){return xa}),n.d(e,"\u0275interpolation8",function(){return ka}),n.d(e,"\u0275interpolationV",function(){return Ca}),n.d(e,"\u0275pipeBind1",function(){return ul}),n.d(e,"\u0275pipeBind2",function(){return cl}),n.d(e,"\u0275pipeBind3",function(){return ll}),n.d(e,"\u0275pipeBind4",function(){return fl}),n.d(e,"\u0275pipeBindV",function(){return hl}),n.d(e,"\u0275pureFunction0",function(){return Xc}),n.d(e,"\u0275pureFunction1",function(){return Jc}),n.d(e,"\u0275pureFunction2",function(){return $c}),n.d(e,"\u0275pureFunction3",function(){return tl}),n.d(e,"\u0275pureFunction4",function(){return el}),n.d(e,"\u0275pureFunction5",function(){return nl}),n.d(e,"\u0275pureFunction6",function(){return rl}),n.d(e,"\u0275pureFunction7",function(){return il}),n.d(e,"\u0275pureFunction8",function(){return ol}),n.d(e,"\u0275pureFunctionV",function(){return al}),n.d(e,"\u0275getCurrentView",function(){return Ua}),n.d(e,"\u0275getHostElement",function(){return er}),n.d(e,"\u0275restoreView",function(){return Je}),n.d(e,"\u0275containerRefreshStart",function(){return oa}),n.d(e,"\u0275containerRefreshEnd",function(){return aa}),n.d(e,"\u0275queryRefresh",function(){return Nl}),n.d(e,"\u0275loadQueryList",function(){return Na}),n.d(e,"\u0275elementEnd",function(){return xo}),n.d(e,"\u0275elementProperty",function(){return Ro}),n.d(e,"\u0275componentHostSyntheticProperty",function(){return Po}),n.d(e,"\u0275projectionDef",function(){return ca}),n.d(e,"\u0275reference",function(){return Pa}),n.d(e,"\u0275enableBindings",function(){return Ye}),n.d(e,"\u0275disableBindings",function(){return Ze}),n.d(e,"\u0275allocHostVars",function(){return Ea}),n.d(e,"\u0275elementAttribute",function(){return ko}),n.d(e,"\u0275elementContainerStart",function(){return _o}),n.d(e,"\u0275elementContainerEnd",function(){return wo}),n.d(e,"\u0275elementStyling",function(){return Bo}),n.d(e,"\u0275elementHostAttrs",function(){return Vo}),n.d(e,"\u0275elementStylingMap",function(){return Ho}),n.d(e,"\u0275elementStyleProp",function(){return qo}),n.d(e,"\u0275elementStylingApply",function(){return Uo}),n.d(e,"\u0275elementClassProp",function(){return zo}),n.d(e,"\u0275textBinding",function(){return Ko}),n.d(e,"\u0275template",function(){return na}),n.d(e,"\u0275embeddedViewEnd",function(){return ua}),n.d(e,"\u0275store",function(){return Ra}),n.d(e,"\u0275load",function(){return ja}),n.d(e,"\u0275pipe",function(){return sl}),n.d(e,"\u0275whenRendered",function(){return es}),n.d(e,"\u0275i18n",function(){return Mc}),n.d(e,"\u0275i18nAttributes",function(){return Fc}),n.d(e,"\u0275i18nExp",function(){return Vc}),n.d(e,"\u0275i18nStart",function(){return xc}),n.d(e,"\u0275i18nEnd",function(){return Pc}),n.d(e,"\u0275i18nApply",function(){return Uc}),n.d(e,"\u0275i18nPostprocess",function(){return Rc}),n.d(e,"\u0275setClassMetadata",function(){return Zc}),n.d(e,"\u0275compileComponent",function(){return jf}),n.d(e,"\u0275compileDirective",function(){return Mf}),n.d(e,"\u0275compileNgModule",function(){return Of}),n.d(e,"\u0275compileNgModuleDefs",function(){return Tf}),n.d(e,"\u0275patchComponentDefWithScope",function(){return xf}),n.d(e,"\u0275resetCompiledComponents",function(){return Af}),n.d(e,"\u0275compilePipe",function(){return qf}),n.d(e,"\u0275sanitizeHtml",function(){return Gl}),n.d(e,"\u0275sanitizeStyle",function(){return Wl}),n.d(e,"\u0275defaultStyleSanitizer",function(){return Jl}),n.d(e,"\u0275sanitizeScript",function(){return Xl}),n.d(e,"\u0275sanitizeUrl",function(){return Yl}),n.d(e,"\u0275sanitizeResourceUrl",function(){return Zl}),n.d(e,"\u0275bypassSanitizationTrustHtml",function(){return Ll}),n.d(e,"\u0275bypassSanitizationTrustStyle",function(){return Bl}),n.d(e,"\u0275bypassSanitizationTrustScript",function(){return Vl}),n.d(e,"\u0275bypassSanitizationTrustUrl",function(){return Ul}),n.d(e,"\u0275bypassSanitizationTrustResourceUrl",function(){return ql}),n.d(e,"\u0275getLContext",function(){return Bn}),n.d(e,"\u0275bindPlayerFactory",function(){return ri}),n.d(e,"\u0275addPlayer",function(){return Ha}),n.d(e,"\u0275getPlayers",function(){return Qa}),n.d(e,"\u0275compileNgModuleFactory__POST_R3__",function(){return zp}),n.d(e,"\u0275SWITCH_COMPILE_COMPONENT__POST_R3__",function(){return Xf}),n.d(e,"\u0275SWITCH_COMPILE_DIRECTIVE__POST_R3__",function(){return Jf}),n.d(e,"\u0275SWITCH_COMPILE_PIPE__POST_R3__",function(){return $f}),n.d(e,"\u0275SWITCH_COMPILE_NGMODULE__POST_R3__",function(){return ch}),n.d(e,"\u0275getDebugNode__POST_R3__",function(){return Sd}),n.d(e,"\u0275SWITCH_COMPILE_INJECTABLE__POST_R3__",function(){return vh}),n.d(e,"\u0275SWITCH_IVY_ENABLED__POST_R3__",function(){return ty}),n.d(e,"\u0275SWITCH_CHANGE_DETECTOR_REF_FACTORY__POST_R3__",function(){return ld}),n.d(e,"\u0275Compiler_compileModuleSync__POST_R3__",function(){return cp}),n.d(e,"\u0275Compiler_compileModuleAsync__POST_R3__",function(){return fp}),n.d(e,"\u0275Compiler_compileModuleAndAllComponentsSync__POST_R3__",function(){return pp}),n.d(e,"\u0275Compiler_compileModuleAndAllComponentsAsync__POST_R3__",function(){return yp}),n.d(e,"\u0275SWITCH_ELEMENT_REF_FACTORY__POST_R3__",function(){return yu}),n.d(e,"\u0275SWITCH_TEMPLATE_REF_FACTORY__POST_R3__",function(){return vl}),n.d(e,"\u0275SWITCH_VIEW_CONTAINER_REF_FACTORY__POST_R3__",function(){return sd}),n.d(e,"\u0275SWITCH_RENDERER2_FACTORY__POST_R3__",function(){return Su}),n.d(e,"\u0275getModuleFactory__POST_R3__",function(){return sf}),n.d(e,"\u0275publishGlobalUtil",function(){return Ya}),n.d(e,"\u0275publishDefaultGlobalUtils",function(){return Wa}),n.d(e,"\u0275SWITCH_INJECTOR_FACTORY__POST_R3__",function(){return ys}),n.d(e,"\u0275registerModuleFactory",function(){return rf}),n.d(e,"\u0275EMPTY_ARRAY",function(){return Xy}),n.d(e,"\u0275EMPTY_MAP",function(){return Jy}),n.d(e,"\u0275and",function(){return $y}),n.d(e,"\u0275ccf",function(){return bm}),n.d(e,"\u0275cmf",function(){return xg}),n.d(e,"\u0275crt",function(){return _y}),n.d(e,"\u0275did",function(){return Hm}),n.d(e,"\u0275eld",function(){return tm}),n.d(e,"\u0275elementEventFullName",function(){return ky}),n.d(e,"\u0275getComponentViewDefinitionFactory",function(){return _m}),n.d(e,"\u0275inlineInterpolate",function(){return Yy}),n.d(e,"\u0275interpolate",function(){return Wy}),n.d(e,"\u0275mod",function(){return lm}),n.d(e,"\u0275mpd",function(){return cm}),n.d(e,"\u0275ncd",function(){return hv}),n.d(e,"\u0275nov",function(){return km}),n.d(e,"\u0275pid",function(){return Qm}),n.d(e,"\u0275prd",function(){return Km}),n.d(e,"\u0275pad",function(){return yv}),n.d(e,"\u0275pod",function(){return mv}),n.d(e,"\u0275ppd",function(){return dv}),n.d(e,"\u0275qud",function(){return sv}),n.d(e,"\u0275ted",function(){return gv}),n.d(e,"\u0275unv",function(){return vy}),n.d(e,"\u0275vid",function(){return wv});var r=n("mrSG"),i=n("pugT"),o=n("K9Ia"),a=n("6blF"),s=n("p0ib"),u=n("S1nX");function c(t){for(var e in t)if(t[e]===c)return e;throw Error("Could not find renamed property on target object.")}function l(t,e){for(var n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}var f=c({ngComponentDef:c}),h=c({ngDirectiveDef:c}),p=c({ngInjectableDef:c}),d=c({ngInjectorDef:c}),y=c({ngPipeDef:c}),m=c({ngModuleDef:c}),v=c({ngBaseDef:c}),g=c({__NG_ELEMENT_ID__:c});function b(t){return{providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function _(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function w(t){return t&&t.hasOwnProperty(p)?t[p]:null}function E(t){return t&&t.hasOwnProperty(d)?t[d]:null}var C=function(){function t(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.ngInjectableDef=void 0!==e?b({providedIn:e.providedIn||"root",factory:e.factory}):void 0}return t.prototype.toString=function(){return"InjectionToken "+this._desc},t}(),S="__annotations__",D="__parameters__",O="__prop__metadata__";function T(t,e,n,i,o){var a=A(e);function s(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(this instanceof s)return a.call.apply(a,Object(r.__spread)([this],e)),this;var u=new((t=s).bind.apply(t,Object(r.__spread)([void 0],e)));return function(t){return o&&o.apply(void 0,Object(r.__spread)([t],e)),(t.hasOwnProperty(S)?t[S]:Object.defineProperty(t,S,{value:[]})[S]).push(u),i&&i(t),t}}return n&&(s.prototype=Object.create(n.prototype)),s.prototype.ngMetadataName=t,s.annotationCls=s,s}function A(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(t){var i=t.apply(void 0,Object(r.__spread)(e));for(var o in i)this[o]=i[o]}}}function I(t,e,n){var i=A(e);function o(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(this instanceof o)return i.apply(this,e),this;var a=new((t=o).bind.apply(t,Object(r.__spread)([void 0],e)));return s.annotation=a,s;function s(t,e,n){for(var r=t.hasOwnProperty(D)?t[D]:Object.defineProperty(t,D,{value:[]})[D];r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(a),t}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=t,o.annotationCls=o,o}function x(t,e,n,i){var o=A(e);function a(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(this instanceof a)return o.apply(this,e),this;var s=new((t=a).bind.apply(t,Object(r.__spread)([void 0],e)));return function(t,n){var o=t.constructor,a=o.hasOwnProperty(O)?o[O]:Object.defineProperty(o,O,{value:{}})[O];a[n]=a.hasOwnProperty(n)&&a[n]||[],a[n].unshift(s),i&&i.apply(void 0,Object(r.__spread)([t,n],e))}}return n&&(a.prototype=Object.create(n.prototype)),a.prototype.ngMetadataName=t,a.annotationCls=a,a}var k=new C("AnalyzeForEntryComponents"),R=I("Attribute",function(t){return{attributeName:t}}),P=function(){return function(){}}(),N=x("ContentChildren",function(t,e){return void 0===e&&(e={}),Object(r.__assign)({selector:t,first:!1,isViewQuery:!1,descendants:!1},e)},P),j=x("ContentChild",function(t,e){return void 0===e&&(e={}),Object(r.__assign)({selector:t,first:!0,isViewQuery:!1,descendants:!0},e)},P),M=x("ViewChildren",function(t,e){return void 0===e&&(e={}),Object(r.__assign)({selector:t,first:!1,isViewQuery:!0,descendants:!0},e)},P),F=x("ViewChild",function(t,e){return Object(r.__assign)({selector:t,first:!0,isViewQuery:!0,descendants:!0},e)},P),L=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),B=function(t){return t[t.CheckOnce=0]="CheckOnce",t[t.Checked=1]="Checked",t[t.CheckAlways=2]="CheckAlways",t[t.Detached=3]="Detached",t[t.Errored=4]="Errored",t[t.Destroyed=5]="Destroyed",t}({});function V(t){return null==t||t===L.Default}var U="undefined"!=typeof window&&window,q="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,z="undefined"!=typeof global&&global||U||q,H=Promise.resolve(0),Q=null;function K(){if(!Q){var t=z.Symbol;if(t&&t.iterator)Q=t.iterator;else for(var e=Object.getOwnPropertyNames(Map.prototype),n=0;n<e.length;++n){var r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Q=r)}}return Q}function G(t){"undefined"==typeof Zone?H.then(function(){t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}function W(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}function Y(t){if("string"==typeof t)return t;if(t instanceof Array)return"["+t.map(Y).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;var e=t.toString();if(null==e)return""+e;var n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}var Z=c({__forward_ref__:c});function X(t){return t.__forward_ref__=X,t.toString=function(){return Y(this())},t}function J(t){var e=t;return"function"==typeof e&&e.hasOwnProperty(Z)&&e.__forward_ref__===X?e():t}function $(t){var e=[],n=new Map;function r(r){var i=n.get(r);if(!i){var o=t(r);n.set(r,i=o.then(nt)),e.push(i)}return i}return tt.forEach(function(t){t.templateUrl&&r(t.templateUrl).then(function(e){t.template=e,t.templateUrl=void 0});var e=t.styleUrls,n=t.styles||(t.styles=[]),i=t.styles.length;e&&e.forEach(function(o,a){n.push(""),r(o).then(function(r){n[i+a]=r,e.splice(e.indexOf(o),1),0==e.length&&(t.styleUrls=void 0)})})}),tt.clear(),Promise.all(e).then(function(){return null})}var tt=new Set;function et(t){return t.templateUrl||t.styleUrls&&t.styleUrls.length}function nt(t){return"string"==typeof t?t:t.text()}var rt=function(t){return t[t.Emulated=0]="Emulated",t[t.Native=1]="Native",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({}),it={},ot=[],at=0;function st(t){var e=t.type,n=e.prototype,r={},i={type:e,providersResolver:null,consts:t.consts,vars:t.vars,factory:t.factory,template:t.template||null,hostBindings:t.hostBindings||null,contentQueries:t.contentQueries||null,contentQueriesRefresh:t.contentQueriesRefresh||null,attributes:t.attributes||null,declaredInputs:r,inputs:null,outputs:null,exportAs:t.exportAs||null,onInit:n.ngOnInit||null,doCheck:n.ngDoCheck||null,afterContentInit:n.ngAfterContentInit||null,afterContentChecked:n.ngAfterContentChecked||null,afterViewInit:n.ngAfterViewInit||null,afterViewChecked:n.ngAfterViewChecked||null,onDestroy:n.ngOnDestroy||null,onPush:t.changeDetection===L.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||rt.Emulated,id:"c",styles:t.styles||ot,_:null};return i._=""+{toString:function(){var e=t.directives,n=t.features,o=t.pipes;i.id+=at++,i.inputs=ft(t.inputs,r),i.outputs=ft(t.outputs),n&&n.forEach(function(t){return t(i)}),i.directiveDefs=e?function(){return("function"==typeof e?e():e).map(ut)}:null,i.pipeDefs=o?function(){return("function"==typeof o?o():o).map(ct)}:null}},i}function ut(t){return yt(t)||mt(t)}function ct(t){return vt(t)}function lt(t){return{type:t.type,bootstrap:t.bootstrap||ot,declarations:t.declarations||ot,imports:t.imports||ot,exports:t.exports||ot,transitiveCompileScopes:null}}function ft(t,e){if(null==t)return it;var n={};for(var r in t)if(t.hasOwnProperty(r)){var i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}function ht(t){var e={};return{inputs:ft(t.inputs,e),declaredInputs:e,outputs:ft(t.outputs)}}var pt=st;function dt(t){return{name:t.name,factory:t.factory,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function yt(t){return t[f]||null}function mt(t){return t[h]||null}function vt(t){return t[y]||null}function gt(t,e){var n=t[m]||null;if(!n&&!0===e)throw new Error("Type "+Y(t)+" does not have 'ngModuleDef' property.");return n}var bt=0,_t=1,wt=2,Et=3,Ct=4,St=5,Dt=6,Ot=7,Tt=8,At=9,It=10,xt=11,kt=12,Rt=13,Pt=14,Nt=15,jt=16,Mt=17,Ft=18,Lt=0,Bt=1,Vt=6,Ut=7,qt=8,zt="__ngContext__",Ht=8,Qt=8,Kt=9,Gt=-1,Wt=function(){return function(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}(),Yt=Wt.prototype;function Zt(t){return"function"==typeof t?t.name||t:"string"==typeof t?t:null==t?"":"object"==typeof t&&"function"==typeof t.type?t.type.name||t.type:""+t}function Xt(t,e){return t[e+Ft]}function Jt(t){for(;Array.isArray(t);)t=t[St];return t}function $t(t,e){return Jt(e[t+Ft])}function te(t,e){return Jt(e[t.index])}function ee(t,e){return e[bt].data[t+Ft]}function ne(t,e){var n=e[t];return n.length>=Ft?n:n[St]}function re(t){return 0!=(4&t.flags)}function ie(t){return 1==(1&t.flags)}function oe(t){return null!==t.template}function ae(t){return Array.isArray(t)&&t.length===qt}function se(t){return 0!=(128&t[_t])}function ue(t){for(var e=Array.isArray(t)?t:fe(t);e&&!(128&e[_t]);)e=e[wt];return e}function ce(t){return ue(t)[At]}function le(t){return t[zt]}function fe(t){var e=le(t);return e?Array.isArray(e)?e:e.lView:null}function he(t){return t!==Gt}function pe(t){return 32767&t}function de(t){return t>>16}function ye(t,e){for(var n=de(t),r=e;n>0;)r=r[Mt],n--;return r}var me=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(z);function ve(t,e){for(var n=0;n<t.length;n++)e.push(t[n])}function ge(t){for(var e=t[Dt];e&&2===e.type;)e=(t=t[Mt])[Dt];return t}function be(){var t=z.ng;if(!t||!t.\u0275compilerFacade)throw new Error("Angular JIT compilation failed: '@angular/compiler' not loaded!\n  - JIT compilation is discouraged for production use-cases! Consider AOT mode instead.\n  - Did you bootstrap using '@angular/platform-browser-dynamic' or '@angular/platform-server'?\n  - Alternatively provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.");return t.\u0275compilerFacade}var _e,we,Ee=I("Inject",function(t){return{token:t}}),Ce=I("Optional"),Se=I("Self"),De=I("SkipSelf"),Oe=I("Host"),Te=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({}),Ae=void 0;function Ie(t){var e=Ae;return Ae=t,e}function xe(t){var e=_e;return _e=t,e}function ke(t,e){if(void 0===e&&(e=Te.Default),void 0===Ae)throw new Error("inject() must be called from an injection context");return null===Ae?Pe(t,void 0,e):Ae.get(t,e&Te.Optional?null:void 0,e)}function Re(t,e){return void 0===e&&(e=Te.Default),(_e||ke)(t,e)}function Pe(t,e,n){var r=w(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&Te.Optional)return null;if(void 0!==e)return e;throw new Error("Injector: NOT_FOUND ["+Y(t)+"]")}function Ne(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");for(var i=void 0,o=Te.Default,a=0;a<r.length;a++){var s=r[a];s instanceof Ce||"Optional"===s.ngMetadataName?o|=Te.Optional:s instanceof De||"SkipSelf"===s.ngMetadataName?o|=Te.SkipSelf:s instanceof Se||"Self"===s.ngMetadataName?o|=Te.Self:i=s instanceof Ee?s.token:s}e.push(Re(i,o))}else e.push(Re(r))}return e}function je(t,e,n,r){e&&(r.initHooks||(r.initHooks=[])).push(t,e),n&&((r.initHooks||(r.initHooks=[])).push(t,n),(r.checkHooks||(r.checkHooks=[])).push(t,n))}function Me(t,e){if(t.firstTemplatePass)for(var n=e.directiveStart,r=e.directiveEnd;n<r;n++){var i=t.data[n];Fe(i,t,n),Le(i,t,n),Be(i,t,n)}}function Fe(t,e,n){t.afterContentInit&&(e.contentHooks||(e.contentHooks=[])).push(n,t.afterContentInit),t.afterContentChecked&&((e.contentHooks||(e.contentHooks=[])).push(n,t.afterContentChecked),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,t.afterContentChecked))}function Le(t,e,n){t.afterViewInit&&(e.viewHooks||(e.viewHooks=[])).push(n,t.afterViewInit),t.afterViewChecked&&((e.viewHooks||(e.viewHooks=[])).push(n,t.afterViewChecked),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,t.afterViewChecked))}function Be(t,e,n){null!=t.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(n,t.onDestroy)}function Ve(t,e,n){!n&&32&t[_t]&&(Ue(t,e.initHooks,e.checkHooks,n),t[_t]&=-33)}function Ue(t,e,n,r){if(!r){var i=2&t[_t]?e:n;i&&qe(t,i)}}function qe(t,e){for(var n=0;n<e.length;n+=2)e[n+1].call(t[e[n]])}var ze,He,Qe,Ke,Ge=null;function We(t){Ge=t}function Ye(){ze=!0}function Ze(){ze=!1}function Xe(){return Ke}function Je(t){an=t}function $e(){return He}function tn(t){He=t}function en(t,e){He=t,Ke=e}function nn(){return Qe}function rn(t){Qe=t}function on(t){return void 0===t&&(t=Ke),1==(1&t[_t])}var an=null,sn=!1;function un(){return sn}function cn(t){sn=t}var ln=!0;function fn(){return ln}function hn(t){ln=t}var pn=-1;function dn(){return pn}function yn(t){pn=t}function mn(t,e){var n=Ke;if(t){var r=t[bt];ln=r.firstTemplatePass,pn=r.bindingStartIndex}return He=e,Qe=!0,Ke=an=t,n}function vn(t){return void 0===t&&(t=1),(an=function(t,e){for(;t>0;)e=e[Mt],t--;return e}(t,an))[At]}function gn(t){var e=Ke[bt];on(Ke)?Ke[_t]&=-2:(Ue(Ke,e.viewHooks,e.viewCheckHooks,sn),Ke[_t]&=-11,Ke[_t]|=32,Ke[Ot]=e.bindingStartIndex),mn(t,null)}var bn=!0;function _n(t){var e=bn;return bn=t,e}var wn=255,En=0;function Cn(t,e){var n=Dn(t,e);if(-1!==n)return n;var r=e[bt];r.firstTemplatePass&&(t.injectorIndex=e.length,Sn(r.data,t),Sn(e,null),Sn(r.blueprint,null));var i=On(t,e),o=pe(i),a=ye(i,e),s=t.injectorIndex;if(he(i))for(var u=a[bt].data,c=0;c<8;c++)e[s+c]=a[o+c]|u[o+c];return e[s+Qt]=i,s}function Sn(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Dn(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null==e[t.injectorIndex+Qt]?-1:t.injectorIndex}function On(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;for(var n=e[Dt],r=1;n&&-1===n.injectorIndex;)n=(e=e[Mt])?e[Dt]:null,r++;return n?n.injectorIndex|r<<16:-1}function Tn(t,e,n){!function(t,e,n){var r="string"!=typeof n?n[g]:n.charCodeAt(0)||0;null==r&&(r=n[g]=En++);var i=r&wn,o=1<<i,a=64&i,s=32&i,u=e.data;128&i?a?s?u[t+7]|=o:u[t+6]|=o:s?u[t+5]|=o:u[t+4]|=o:a?s?u[t+3]|=o:u[t+2]|=o:s?u[t+1]|=o:u[t]|=o}(t,e[bt],n)}function An(t,e){var n=t.attrs;if(n)for(var r=0;r<n.length;r+=2){var i=n[r];if(3===i)break;if(i==e)return n[r+1]}return null}function In(t,e,n,r,i){if(void 0===r&&(r=Te.Default),t){var o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;var e=t[g];return"number"==typeof e?e&wn:e}(n);if("function"==typeof o){var a=$e(),s=Xe();en(t,e);try{var u=o();if(null!=u||r&Te.Optional)return u;throw new Error("No provider for "+Zt(n)+"!")}finally{en(a,s)}}else if("number"==typeof o){var c=null,l=Dn(t,e),f=Gt,h=r&Te.Host?ge(e)[Dt]:null;for((-1===l||r&Te.SkipSelf)&&(f=-1===l?On(t,e):e[l+Qt],jn(r,!1)?(c=e[bt],l=pe(f),e=ye(f,e)):l=-1);-1!==l;){f=e[l+Qt];var p=e[bt];if(Nn(o,l,p.data)){var d=kn(l,e,n,c,r,h);if(d!==xn)return d}jn(r,e[bt].data[l+Ht]===h)&&Nn(o,l,e)?(c=p,l=pe(f),e=ye(f,e)):l=-1}}}if(r&Te.Optional&&void 0===i&&(i=null),0==(r&(Te.Self|Te.Host))){var y=e[It];return y?y.get(n,i,r&Te.Optional):Pe(n,i,r&Te.Optional)}if(r&Te.Optional)return i;throw new Error("NodeInjector: NOT_FOUND ["+Zt(n)+"]")}var xn={};function kn(t,e,n,r,i,o){var a=e[bt],s=a.data[t+Ht],u=Rn(s,e,n,null==r?ie(s)&&bn:r!=a&&3===s.type,i&Te.Host&&o===s);return null!==u?Pn(a.data,e,u,s):xn}function Rn(t,e,n,r,i){for(var o=t.providerIndexes,a=e[bt].data,s=65535&o,u=t.directiveStart,c=o>>16,l=i?s+c:t.directiveEnd,f=r?s:s+c;f<l;f++){var h=a[f];if(f<u&&n===h||f>=u&&h.type===n)return f}if(i){var p=a[u];if(p&&oe(p)&&p.type===n)return u}return null}function Pn(t,e,n,r){var i,o=e[n];if(null!=(i=o)&&"object"==typeof i&&Object.getPrototypeOf(i)==Yt){var a=o;if(a.resolving)throw new Error("Circular dep for "+Zt(t[n]));var s=_n(a.canSeeViewProviders);a.resolving=!0;var u=void 0;a.injectImpl&&(u=xe(a.injectImpl));var c=$e(),l=Xe();en(r,e);try{o=e[n]=a.factory(null,t,e,r)}finally{a.injectImpl&&xe(u),_n(s),a.resolving=!1,en(c,l)}}return o}function Nn(t,e,n){var r=64&t,i=32&t;return!!((128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e])&1<<t)}function jn(t,e){return!(t&Te.Self||t&Te.Host&&e)}var Mn=function(){function t(t,e){this._tNode=t,this._lView=e}return t.prototype.get=function(t,e){return In(this._tNode,this._lView,t,void 0,e)},t}();function Fn(t){var e=t,n=yt(e)||mt(e)||vt(e)||w(e)||E(e);return n&&void 0!==n.factory?n.factory:null}function Ln(t){var e=Fn(Object.getPrototypeOf(t.prototype).constructor);return null!==e?e:function(t){return new t}}function Bn(t){var e,n=le(t);if(n){if(Array.isArray(n)){var r=n,i=void 0,o=void 0,a=void 0;if((e=t)&&e.constructor&&e.constructor.ngComponentDef){if(-1==(i=Qn(r,t)))throw new Error("The provided component was not found in the application");o=t}else if(t&&t.constructor&&t.constructor.ngDirectiveDef){if(-1==(i=function(t,e){for(var n=t[bt].firstChild;n;){for(var r=n.directiveEnd,i=n.directiveStart;i<r;i++)if(t[i]===e)return n.index;n=Hn(n)}return-1}(r,t)))throw new Error("The provided directive was not found in the application");a=Kn(i,r,!1)}else if(-1==(i=zn(r,t)))return null;var s=le(d=Jt(r[i])),u=s&&!Array.isArray(s)?s:Vn(r,i,d);if(o&&void 0===u.component&&(u.component=o,qn(u.component,u)),a&&void 0===u.directives){u.directives=a;for(var c=0;c<a.length;c++)qn(a[c],u)}qn(u.native,u),n=u}}else for(var l=t,f=l;f=f.parentNode;){var h=le(f);if(h){if(r=void 0,!(r=Array.isArray(h)?h:h.lView))return null;var p=zn(r,l);if(p>=0){var d;qn(d=Jt(r[p]),u=Vn(r,p,d)),n=u;break}}}return n||null}function Vn(t,e,n){return{lView:t,nodeIndex:e,native:n,component:void 0,directives:void 0,localRefs:void 0}}function Un(t){var e,n=le(t);if(Array.isArray(n)){var r=Qn(n,t);(i=Vn(n,r,(e=ne(r,n))[St])).component=t,qn(t,i),qn(i.native,i)}else{var i;e=ne((i=n).nodeIndex,i.lView)}return e}function qn(t,e){t[zt]=e}function zn(t,e){for(var n=t[bt].firstChild;n;){if(te(n,t)===e)return n.index;n=Hn(n)}return-1}function Hn(t){if(t.child)return t.child;if(t.next)return t.next;for(;t.parent&&!t.parent.next;)t=t.parent;return t.parent&&t.parent.next}function Qn(t,e){var n=t[bt].components;if(n)for(var r=0;r<n.length;r++){var i=n[r];if(ne(i,t)[At]===e)return i}else if(ne(Ft,t)[At]===e)return Ft;return-1}function Kn(t,e,n){var r=e[bt].data[t],i=r.directiveStart;return 0==i?ot:(!n&&1&r.flags&&i++,e.slice(i,r.directiveEnd))}function Gn(t){var e,n,r=nr(t);return void 0===r.component&&(r.component=1&(n=(e=r.lView)[bt].data[r.nodeIndex]).flags?e[n.directiveStart]:null),r.component}function Wn(t){return nr(t).lView[At]}function Yn(t){for(var e=tr(t).lView;e[wt]&&null===e[St];)e=e[wt];return 128&e[_t]?null:e[At]}function Zn(t){return function(t){var e;for(e=Array.isArray(t)?t:fe(t);e&&!(128&e[_t]);)e=e[wt];return e}(Array.isArray(t)?t:tr(t).lView)[At]}function Xn(t){return Object(r.__spread)(Zn(t).components)}function Jn(t){var e=tr(t);return new Mn(e.lView[bt].data[e.nodeIndex],e.lView)}function $n(t){var e=tr(t);return void 0===e.directives&&(e.directives=Kn(e.nodeIndex,e.lView,!1)),e.directives||[]}function tr(t,e){void 0===e&&(e=!0);var n=Bn(t);if(!n&&e)throw new Error("Invalid ng target");return n}function er(t){return Bn(t).native}function nr(t){if(!(t instanceof Node))throw new Error("Expecting instance of DOM Node");return tr(t)}function rr(t){return"boolean"==typeof t.useCapture}function ir(t){var e=nr(t).lView,n=e[Tt],r=e[bt].cleanup,i=[];if(r&&n)for(var o=0;o<r.length;){var a=r[o++],s=r[o++];if("string"==typeof a){var u=a,c=Jt(e[s]),l=n[r[o++]],f=r[o++];t==c&&i.push({element:t,name:u,callback:l,useCapture:"boolean"==typeof f?f:!(f>=0)&&null})}}return i.sort(or),i}function or(t,e){return t.name==e.name?0:t.name<e.name?-1:1}var ar=/([A-Z])/g;function sr(t){try{return null!=t?t.toString().slice(0,30):t}catch(e){return"[ERROR] Exception while trying to serialize the value"}}function ur(t,e){var n=fr(t),r=fr(e);return n&&r?function(t,e,n){for(var r=t[K()](),i=e[K()]();;){var o=r.next(),a=i.next();if(o.done&&a.done)return!0;if(o.done||a.done)return!1;if(!n(o.value,a.value))return!1}}(t,e,ur):!(n||!t||"object"!=typeof t&&"function"!=typeof t||r||!e||"object"!=typeof e&&"function"!=typeof e)||W(t,e)}var cr=function(){function t(t){this.wrapped=t}return t.wrap=function(e){return new t(e)},t.unwrap=function(e){return t.isWrapped(e)?e.wrapped:e},t.isWrapped=function(e){return e instanceof t},t}(),lr=function(){function t(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}return t.prototype.isFirstChange=function(){return this.firstChange},t}();function fr(t){return!!hr(t)&&(Array.isArray(t)||!(t instanceof Map)&&K()in t)}function hr(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function pr(t){throw new Error("Multiple components match node with tagname "+t.tagName)}var dr={};function yr(t,e,n){return t[e]=n}function mr(t,e){return t[e]}function vr(t,e,n){if(t[e]===dr)t[e]=n;else{if(i=n,(r=t[e])!=r&&i!=i||r===i)return!1;t[e]=n}var r,i;return!0}function gr(t,e,n,r){var i=vr(t,e,n);return vr(t,e+1,r)||i}function br(t,e,n,r,i){var o=gr(t,e,n,r);return vr(t,e+2,i)||o}function _r(t,e,n,r,i,o){var a=gr(t,e,n,r);return gr(t,e+2,i,o)||a}var wr="ngProjectAs",Er=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function Cr(t){return!!t.listen}var Sr={createRenderer:function(t,e){return document}};function Dr(t,e){return null==t.parent?function(t){var e=t[Dt];return e&&2!==e.type?te(e,t[wt]):null}(e):te(Or(t),e)}function Or(t){for(var e=t.parent;e&&5===e.type;)e=e.parent;return e}function Tr(t,e){if(-1===t.index){var n=e[Nt];return n>-1?e[wt][n]:null}return e[wt][t.parent.index]}function Ar(t,e){var n=Tr(t,e);return n?n[Ut]:null}var Ir=[];function xr(t,e,n,r,i){for(var o=t[bt].node,a=-1,s=t,u=o.child;u;){var c=null;if(3===u.type){kr(e,n,r,te(u,s),i);var l=s[u.index];ae(l)&&kr(e,n,r,l[Vt],i)}else if(0===u.type){var f=s[u.index];kr(e,n,r,f[Vt],i),r&&(f[Ut]=r),f[Bt].length&&(c=(s=f[Bt][0])[bt].node,i=f[Vt])}else if(1===u.type){var h=ge(s),p=h[Dt].projection[u.projection];Ir[++a]=u,Ir[++a]=s,p&&(c=(s=h[wt])[bt].data[p.index])}else c=u.child;if(null===c)for(null===u.next&&2&u.flags&&(s=Ir[a--],u=Ir[a--]),c=u.next;!c;){if(null===(u=u.parent||s[bt].node)||u===o)return null;0===u.type&&(i=(s=s[wt])[u.index][Vt]),c=2===u.type&&s[Et]?(s=s[Et])[bt].node:u.next}u=c}}function kr(t,e,n,r,i){0===t?Cr(e)?e.insertBefore(n,r,i):n.insertBefore(r,i,!0):1===t?Cr(e)?e.removeChild(n,r):n.removeChild(r):2===t&&e.destroyNode(r)}function Rr(t,e){return Cr(e)?e.createText(Zt(t)):e.createTextNode(Zt(t))}function Pr(t,e,n){var r=Ar(t[bt].node,t);r&&xr(t,e?0:1,t[kt],r,n)}function Nr(t,e,n,r,i){var o=e[Bt];r>0&&(o[r-1][Et]=t),r<o.length?(t[Et]=o[r],o.splice(r,0,t)):(o.push(t),t[Et]=null),i>-1&&(t[Nt]=i,t[wt]=n),t[Ct]&&t[Ct].insertView(r),t[_t]|=16}function jr(t,e,n){var r=t[Bt],i=r[e];return e>0&&(r[e-1][Et]=i[Et]),r.splice(e,1),n||Pr(i,!1),i[Ct]&&i[Ct].removeView(),i[Nt]=-1,i[wt]=null,i[_t]&=-17,i}function Mr(t,e,n){var r=t[Bt][n];jr(t,n,!!e.detached),Lr(r)}function Fr(t){var e=t[bt].childIndex;return-1===e?null:t[e]}function Lr(t){var e=t[kt];Cr(e)&&e.destroyNode&&xr(t,2,e,null),function(t){if(-1===t[bt].childIndex)return Vr(t);for(var e=Fr(t);e;){var n=null;if(e.length>=Ft?e[bt].childIndex>-1&&(n=Fr(e)):e[Bt].length&&(n=e[Bt][0]),null==n){for(;e&&!e[Et]&&e!==t;)Vr(e),e=Br(e,t);Vr(e||t),n=e&&e[Et]}e=n}}(t),t[_t]|=64}function Br(t,e){var n;return t.length>=Ft&&(n=t[Dt])&&2===n.type?Tr(n,t):t[wt]===e?null:t[wt]}function Vr(t){if(t.length>=Ft){var e=t;!function(t){var e,n=t[bt];null!=n&&null!=(e=n.destroyHooks)&&qe(t,e)}(e),(i=(r=e)[bt]&&r[bt].pipeDestroyHooks)&&qe(r,i),function(t){var e=t[bt].cleanup;if(null!=e){for(var n=t[Tt],r=0;r<e.length-1;r+=2)if("string"==typeof e[r]){var i=n[e[r+2]],o=Jt(t[e[r+1]]),a=e[r+3];"boolean"==typeof a?o.removeEventListener(e[r],i,a):a>=0?n[a]():n[-a].unsubscribe(),r+=2}else"number"==typeof e[r]?(0,n[e[r]])():e[r].call(n[e[r+1]]);t[Tt]=null}}(e);var n=e[Dt];n&&3===n.type&&Cr(e[kt])&&e[kt].destroy()}var r,i}function Ur(t,e){if(qr(t,e)){if(se(e))return Hr(e[kt],te(t,e));var n=e[Dt],r=t.parent;return null!=r&&4===r.type&&(t=Kr(r)),null==t.parent&&2===n.type?Ar(n,e):Dr(t,e)}return null}function qr(t,e){var n,r=t,i=t.parent;return t.parent&&(4===t.parent.type?i=(r=Kr(t)).parent:5===t.parent.type&&(i=(r=Or(r)).parent)),null===i&&(i=e[Dt]),i&&2===i.type?null!=(n=Tr(i,e))&&null!=n[Ut]:null==r.parent||!(3!==r.parent.type||1&r.parent.flags)}function zr(t,e,n,r){Cr(t)?t.insertBefore(e,n,r):e.insertBefore(n,r,!0)}function Hr(t,e){return Cr(t)?t.parentNode(e):e.parentNode}function Qr(t,e,n){if(void 0===t&&(t=null),null!==t&&qr(e,n)){var r=n[kt],i=Dr(e,n),o=e.parent||n[Dt];if(2===o.type){var a=Tr(o,n),s=a[Bt],u=s.indexOf(n);zr(r,a[Ut],t,Gr(u,s,a[Vt]))}else 4===o.type?zr(r,Ur(e,n),t,i):5===o.type?zr(r,i,t,te(e.parent,n)):Cr(r)?r.appendChild(i,t):i.appendChild(t);return!0}return!1}function Kr(t){for(;null!=t.parent&&4===t.parent.type;)t=t.parent;return t}function Gr(t,e,n){if(t+1<e.length){var r=e[t+1],i=r[Dt];return i.child?te(i.child,r):n}return n}function Wr(t,e,n){if(null!==e&&qr(t,n)){var r=Dr(t,n),i=n[kt];return Cr(i)?i.removeChild(r,e):r.removeChild(e),!0}return!1}function Yr(t,e,n,r){var i=te(t,r);Qr(i,e,n),qn(i,r);var o=Ur(e,n),a=r[t.index];if(0===t.type){a[Ut]=o;for(var s=a[Bt],u=0;u<s.length;u++)Pr(s[u],!0,a[Vt])}else{if(4===t.type)for(var c=t.child;c;)Yr(c,e,n,r),c=c.next;ae(a)&&(a[Ut]=o,Qr(a[Vt],e,n))}}var Zr="ng-template";function Xr(t,e,n){return e===t.tagName&&(n||3===t.type||4===t.type||0===t.type&&e===Zr)}function Jr(t,e,n){for(var r,i,o,a,s,u=4,c=t.attrs,l=c?c.indexOf(3):-1,f=!1,h=0;h<e.length;h++){var p=e[h];if("number"!=typeof p){if(!f)if(4&u){if(u=2|1&u,""!==p&&!Xr(t,p,n)||""===p&&1===e.length){if($r(u))return!1;f=!0}}else{var d=ti(8&u?"class":p,c);if(-1===d){if($r(u))return!1;f=!0;continue}var y,m=8&u?p:e[++h];if(""!==m)if(y=l>-1&&d>l?"":c[d+1],8&u&&(o=(r=y).length,s=(a=r.indexOf(i=m))+i.length,-1===a||a>0&&" "!==r[a-1]||s<o&&" "!==r[s])||2&u&&m!==y){if($r(u))return!1;f=!0}}}else{if(!f&&!$r(u)&&!$r(p))return!1;if(f&&$r(p))continue;f=!1,u=p|1&u}}return $r(u)||f}function $r(t){return 0==(1&t)}function ti(t,e){if(null===e)return-1;for(var n=!1,r=0;r<e.length;){var i=e[r];if(i===t)return r;0===i?r+=4:(3===i&&(n=!0),r+=n?1:2)}return-1}function ei(t,e,n){void 0===n&&(n=!1);for(var r=0;r<e.length;r++)if(Jr(t,e[r],n))return!0;return!1}function ni(t,e,n){for(var r=function(t){var e=t.attrs;if(null!=e){var n=e.indexOf(wr);if(0==(1&n))return e[n+1]}return null}(t),i=0;i<e.length;i++)if(r===n[i]||null===r&&ei(t,e[i],!0))return i+1;return 0}function ri(t,e){return new ii(t,e)}var ii=function(){return function(t,e){this.fn=t,this.value=e}}(),oi=function(){function t(){this._players=[]}return t.prototype.flushPlayers=function(){for(var t=0;t<this._players.length;t++){var e=this._players[t];e.parent||0!==e.state||e.play()}this._players.length=0},t.prototype.queuePlayer=function(t){this._players.push(t)},t}(),ai="@";function si(t,e,n,r){return[0,[null,-1,!1,e||null],n||[null],r||[null],[0,0],t||null,null,null,null]}function ui(t,e){for(var n=t,r=e[n],i=e;Array.isArray(r);)i=r,r=r[St];if(s=i,Array.isArray(s)&&"number"==typeof s[0]&&Array.isArray(s[2]))return i;var o,a,s,u=ee(t-Ft,e).stylingTemplate;return i!==e&&(n=St),i[n]=u?(o=r,(a=u.slice())[5]=o,a[0]|=32,a):si(r)}function ci(t){return t[0]===ai}function li(t,e,n,r,i,o){return o=o||n,i?t[i]=r:t.push(r),!!r&&(r.addEventListener(200,function(){var e=t.indexOf(r);e&&(e<t[0]?t[e]=null:t.splice(e,1)),r.destroy()}),(e.playerHandler||(e.playerHandler=new oi)).queuePlayer(r,o),!0)}function fi(t){return t[8]}function hi(t){return t[8]=[5,null,null,null,null]}function pi(t){return!!(8&t.flags)}function di(t){for(var e=si(),n=e[3]=[null],r=e[2]=[null],i=-1,o=0;o<t.length;o++){var a=t[o];if("number"==typeof a)i=a;else if(2===i)r.push(a,t[++o]);else if(1===i)n.push(a,!0);else if(3===i)break}return e}function yi(t,e,n){for(var r=1;r<t.length;){if(t[r]===e){var i=t[r+1];return void(null!=i&&0!=i||(t[r+1]=n))}r+=2}t.push(e,n)}function mi(t,e,n,r){for(var i=1;i<n.length;i+=2){var o=n[i+1];o&&(r?_i(t,n[i+0],!0,e,null):bi(t,n[i+0],o,e,null))}}function vi(t,e,n,r){for(var i=n;i<r;i+=4)if(Vi(t,i)===e)return i;return-1}function gi(t,e,n,r,i){var o=Ji(t,i||null),a=function(t,e,n,r){var i=t[1][4*e+1],o=t[4];return o[i+2+(r?o[i+0]:0)+n]}(t,o,e,r),s=Bi(t,a),u=Li(t,a),c=Xi(t,a),l=n instanceof ii?n.value:n;if(Yi(u,s,l)&&(!s||(l?o<=c:c===o))){var f=2==(2&u),h=n instanceof ii?new Zi(n,t[5],f?1:2):null,p=h?n.value:n,d=ji(t,a),y=!1,m=h?d:0;if(Ri(t,h,d)){var v=Pi(t,h,d);m=h?v:0,y=!0}if((y||c!==o)&&Ni(t,a,m,o),c!==o){var g=Vi(t,a),b=eo(t,o);!function(t,e,n){b&&b(g)?t[e]|=4:t[e]&=-5}(t,a)}ki(t,a,p);var _=Ai(u),w=Bi(t,_);if(!w||Yi(u,w,p)){var E=!1,C=!0;!Gi(p,f)&&Gi(w,f)&&(E=!0,C=!1),wi(t,_,E),wi(t,a,C),no(t,o,!0),qi(t,!0)}y&&zi(t,!0)}}function bi(t,e,n,r,i,o,a){n=i&&n?i(e,n):n,o||a?(o&&o.setValue(e,n),a&&a.setValue(e,n)):n?(n=n.toString(),Cr(r)?r.setStyle(t,e,n,Er.DashCase):t.style.setProperty(e,n)):Cr(r)?r.removeStyle(t,e,Er.DashCase):t.style.removeProperty(e)}function _i(t,e,n,r,i,o){i||o?(i&&i.setValue(e,n),o&&o.setValue(e,n)):n?Cr(r)?r.addClass(t,e):t.classList.add(e):Cr(r)?r.removeClass(t,e):t.classList.remove(e)}function wi(t,e,n){var r=e>=9?e+0:e;n?t[r]|=1:t[r]&=-2}function Ei(t,e){return 1==(1&t[e>=9?e+0:e])}function Ci(t,e){return 2==(2&t[e>=9?e+0:e])}function Si(t,e){return 4==(4&t[e>=9?e+0:e])}function Di(t,e,n){return 63&t|e<<6|n<<20}function Oi(t,e){var n=Ti(e);return(2&e?t[3]:t[2])[n]}function Ti(t){return t>>6&16383}function Ai(t){var e=t>>20&16383;return e>=9?e:-1}function Ii(t){return Ai(t[0])}function xi(t,e,n){t[e+1]=n}function ki(t,e,n){t[e+2]=n}function Ri(t,e,n){var r=t[8];if(e){if(!r||0===n)return!0}else if(!r)return!1;return r[n]!==e}function Pi(t,e,n){var r=t[8]||hi(t);return n>0?r[n]=e:(r.splice(n=r[0],0,e,null),r[0]+=2),n}function Ni(t,e,n,r){var i=function(t,e){return n<<16|t}(r);t[e+3]=i}function ji(t,e){return t[e+3]>>16&65535}function Mi(t,e){var n=ji(t,e);if(n){var r=t[8];if(r)return r[n]}return null}function Fi(t,e,n){t[0===e?e:e+0]=n}function Li(t,e){return t[0===e?e:e+0]}function Bi(t,e){return t[e+2]}function Vi(t,e){return t[e+1]}function Ui(t){return 16&t[0]}function qi(t,e){wi(t,0,e)}function zi(t,e){e?t[0]|=8:t[0]&=-9}function Hi(t,e,n){for(var r=(n||0)+1;r<t.length;r+=4)if(t[r]==e)return r-1;return-1}function Qi(t,e,n){var r=Bi(t,e),i=Vi(t,e),o=Li(t,e),a=ji(t,e),s=o,u=Li(t,n),c=Ai(s);c>=0&&Fi(t,c,Di(l=Li(t,c),Ti(l),n));var l,f=Ai(u);f>=0&&Fi(t,f,Di(l=Li(t,f),Ti(l),e)),ki(t,e,Bi(t,n)),xi(t,e,Vi(t,n)),Fi(t,e,Li(t,n)),Ni(t,e,ji(t,n),0),ki(t,n,r),xi(t,n,i),Fi(t,n,o),Ni(t,n,a,0)}function Ki(t,e,n,r,i,o,a,s){var u=e<t.length;t.splice(e,0,1|i|(n?2:0),r,o,0),Ni(t,e,s,a),u&&function(t,n){for(var r=e+4;r<t.length;r+=4){var i=Ai(Li(t,r));if(i>0){var o=Ti(Li(t,i));Fi(t,i,Di((Ei(t,i)?1:0)|(Ci(t,i)?2:0)|(Si(t,i)?4:0),o,r))}}}(t)}function Gi(t,e){return e?!!t:null!==t}function Wi(t,e,n,r){var i,o=r&&r(e)?4:0;return n?(o|=2,i=to(t[3],e)):i=to(t[2],e),Di(o,i=i>0?i+1:0,0)}function Yi(t,e,n){return!(2&t)&&e&&n&&4&t?e.toString()!==n.toString():e!==n}var Zi=function(){function t(t,e,n){this._element=e,this._type=n,this._values={},this._dirty=!1,this._factory=t}return t.prototype.setValue=function(t,e){this._values[t]!==e&&(this._values[t]=e,this._dirty=!0)},t.prototype.buildPlayer=function(t,e){if(this._dirty){var n=this._factory.fn(this._element,this._type,this._values,e,t||null);return this._values={},this._dirty=!1,n}},t}();function Xi(t,e){return 65535&t[e+3]}function Ji(t,e){var n=$i(t[1],e);return n>0?n/4:0}function $i(t,e){for(var n=0;n<t.length;n+=4)if(t[n]===e)return n;return-1}function to(t,e){for(var n=1;n<t.length;n+=2)if(t[n]===e)return n;return-1}function eo(t,e){var n=t[1];return n[4*e+3]||n[3]||null}function no(t,e,n){t[1][4*e+2]=n}function ro(t){var e=t[6];if(null==e){e="";for(var n=t[3],r=1;r<n.length;r+=2)n[r+1]&&(e+=(e.length?" ":"")+n[r]);t[6]=e}return e}var io=Promise.resolve(null);function oo(t){var e=t[bt];if(e.firstTemplatePass=!1,hn(!1),!on(t)){var n=un();Ve(t,e,n),function(t){for(var e=Fr(t);null!==e;e=e[Et])if(e.length<Ft&&-1===e[Lt])for(var n=e,r=0;r<n[Bt].length;r++){var i=n[Bt][r];lo(i,i[bt],i[At])}}(t),function(t){if(null!=t.contentQueries)for(var e=0;e<t.contentQueries.length;e+=2){var n=t.contentQueries[e];t.data[n].contentQueriesRefresh(n-Ft,t.contentQueries[e+1])}}(e),Ue(t,e.contentHooks,e.contentCheckHooks,n),function(t,e){if(t.expandoInstructions){var n=e[Ot]=t.expandoStartIndex;yn(n);for(var r=-1,i=-1,o=0;o<t.expandoInstructions.length;o++){var a=t.expandoInstructions[o];if("number"==typeof a){if(a<=0){i=-a;var s=t.expandoInstructions[++o];r=n+=Kt+s}else n+=a;yn(n)}else null!==a&&(e[Ot]=n,a(2,Jt(e[r]),i)),r++}}}(e,t)}!function(t){if(null!=t)for(var e=0;e<t.length;e++)void 0,void 0,16==(16&(n=ne(t[e],Xe()))[_t])&&12&n[_t]&&(function(t){for(var e=t[bt],n=t.length;n<e.blueprint.length;n++)t[n]=e.blueprint[n]}(n),ba(n,n[At]));var n}(e.components)}function ao(t,e,n,r,i,o,a,s){var u=e.blueprint.slice();return u[_t]=51|r,u[wt]=u[Mt]=t,u[At]=n,u[xt]=i||t&&t[xt],u[kt]=o||t&&t[kt],u[Rt]=a||t&&t[Rt]||null,u[It]=s||t&&t[It]||null,u}function so(t,e,n,r,i){var o=Xe(),a=o[bt],s=t+Ft;o[s]=n;var u=a.data[s];null==u&&(u=a.data[s]=Mo(o,e,s,r,i,null));var c=$e(),l=nn();return c&&(!l||null!=c.child||null===u.parent&&2!==c.type?l||(c.next=u):c.child=u),null==a.firstChild&&(a.firstChild=u),tn(u),rn(!0),u}function uo(t,e){return null==e[bt].node&&(e[bt].node=Mo(e,2,t,null,null,null)),e[Dt]=e[bt].node}function co(t){var e=t[bt];e.firstTemplatePass&&(e.expandoStartIndex++,e.blueprint.push(null),e.data.push(null),t.push(null))}function lo(t,e,n){var r,i=nn(),o=$e();if(rn(!0),tn(null),128&t[_t])ya(ce(t));else try{rn(!0),tn(null),r=mn(t,t[Dt]),go(),e.template(po(t),n),t[bt].firstTemplatePass=!1,hn(!1),oo(t)}finally{gn(r),rn(i),tn(o)}}function fo(t){return void 0===t&&(t=1),vn(t)}function ho(t,e,n){var r=t[xt],i=mn(t,t[Dt]),o=!un();try{o&&r.begin&&r.begin(),on(t)&&(n&&(go(),n(1,e)),oo(t),t[_t]&=-2),n&&n(2,e),oo(t)}finally{o&&r.end&&r.end(),gn(i)}}function po(t){return on(t)?1:2}var yo=null;function mo(){yo="http://www.w3.org/2000/svg"}function vo(){yo="http://www.w3.org/1998/MathML/"}function go(){yo=null}function bo(t,e,n,r){Eo(t,e,n,r),xo()}function _o(t,e,n){var r=Xe(),i=r[bt],o=r[kt].createComment("");Qr(o,so(t,4,o,"ng-container",e||null),r),So(i,r,n),qn(o,r)}function wo(){var t=$e(),e=Xe(),n=e[bt];nn()?rn(!1):tn(t=t.parent);var r=e[Ct];r&&(e[Ct]=r.addNode(t)),Me(n,t)}function Eo(t,e,n,r){var i,o,a,s=Xe(),u=s[bt],c=Co(e),l=so(t,3,c,e,n||null);if(n&&(u.firstTemplatePass&&!l.stylingTemplate&&function(t){for(var e=0;e<t.length;e++){var n=t[e];if(1==n||2==n)return!0}return!1}(n)&&(l.stylingTemplate=di(n)),To(c,n)),Qr(c,l,s),So(u,s,r),0===we&&qn(c,s),we++,u.firstTemplatePass){var f=Va(l);f&&f.hasOwnProperty("class")&&(l.flags|=8)}l.stylingTemplate&&0==(8&l.flags)&&(mi(i=c,a=s[kt],(o=l.stylingTemplate)[3],!0),mi(i,a,o[2],!1))}function Co(t,e){var n=e||Xe()[kt];return Cr(n)?n.createElement(t,yo):null===yo?n.createElement(t):n.createElementNS(yo,t)}function So(t,e,n,r){if(void 0===r&&(r=te),ze){var i=$e();fn()&&function(t,e,n,r,i){var o=i?{"":-1}:null;if(n){Jo(r,t.data.length,n.length);for(var a=0;a<n.length;a++)(s=n[a]).providersResolver&&s.providersResolver(s);for(Go(t,r,n.length),a=0;a<n.length;a++){var s,u=t.data.length;$o(t,e,s=n[a],s.factory),Xo(t.data.length-1,s,o),je(u,s.onInit,s.doCheck,t)}}o&&function(t,e,n){if(e)for(var r=t.localNames=[],i=0;i<e.length;i+=2){var o=n[e[i+1]];if(null==o)throw new Error("Export of name '"+e[i+1]+"' not found!");r.push(e[i],o)}}(r,i,o)}(t,e,function(t,e,n){var r=t.directiveRegistry,i=null;if(r)for(var o=0;o<r.length;o++){var a=r[o];ei(n,a.selectors,!1)&&(i||(i=[]),Tn(Cn($e(),e),e,a.type),oe(a)?(1&n.flags&&pr(n),n.flags=1,i.unshift(a)):i.push(a))}return i}(t,e,i),i,n||null),function(t,e,n){var r=n.directiveStart,i=n.directiveEnd;!fn()&&r<i&&Cn(n,e);for(var o=r;o<i;o++){var a=t.data[o];oe(a)&&ta(e,n,a),Wo(e,Pn(t.data,e,o,n),a,o)}}(t,e,i),function(t,e,n){for(var r=n.directiveStart,i=n.directiveEnd,o=t.expandoInstructions,a=fn(),s=r;s<i;s++){var u=t.data[s],c=e[s];if(u.hostBindings){var l=o.length;We(u),u.hostBindings(1,c,n.index-Ft),We(null),l===o.length&&a&&o.push(u.hostBindings)}else a&&o.push(null)}}(t,e,i),function(t,e,n){var r=e.localNames;if(r)for(var i=e.index+1,o=0;o<r.length;o+=2){var a=r[o+1],s=-1===a?n(e,t):t[a];t[i++]=s}}(e,i,r)}}function Do(t,e,n,r,i,o){return t.ngPrivateData||(t.ngPrivateData=Oo(-1,t,e,n,r,i,o))}function Oo(t,e,n,r,i,o,a){var s=Ft+n,u=s+r,c=function(t,e){var n=new Array(e).fill(null,0,t).fill(dr,t);return n[Nt]=-1,n[Ot]=t,n}(s,u);return c[bt]={id:t,blueprint:c,template:e,viewQuery:a,node:null,data:c.slice(),childIndex:-1,bindingStartIndex:s,expandoStartIndex:u,expandoInstructions:null,firstTemplatePass:!0,initHooks:null,checkHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,pipeDestroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof i?i():i,pipeRegistry:"function"==typeof o?o():o,firstChild:null}}function To(t,e){for(var n=Xe()[kt],r=Cr(n),i=0;i<e.length;){var o=e[i++];if("number"==typeof o){if(0!==o)break;var a=e[i++],s=e[i++],u=e[i++];r?n.setAttribute(t,s,u,a):t.setAttributeNS(a,s,u)}else u=e[i++],o!==wr&&(ci(o)?r&&n.setProperty(t,o,u):r?n.setAttribute(t,o,u):t.setAttribute(o,u))}}function Ao(t,e){var n=t.createRenderer(null,null);return"string"==typeof e?Cr(n)?n.selectRootElement(e):n.querySelector(e):e}function Io(t,e,n){void 0===n&&(n=!1);var r=Xe(),i=$e(),o=r[bt],a=o.firstTemplatePass&&(o.cleanup||(o.cleanup=[]));if(3===i.type){var s=te(i,r),u=r[kt],c=(m=qa(r)).length,l=n;if(Cr(u)){var f=u.listen(s,t,e);m.push(e,f),l=c+1}else{var h=function(t){return function(e){!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}(e);s.addEventListener(t,h,n),m.push(h)}a&&a.push(t,i.index,c,l)}void 0===i.outputs&&(i.outputs=Lo(i,1));var p,d=i.outputs;if(d&&(p=d[t])){var y=p.length;if(y)for(var m=qa(r),v=0;v<y;v+=2){var g=r[p[v]][p[v+1]].subscribe(e),b=m.length;m.push(e,g),a&&a.push(t,i.index,b,-(b+1))}}}function xo(){var t=$e();nn()?rn(!1):tn(t=t.parent);var e=Xe(),n=e[Ct];if(n&&(e[Ct]=n.addNode(t)),Me(Xe()[bt],t),we--,pi(t)){var r=ui(t.index,e);Fo(e,t.inputs.class,ro(r))}}function ko(t,e,n,r){if(n!==dr){var i=Xe(),o=i[kt],a=$t(t,i);if(null==n)Cr(o)?o.removeAttribute(a,e):a.removeAttribute(e);else{var s=null==r?Zt(n):r(n);Cr(o)?o.setAttribute(a,e,s):a.setAttribute(e,s)}}}function Ro(t,e,n,r,i){jo(t,e,n,r,i)}function Po(t,e,n,r,i){jo(t,e,n,r,i,No)}function No(t,e){return e[t.index][kt]}function jo(t,e,n,r,i,o){if(n!==dr){var a,s,u=Xe(),c=$t(t,u),l=ee(t,u);if(!i&&(a=Va(l))&&(s=a[e]))Fo(u,s,n),ie(l)&&function(e,n){var r=ne(t+Ft,e);4&r[_t]||(r[_t]|=8)}(u);else if(3===l.type){var f=o?o(l,u):u[kt];n=null!=r?r(n):n,Cr(f)?f.setProperty(c,e,n):ci(e)||(c.setProperty?c.setProperty(e,n):c[e]=n)}}}function Mo(t,e,n,r,i,o){var a=$e(),s=nn()?a:a&&a.parent,u=s&&t&&s!==t[Dt]?s:null;return{type:e,index:n,injectorIndex:u?u.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,flags:0,providerIndexes:0,tagName:r,attrs:i,localNames:null,initialInputs:void 0,inputs:void 0,outputs:void 0,tViews:o,next:null,child:null,parent:u,detached:null,stylingTemplate:null,projection:null}}function Fo(t,e,n){for(var r=0;r<e.length;r+=2)t[e[r]][e[r+1]]=n}function Lo(t,e){var n=Xe()[bt],r=null,i=t.directiveStart,o=t.directiveEnd;if(o>i)for(var a=0===e,s=n.data,u=i;u<o;u++){var c=s[u],l=a?c.inputs:c.outputs;for(var f in l)if(l.hasOwnProperty(f)){var h=l[f];(r=r||{}).hasOwnProperty(f)?r[f].push(u,h):r[f]=[u,h]}}return r}function Bo(t,e,n,r){var i=$e();i.stylingTemplate||(i.stylingTemplate=si()),function(t,e,n,r,i,o){if(!(32&t[0])){var a=function(t,e,n){var r,i=t[1],o=t[4].length,a=$i(i,e);if(-1===a)r=i.length/4,i.push(e,o,!1,n||null);else{if(i[a+1]>=0)return-1;r=a/4,i[a+1]=o,i[a+3]=n||null}return r}(t,e,i);if(-1!==a){var s=t[4],u=s[1],c=s[0],l=4*c,f=9+l,h=f+4*u,p=h+l,d=s.length;s.push(r?r.length:0,n?n.length:0);var y=0,m=[];if(r&&r.length)for(var v=0;v<r.length;v++){var g=r[v];-1==(w=vi(t,g,9,f))&&(w=f+y,y+=4,m.push(g)),s.push(w)}var b=[];if(n&&n.length)for(var _=0;_<n.length;_++){var w,E=n[_];-1==(w=vi(t,E,f,h))?(w=h+y,y+=4,b.push(E)):w+=4*m.length,s.push(w)}var C=2;if(m.length)for(;C<d;){var S=s[C+0],D=s[C+1];if(D)for(var O=C+2+S,T=O;T<O+D;T++)s[T]+=4*m.length;C+=2+(S+D)}for(var A=b.length+m.length,I=9;I<t.length;I+=4){var x=I>=h,k=I>=(x?p:f),R=Li(t,I),P=Ti(R),N=Ai(R);Fi(t,I,Di(R,P,N+=x?k?4*m.length:0:4*A+4*(k?m.length:0)))}for(var j=0;j<4*m.length;j++)t.splice(p,0,null),t.splice(f,0,null),f++,h++,p+=2;for(var M=0;M<4*b.length;M++)t.splice(h,0,null),t.push(null),h++,p++;for(var F=t[3],L=t[2],B=0;B<A;B++){var V=B>=m.length,U=V?B-m.length:B,q=V?b[U]:m[U],z=void 0,H=void 0;V?(z=p+4*(u+U),H=f+4*(u+U)):(z=h+4*(c+U),H=9+4*(c+U));var Q=V?F:L,K=to(Q,q);-1===K?(K=Q.length+1,Q.push(q,!V&&null)):K+=1;var G=Wi(t,q,V,i||null);Fi(t,H,Di(G,K,z)),xi(t,H,q),ki(t,H,null),Ni(t,H,0,a),Fi(t,z,Di(G,K,H)),xi(t,z,q),ki(t,z,null),Ni(t,z,0,a)}s[1]=u+b.length,s[0]=c+m.length,Fi(t,0,Di(0,0,h)|(o?16:0))}}}(i.stylingTemplate,r||null,t,e,n,pi(i))}function Vo(t,e){var n=$e();n.stylingTemplate||(n.stylingTemplate=di(e)),function(t,e,n){var r=t[1];if(-1==$i(r,n)){r.push(n,-1,!1,null);for(var i=null,o=null,a=-1,s=0;s<e.length;s++){var u=e[s];"number"==typeof u?a=u:1==a?yi(i=i||t[3],u,!0):2==a&&yi(o=o||t[2],u,e[++s])}}}(n.stylingTemplate,e,t)}function Uo(t,e){var n=Xe(),r=0!=(2&n[_t]);(function(t,n,r,i,o,a,s){var u=0,c=Ji(t,e||null);if(function(t){return Ei(t,0)}(t)&&function(t,e){return t[1][4*c+2]}(t)){for(var l=8&t[0],f=t[5],h=Ii(t),p=Ui(t),d=!1,y=9;y<t.length;y+=4)if(Ei(t,y)){var m=Li(t,y),v=Xi(t,y);if(c!==v){d=!0;continue}var g=Vi(t,y),b=Bi(t,y),_=4&m?eo(t,v):null,w=Mi(t,y),E=!!(2&m),C=!E||!p,S=b;y<h&&!Gi(S,E)&&(S=Bi(t,Ai(m))),E||Gi(S,E)||!C||(S=Oi(t,m)),(!i||S)&&(E?_i(f,g,!!S,n,null,w):bi(f,g,S,n,_,null,w)),wi(t,y,!1)}if(l){var D=Array.isArray(r)?ce(r):r,O=fi(t),T=O[0];for(y=1;y<T;y+=2){var A=O[y],I=y+1,x=O[I];if(A){var k=A.buildPlayer(x,i);void 0!==k&&(null!=k&&li(O,D,f,k,I)&&u++,x&&x.destroy())}else x&&x.destroy()}zi(t,!1)}no(t,c,!1),qi(t,d)}return u})(ui(t+Ft,n),n[kt],n,r)>0&&da(ce(n),2)}function qo(t,e,n,r,i){var o=null;null!==n&&(o=r?Zt(n)+r:n),gi(ui(t+Ft,Xe()),e,o,!1,i)}function zo(t,e,n,r){var i=n instanceof ii?n:!!n;gi(ui(t+Ft,Xe()),e,i,!0,r)}function Ho(t,e,n,r){if(null!=r)return function(t,e,n,r){throw new Error("unimplemented. Should not be needed by ViewEngine compatibility")}();var i=Xe(),o=ee(t,i),a=ui(t+Ft,i);if(pi(o)&&e!==dr){var s=ro(a);Fo(i,o.inputs.class,(s.length?s+" ":"")+e)}else!function(t,e,n,r){n=n||null;var i=Ji(t,null),o=t[5],a=e instanceof ii?new Zi(e,o,1):null,s=n instanceof ii?new Zi(n,o,2):null,u=a?e.value:e,c=s?n.value:n,l=Ui(t)||u===dr||u===t[6],f=c===dr||c===t[7];if(!l||!f){t[6]=u,t[7]=c;var h=ot,p=!1,d=!1,y=a?1:0;Ri(t,a,1)&&(Pi(t,a,1),d=!0);var m=s?3:0;Ri(t,s,3)&&(Pi(t,s,3),d=!0),l||("string"==typeof u?(h=u.split(/\s+/),p=!0):h=u?Object.keys(u):ot);for(var v=u||it,g=c?Object.keys(c):ot,b=c||it,_=g.length,w=!1,E=Ii(t),C=0,S=g.length+h.length;E<t.length&&C<S;){if(!(M=C>=_)&&!f||M&&!l){var D=M?C-_:C,O=M?h[D]:g[D],T=M?!!p||v[O]:b[O],A=M?y:m;if((F=Vi(t,E))===O){var I=Bi(t,E),x=Li(t,E);if(Ni(t,E,A,i),Yi(x,I,T)){ki(t,E,T),d=d||!!A;var k=Oi(t,x);(null!=I||Yi(x,k,T))&&(wi(t,E,!0),w=!0)}}else{var R=Hi(t,O,E);if(R>0){var P=Bi(t,R),N=Li(t,R);Qi(t,E,R),Yi(N,P,T)&&(k=Oi(t,N),ki(t,E,T),(null!=P||Yi(N,k,T))&&(wi(t,E,!0),d=d||!!A,w=!0))}else d=d||!!A,Ki(t,E,M,O,Wi(t,O,M,eo(t,i)),T,i,A),w=!0}}E+=4,C++}for(;E<t.length;)(!(M=2==(2&(x=Li(t,E))))&&!f||M&&!l)&&Gi(I=Bi(t,E),M)&&(wi(t,E,!0),ki(t,E,null),Ni(t,E,A=M?y:m,i),w=!0),E+=4;for(var j=eo(t,i);C<S;){var M;if(!(M=C>=_)&&!f||M&&!l){D=M?C-_:C;var F=M?h[D]:g[D],L=(I=M?!!p||v[F]:b[F],x=1|Wi(t,F,M,j),A=M?y:m,t.length);t.push(x,F,I,0),Ni(t,L,A,i),w=!0}C++}w&&(qi(t,!0),no(t,i,!0)),d&&zi(t,!0)}}(a,e,n)}function Qo(t,e){var n=Xe(),r=Rr(e,n[kt]),i=so(t,3,r,null,null);rn(!1),Qr(r,i,n)}function Ko(t,e){if(e!==dr){var n=Xe(),r=$t(t,n),i=n[kt];Cr(i)?i.setValue(r,Zt(e)):r.textContent=Zt(e)}}function Go(t,e,n){var r=-(e.index-Ft),i=t.data.length-(65535&e.providerIndexes);(t.expandoInstructions||(t.expandoInstructions=[])).push(r,i,n)}function Wo(t,e,n,r){var i=$e();Yo(t,i,e,n),i&&i.attrs&&function(t,e,r,o){var a=i.initialInputs;(void 0===a||t>=a.length)&&(a=function(t,e,n){var r=n.initialInputs||(n.initialInputs=[]);r[t]=null;for(var i=n.attrs,o=0;o<i.length;){var a=i[o];if(3===a)break;if(0!==a){var s=e[a],u=i[o+1];void 0!==s&&(r[t]||(r[t]=[])).push(s,u),o+=2}else o+=4}return r}(t,n.inputs,i));var s=a[t];if(s)for(var u=0;u<s.length;u+=2)e[s[u]]=s[u+1]}(r,e),n.contentQueries&&n.contentQueries(r),oe(n)&&(ne(i.index,t)[At]=e)}function Yo(t,e,n,r){var i=te(e,t);qn(n,t),i&&qn(i,t),null!=r.attributes&&3==e.type&&To(i,r.attributes)}function Zo(t){var e=Xe()[bt];(e.components||(e.components=[])).push(t.index)}function Xo(t,e,n){n&&(e.exportAs&&(n[e.exportAs]=t),e.template&&(n[""]=t))}function Jo(t,e,n){t.flags=1&t.flags,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function $o(t,e,n,r){t.data.push(n);var i=new Wt(r,oe(n),null);t.blueprint.push(i),e.push(i)}function ta(t,e,n){var r=te(e,t),i=Do(n.template,n.consts,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery),o=ha(t,e.index,ao(t,i,null,n.onPush?8:4,t[xt],t[xt].createRenderer(r,n)));o[Dt]=e,o[St]=t[e.index],t[e.index]=o,fn()&&Zo(e)}function ea(t,e,n,r,i){return[i?-1:0,[],n,null,null,t,r,Ur(e,n)]}function na(t,e,n,r,i,o,a,s){var u=Xe(),c=u[bt],l=ia(t,i||null,o||null);fn()&&(l.tViews=Oo(-1,e,n,r,c.directiveRegistry,c.pipeRegistry,null)),So(c,u,a,s);var f=u[Ct],h=$e();qn(te(h,u),u),f&&(u[Ct]=f.addNode(h)),Me(c,l),rn(!1)}function ra(t){var e=ia(t,null,null);fn()&&(e.tViews=[]),rn(!1)}function ia(t,e,n){var r=Xe(),i=t+Ft,o=r[kt].createComment(""),a=so(t,0,o,e,n),s=r[i]=ea(r[i],a,r,o);Qr(o,a,r),ha(r,t+Ft,s);var u=r[Ct];return u&&(s[Ct]=u.container()),a}function oa(t){var e=Xe(),n=e[bt];tn(Xt(n.data,t)),rn(!0),e[t+Ft][Lt]=0,Ve(e,n,un())}function aa(){var t=$e();nn()?rn(!1):tn(t=t.parent);for(var e=Xe()[t.index],n=e[Lt];n<e[Bt].length;)Mr(e,t,n)}function sa(t,e,n){var r=Xe(),i=$e(),o=2===i.type?i.parent:i,a=r[o.index],s=function(t,e,n,r){for(var i=t[Bt],o=n;o<i.length;o++){var a=i[o][bt].id;if(a===r)return i[o];if(!(a<r))break;Mr(t,e,o)}return null}(a,o,a[Lt],t);return s?(rn(!0),mn(s,s[bt].node)):(s=ao(r,function(t,e,n,r){var i=Xe()[bt],o=r.tViews;return(t>=o.length||null==o[t])&&(o[t]=Oo(t,null,e,n,i.directiveRegistry,i.pipeRegistry,null)),o[t]}(t,e,n,o),null,4),a[Ct]&&(s[Ct]=a[Ct].createView()),uo(t,s),mn(s,s[bt].node)),a&&(on(s)&&Nr(s,a,r,a[Lt],-1),a[Lt]++),on(s)?3:2}function ua(){var t=Xe(),e=t[Dt];on(t)&&(oo(t),t[_t]&=-2),oo(t),gn(t[wt]),tn(e),rn(!1)}function ca(t,e){var n=ge(Xe())[Dt];if(!n.projection)for(var r=n.projection=new Array(t?t.length+1:1).fill(null),i=r.slice(),o=n.child;null!==o;){var a=t?ni(o,t,e):0,s=o.next;i[a]?i[a].next=o:(r[a]=o,o.next=null),i[a]=o,o=s}}var la=[];function fa(t,e,n){void 0===e&&(e=0);var r=Xe(),i=so(t,1,null,null,n||null);null===i.projection&&(i.projection=e),rn(!1);for(var o=ge(r),a=o[Dt].projection[e],s=o[wt],u=-1;a;){if(1===a.type){var c=ge(s),l=c[Dt].projection[a.projection];if(l){la[++u]=a,la[++u]=s,a=l,s=c[wt];continue}}else a.flags|=2,Yr(a,i,r,s);null===a.next&&s!==o[wt]&&(s=la[u--],a=la[u--]),a=a.next}}function ha(t,e,n){var r=t[bt],i=fn();return t[Pt]?t[Pt][Et]=n:i&&(r.childIndex=e),t[Pt]=n,n}function pa(t){for(;t&&!(128&t[_t]);)t[_t]|=8,t=t[wt];t[_t]|=8,da(t[At],1)}function da(t,e){var n,r=0===t.flags;t.flags|=e,r&&t.clean==io&&(t.clean=new Promise(function(t){return n=t}),t.scheduler(function(){if(1&t.flags&&(t.flags&=-2,ya(t)),2&t.flags){t.flags&=-3;var e=t.playerHandler;e&&e.flushPlayers()}t.clean=io,n(null)}))}function ya(t){for(var e=0;e<t.components.length;e++){var n=t.components[e];ho(fe(n),n)}}function ma(t){va(Un(t),t)}function va(t,e){var n=t[xt];n.begin&&n.begin(),on(t)&&ba(t,e),ba(t,e),n.end&&n.end()}function ga(t){ya(t[At])}function ba(t,e){var n=t[bt],r=mn(t,t[Dt]),i=n.template,o=n.viewQuery;try{go(),function(e,n,r){e&&on(t)&&e(1,r)}(o,0,e),i(po(t),e),oo(t),function(e,n,r){e&&!on(t)&&e(2,r)}(o,0,e)}finally{gn(r)}}function _a(t){pa(Un(t))}function wa(t){var e=Xe();return vr(e,e[Ot]++,t)?t:dr}function Ea(t){if(fn()){var e=Xe(),n=e[bt];!function(t,e,n){var r=t.expandoInstructions,i=r.length;i>=2&&r[i-2]===e.hostBindings?r[i-1]=r[i-1]+n:r.push(e.hostBindings,n)}(n,Ge,t),function(t,e,n){for(var r=0;r<n;r++)e.push(dr),t.blueprint.push(dr),t.data.push(null)}(n,e,t)}}function Ca(t){for(var e=!1,n=Xe(),r=n[Ot],i=1;i<t.length;i+=2)vr(n,r++,t[i])&&(e=!0);if(n[Ot]=r,!e)return dr;var o=t[0];for(i=1;i<t.length;i+=2)o+=Zt(t[i])+t[i+1];return o}function Sa(t,e,n){var r=Xe(),i=vr(r,r[Ot],e);return r[Ot]+=1,i?t+Zt(e)+n:dr}function Da(t,e,n,r,i){var o=Xe(),a=gr(o,o[Ot],e,r);return o[Ot]+=2,a?t+Zt(e)+n+Zt(r)+i:dr}function Oa(t,e,n,r,i,o,a){var s=Xe(),u=br(s,s[Ot],e,r,o);return s[Ot]+=3,u?t+Zt(e)+n+Zt(r)+i+Zt(o)+a:dr}function Ta(t,e,n,r,i,o,a,s,u){var c=Xe(),l=_r(c,c[Ot],e,r,o,s);return c[Ot]+=4,l?t+Zt(e)+n+Zt(r)+i+Zt(o)+a+Zt(s)+u:dr}function Aa(t,e,n,r,i,o,a,s,u,c,l){var f=Xe(),h=f[Ot],p=_r(f,h,e,r,o,s);return p=vr(f,h+4,c)||p,f[Ot]+=5,p?t+Zt(e)+n+Zt(r)+i+Zt(o)+a+Zt(s)+u+Zt(c)+l:dr}function Ia(t,e,n,r,i,o,a,s,u,c,l,f,h){var p=Xe(),d=p[Ot],y=_r(p,d,e,r,o,s);return y=gr(p,d+4,c,f)||y,p[Ot]+=6,y?t+Zt(e)+n+Zt(r)+i+Zt(o)+a+Zt(s)+u+Zt(c)+l+Zt(f)+h:dr}function xa(t,e,n,r,i,o,a,s,u,c,l,f,h,p,d){var y=Xe(),m=y[Ot],v=_r(y,m,e,r,o,s);return v=br(y,m+4,c,f,p)||v,y[Ot]+=7,v?t+Zt(e)+n+Zt(r)+i+Zt(o)+a+Zt(s)+u+Zt(c)+l+Zt(f)+h+Zt(p)+d:dr}function ka(t,e,n,r,i,o,a,s,u,c,l,f,h,p,d,y,m){var v=Xe(),g=v[Ot],b=_r(v,g,e,r,o,s);return b=_r(v,g+4,c,f,p,y)||b,v[Ot]+=8,b?t+Zt(e)+n+Zt(r)+i+Zt(o)+a+Zt(s)+u+Zt(c)+l+Zt(f)+h+Zt(p)+d+Zt(y)+m:dr}function Ra(t,e){var n=Xe(),r=n[bt],i=t+Ft;i>=r.data.length&&(r.data[i]=null),n[i]=e}function Pa(t){return Xt(an,t)}function Na(t){return Xe()[jt][t]}function ja(t){return Xt(Xe(),t)}function Ma(t,e){return void 0===e&&(e=Te.Default),t=J(t),In($e(),Xe(),t,e)}function Fa(t){return An($e(),t)}function La(t,e){var n=Xe(),r=n[bt],i=(n[jt]||(n[jt]=[])).push(t);if(fn()){var o=r.contentQueries||(r.contentQueries=[]);e!==(r.contentQueries.length?r.contentQueries[r.contentQueries.length-2]:-1)&&o.push(e,i-1)}}var Ba=io;function Va(t){return t?(void 0===t.inputs&&(t.inputs=Lo(t,0)),t.inputs):null}function Ua(){return Xe()}function qa(t){return t[Tt]||(t[Tt]=[])}function za(t){return t[bt].cleanup||(t[bt].cleanup=[])}function Ha(t,e){var n=Bn(t);if(n){var r=n.native,i=n.lView,o=function(t,e){if(!(e=e||Bn(r)))return null;var n=ui(e.nodeIndex,e.lView);return fi(n)||hi(n)}(0,n),a=Zn(i);li(o,a,r,e,0,t),da(a,2)}}function Qa(t){var e=Bn(t);if(!e)return[];var n=ui(e.nodeIndex,e.lView),r=n?fi(n):null;return r?function(t){for(var e=[],n=t[0],r=2;r<n;r+=2){var i=t[r];i&&e.push(i)}for(r=n;r<t.length;r++)e.push(t[r]);return e}(r):[]}var Ka="ng",Ga=!1;function Wa(){Ga||(Ga=!0,Ya("getComponent",Gn),Ya("getContext",Wn),Ya("getListeners",ir),Ya("getViewComponent",Yn),Ya("getHostElement",er),Ya("getInjector",Jn),Ya("getRootComponents",Xn),Ya("getDirectives",$n),Ya("getPlayers",Qa),Ya("markDirty",_a))}function Ya(t,e){if(z){var n=z[Ka];n||(n=z[Ka]={}),n[t]=e}}function Za(t,e){void 0===e&&(e={});var n=e.rendererFactory||Sr,r=e.sanitizer||null,i=yt(t);i.type!=t&&(i.type=t);var o,a=Ao(n,e.host||i.selectors[0][0]),s=i.onPush?136:132,u=$a(e.scheduler,e.playerHandler),c=n.createRenderer(a,i),l=ao(null,Oo(-1,null,1,0,null,null,null),u,s,n,c,void 0,e.injector||null),f=mn(l,null);try{n.begin&&n.begin(),o=Ja(Xa(a,i,l,n,c,r),i,l,u,e.hostFeatures||null),oo(l),l[_t]&=-2,oo(l)}finally{gn(f),n.end&&n.end()}return o}function Xa(t,e,n,r,i,o){Qe=!1,He=null,we=0,ze=!0;var a=n[bt],s=ao(n,Do(e.template,e.consts,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery),null,e.onPush?8:4,r,i,o),u=so(0,3,t,null,null);return a.firstTemplatePass&&(Tn(Cn(u,n),n,e.type),u.flags=1,Jo(u,n.length,1),Zo(u)),s[St]=n[Ft],s[Dt]=u,n[Ft]=s}function Ja(t,e,n,r,i){var o=n[bt],a=function(t,e,n){var r=$e();t.firstTemplatePass&&(n.providersResolver&&n.providersResolver(n),Go(t,r,1),$o(t,e,n,n.factory));var i=Pn(t.data,e,e.length-1,r);return Yo(e,r,i,n),i}(o,n,e);if(r.components.push(a),t[At]=a,i&&i.forEach(function(t){return t(a,e)}),o.firstTemplatePass&&e.hostBindings){var s=$e();We(e),e.hostBindings(1,a,s.index-Ft),We(null)}return a}function $a(t,e){return{components:[],scheduler:t||me,clean:Ba,playerHandler:e||null,flags:0}}function ts(t,e){var n=fe(t)[bt],r=n.data.length-1;je(r,e.onInit,e.doCheck,n),Me(n,{directiveStart:r,directiveEnd:r+1})}function es(t){return function(t){return ue(t)[At]}(t).clean}function ns(t){return"function"==typeof t.template}function rs(t){for(var e=Object.getPrototypeOf(t.type.prototype).constructor,n=function(){var n,i,o=void 0;if(ns(t))o=e.ngComponentDef||e.ngDirectiveDef;else{if(e.ngComponentDef)throw new Error("Directives cannot inherit Components");o=e.ngDirectiveDef}var a=e.ngBaseDef;if(a||o){var s=t;s.inputs=is(t.inputs),s.declaredInputs=is(t.declaredInputs),s.outputs=is(t.outputs)}if(a&&(l(t.inputs,a.inputs),l(t.declaredInputs,a.declaredInputs),l(t.outputs,a.outputs)),o){var u=t.hostBindings,c=o.hostBindings;if(c&&(t.hostBindings=u?function(t,e,n){c(t,e,n),u(t,e,n)}:c),ns(t)&&ns(o)){var f=t.viewQuery,h=o.viewQuery;h&&(t.viewQuery=f?function(t,e){h(t,e),f(t,e)}:h)}var p=t.contentQueries,d=o.contentQueries;d&&(t.contentQueries=p?function(t){d(t),p(t)}:d);var y=t.contentQueriesRefresh,m=o.contentQueriesRefresh;m&&(t.contentQueriesRefresh=y?function(t,e){m(t,e),y(t,e)}:m),l(t.inputs,o.inputs),l(t.declaredInputs,o.declaredInputs),l(t.outputs,o.outputs),t.afterContentChecked=t.afterContentChecked||o.afterContentChecked,t.afterContentInit=t.afterContentInit||o.afterContentInit,t.afterViewChecked=t.afterViewChecked||o.afterViewChecked,t.afterViewInit=t.afterViewInit||o.afterViewInit,t.doCheck=t.doCheck||o.doCheck,t.onDestroy=t.onDestroy||o.onDestroy,t.onInit=t.onInit||o.onInit;var v=o.features;if(v)try{for(var g=Object(r.__values)(v),b=g.next();!b.done;b=g.next()){var _=b.value;_&&_.ngInherit&&_(t)}}catch(E){n={error:E}}finally{try{b&&!b.done&&(i=g.return)&&i.call(g)}finally{if(n)throw n.error}}return"break"}var w=e.prototype;w&&(t.afterContentChecked=t.afterContentChecked||w.afterContentChecked,t.afterContentInit=t.afterContentInit||w.afterContentInit,t.afterViewChecked=t.afterViewChecked||w.afterViewChecked,t.afterViewInit=t.afterViewInit||w.afterViewInit,t.doCheck=t.doCheck||w.doCheck,t.onDestroy=t.onDestroy||w.onDestroy,t.onInit=t.onInit||w.onInit),e=Object.getPrototypeOf(e)};e&&"break"!==n(););}function is(t){return t===it?{}:t===ot?[]:t}var os="__ngOnChanges_";function as(t){var e=t.declaredInputs,n=t.inputs,r=t.type.prototype,i=function(t){if(e.hasOwnProperty(t)){for(var i=n[t],o=e[t],a=os+i,s=void 0,u=r;!s&&u&&Object.getPrototypeOf(u)!==Object.getPrototypeOf(Object.prototype);)s=Object.getOwnPropertyDescriptor(u,i),u=Object.getPrototypeOf(u);var c=s&&s.set;Object.defineProperty(r,i,{get:s&&s.get||(c?void 0:function(){return this[a]}),set:function(t){var e=this[os];e||(e={},Object.defineProperty(this,os,{value:e,writable:!0}));var n=!this.hasOwnProperty(a),r=e[o];r?r.currentValue=t:e[o]=new lr(this[a],t,n),n?Object.defineProperty(this,a,{value:t,writable:!0}):this[a]=t,c&&c.call(this,t)},configurable:!1})}};for(var o in e)i(o);null!=t.onInit&&(t.onInit=ss(t.onInit)),t.doCheck=ss(t.doCheck)}function ss(t){return function(){var e=this[os];null!=e&&(this.ngOnChanges(e),this[os]=null),t&&t.apply(this)}}function us(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]}as.ngInherit=!0;var cs="__source",ls=new Object,fs=ls,hs=new C("INJECTOR"),ps=function(){function t(){}return t.prototype.get=function(t,e){if(void 0===e&&(e=ls),e===ls)throw new Error("NullInjectorError: No provider for "+Y(t)+"!");return e},t}(),ds=function(){function t(){}return t.create=function(t,e){return Array.isArray(t)?new Ds(t,e):new Ds(t.providers,t.parent,t.name||null)},t.THROW_IF_NOT_FOUND=ls,t.NULL=new ps,t.ngInjectableDef=b({providedIn:"any",factory:function(){return Re(hs)}}),t.__NG_ELEMENT_ID__=function(){return ms()},t}(),ys=function(){return t=$e(),new Mn(t,Xe());var t},ms=us,vs=function(t){return t},gs=[],bs=vs,_s=function(){return Array.prototype.slice.call(arguments)},ws=c({provide:String,useValue:c}),Es=ds.NULL,Cs=/\n/gm,Ss="\u0275",Ds=function(){function t(t,e,n){void 0===e&&(e=Es),void 0===n&&(n=null),this.parent=e,this.source=n;var r=this._records=new Map;r.set(ds,{token:ds,fn:vs,deps:gs,value:this,useNew:!1}),r.set(hs,{token:hs,fn:vs,deps:gs,value:this,useNew:!1}),function t(e,n){if(n)if((n=J(n))instanceof Array)for(var r=0;r<n.length;r++)t(e,n[r]);else{if("function"==typeof n)throw As("Function/Class not supported",n);if(!n||"object"!=typeof n||!n.provide)throw As("Unexpected provider",n);var i=J(n.provide),o=function(t){var e=function(t){var e=gs,n=t.deps;if(n&&n.length){e=[];for(var r=0;r<n.length;r++){var i=6;if((u=J(n[r]))instanceof Array)for(var o=0,a=u;o<a.length;o++){var s=a[o];s instanceof Ce||s==Ce?i|=1:s instanceof De||s==De?i&=-3:s instanceof Se||s==Se?i&=-5:u=s instanceof Ee?s.token:J(s)}e.push({token:u,options:i})}}else if(t.useExisting){var u;e=[{token:u=J(t.useExisting),options:6}]}else if(!(n||ws in t))throw As("'deps' required",t);return e}(t),n=vs,r=gs,i=!1,o=J(t.provide);if(ws in t)r=t.useValue;else if(t.useFactory)n=t.useFactory;else if(t.useExisting);else if(t.useClass)i=!0,n=J(t.useClass);else{if("function"!=typeof o)throw As("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",t);i=!0,n=o}return{deps:e,fn:n,useNew:i,value:r}}(n);if(!0===n.multi){var a=e.get(i);if(a){if(a.fn!==_s)throw Os(i)}else e.set(i,a={token:n.provide,deps:[],useNew:!1,fn:_s,value:gs});a.deps.push({token:i=n,options:6})}var s=e.get(i);if(s&&s.fn==_s)throw Os(i);e.set(i,o)}}(r,t)}return t.prototype.get=function(t,e,n){void 0===n&&(n=Te.Default);var i=this._records.get(t);try{return function t(e,n,i,o,a,s){try{return function(e,n,i,o,a,s){var u,c;if(!n||s&Te.SkipSelf)s&Te.Self||(c=o.get(e,a,Te.Default));else{if((c=n.value)==bs)throw Error(Ss+"Circular dependency");if(c===gs){n.value=bs;var l=n.useNew,f=n.fn,h=n.deps,p=gs;if(h.length){p=[];for(var d=0;d<h.length;d++){var y=h[d],m=y.options,v=2&m?i.get(y.token):void 0;p.push(t(y.token,v,i,v||4&m?o:Es,1&m?null:ds.THROW_IF_NOT_FOUND,Te.Default))}}n.value=c=l?new((u=f).bind.apply(u,Object(r.__spread)([void 0],p))):f.apply(void 0,p)}}return c}(e,n,i,o,a,s)}catch(u){throw u instanceof Error||(u=new Error(u)),(u.ngTempTokenPath=u.ngTempTokenPath||[]).unshift(e),n&&n.value==bs&&(n.value=gs),u}}(t,i,this._records,this.parent,e,n)}catch(a){var o=a.ngTempTokenPath;throw t[cs]&&o.unshift(t[cs]),a.message=Ts("\n"+a.message,o,this.source),a.ngTokenPath=o,a.ngTempTokenPath=null,a}},t.prototype.toString=function(){var t=[];return this._records.forEach(function(e,n){return t.push(Y(n))}),"StaticInjector["+t.join(", ")+"]"},t}();function Os(t){return As("Cannot mix multi providers and regular providers",t)}function Ts(t,e,n){void 0===n&&(n=null),t=t&&"\n"===t.charAt(0)&&t.charAt(1)==Ss?t.substr(2):t;var r=Y(e);if(e instanceof Array)r=e.map(Y).join(" -> ");else if("object"==typeof e){var i=[];for(var o in e)if(e.hasOwnProperty(o)){var a=e[o];i.push(o+":"+("string"==typeof a?JSON.stringify(a):Y(a)))}r="{"+i.join(", ")+"}"}return"StaticInjectorError"+(n?"("+n+")":"")+"["+r+"]: "+t.replace(Cs,"\n  ")}function As(t,e){return new Error(Ts(t,e))}var Is=new C("The presence of this token marks an injector as being the root injector."),xs={},ks={},Rs=[],Ps=void 0;function Ns(){return void 0===Ps&&(Ps=new ps),Ps}function js(t,e,n){return void 0===e&&(e=null),void 0===n&&(n=null),e=e||Ns(),new Ms(t,n,e)}var Ms=function(){function t(t,e,n){var r=this;this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this.destroyed=!1;var i=[];Vs([t],function(t){return r.processInjectorType(t,[],i)}),e&&Vs(e,function(n){return r.processProvider(n,t,e)}),this.records.set(hs,Bs(void 0,this)),this.isRootInjector=this.records.has(Is),this.injectorDefTypes.forEach(function(t){return r.get(t)})}return t.prototype.destroy=function(){this.assertNotDestroyed(),this.destroyed=!0;try{this.onDestroy.forEach(function(t){return t.ngOnDestroy()})}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}},t.prototype.get=function(t,e,n){void 0===e&&(e=fs),void 0===n&&(n=Te.Default),this.assertNotDestroyed();var r,i=Ie(this);try{if(!(n&Te.SkipSelf)){var o=this.records.get(t);if(void 0===o){var a=("function"==typeof(r=t)||"object"==typeof r&&r instanceof C)&&w(t);a&&this.injectableDefInScope(a)&&(o=Bs(Fs(t),xs),this.records.set(t,o))}if(void 0!==o)return this.hydrate(t,o)}return(n&Te.Self?Ns():this.parent).get(t,e)}finally{Ie(i)}},t.prototype.assertNotDestroyed=function(){if(this.destroyed)throw new Error("Injector has already been destroyed.")},t.prototype.processInjectorType=function(t,e,n){var r=this;if(t=J(t)){var i=E(t),o=null==i&&t.ngModule||void 0,a=void 0===o?t:o,s=-1!==n.indexOf(a),u=void 0!==o&&t.providers||Rs;if(void 0!==o&&(i=E(o)),null!=i){if(this.injectorDefTypes.add(a),this.records.set(a,Bs(i.factory,xs)),null!=i.imports&&!s){n.push(a);try{Vs(i.imports,function(t){return r.processInjectorType(t,e,n)})}finally{}}var c=i.providers;if(null!=c&&!s){var l=t;Vs(c,function(t){return r.processProvider(t,l,c)})}var f=t.ngModule;Vs(u,function(t){return r.processProvider(t,f,u)})}}},t.prototype.processProvider=function(t,e,n){var r=qs(t=J(t))?t:J(t&&t.provide),i=function(t,e,n){var r=Ls(t,e,n);return Us(t)?Bs(void 0,t.useValue):Bs(r,xs)}(t,e,n);if(qs(t)||!0!==t.multi){var o=this.records.get(r);if(o&&void 0!==o.multi)throw new Error("Mixed multi-provider for "+Y(r))}else{var a=this.records.get(r);if(a){if(void 0===a.multi)throw new Error("Mixed multi-provider for "+r+".")}else(a=Bs(void 0,xs,!0)).factory=function(){return Ne(a.multi)},this.records.set(r,a);r=t,a.multi.push(t)}this.records.set(r,i)},t.prototype.hydrate=function(t,e){if(e.value===ks)throw new Error("Cannot instantiate cyclic dependency! "+Y(t));var n;return e.value===xs&&(e.value=ks,e.value=e.factory()),"object"==typeof e.value&&e.value&&"object"==typeof(n=e.value)&&null!=n&&n.ngOnDestroy&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value},t.prototype.injectableDefInScope=function(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||"root"===t.providedIn&&this.isRootInjector:this.injectorDefTypes.has(t.providedIn))},t}();function Fs(t){var e=w(t);if(null===e){var n=E(t);if(null!==n)return n.factory;if(t instanceof C)throw new Error("Token "+Y(t)+" is missing an ngInjectableDef definition.");if(t instanceof Function){var r=t.length;if(r>0){var i=new Array(r).fill("?");throw new Error("Can't resolve all parameters for "+Y(t)+": ("+i.join(", ")+").")}return function(){return new t}}throw new Error("unreachable")}return e.factory}function Ls(t,e,n){var i,o=void 0;if(qs(t))return Fs(J(t));if(Us(t))o=function(){return J(t.useValue)};else if((i=t)&&i.useExisting)o=function(){return Re(J(t.useExisting))};else if(t&&t.useFactory)o=function(){return t.useFactory.apply(t,Object(r.__spread)(Ne(t.deps||[])))};else{var a=J(t&&(t.useClass||t.provide));if(!a){var s="";throw e&&n&&(s=" - only instances of Provider and Type are allowed, got: ["+n.map(function(e){return e==t?"?"+t+"?":"..."}).join(", ")+"]"),new Error("Invalid provider for the NgModule '"+Y(e)+"'"+s)}if(!t.deps)return Fs(a);o=function(){return new(a.bind.apply(a,Object(r.__spread)([void 0],Ne(t.deps))))}}return o}function Bs(t,e,n){return void 0===n&&(n=!1),{factory:t,value:e,multi:n?[]:void 0}}function Vs(t,e){t.forEach(function(t){return Array.isArray(t)?Vs(t,e):e(t)})}function Us(t){return t&&"object"==typeof t&&ws in t}function qs(t){return"function"==typeof t}function zs(t,e,n,r,i){if(t=J(t),Array.isArray(t))for(var o=0;o<t.length;o++)zs(t[o],e,n,r,i);else{var a=Xe(),s=qs(t)?t:J(t.provide),u=Ls(t),c=$e(),l=65535&c.providerIndexes,f=c.directiveStart,h=c.providerIndexes>>16;if(qs(t)||!t.multi){var p=new Wt(u,i,Ma),d=Qs(s,e,i?l:l+h,f);-1==d?(Tn(Cn(c,a),a,s),e.push(s),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=65536),n.push(p),a.push(p)):(n[d]=p,a[d]=p)}else{var y=Qs(s,e,l+h,f),m=Qs(s,e,l,l+h),v=m>=0&&n[m];i&&!v||!i&&!(y>=0&&n[y])?(Tn(Cn(c,a),a,s),p=function(t,e,n,r,i){var o=new Wt(t,n,Ma);return o.multi=[],o.index=e,o.componentProviders=0,Hs(o,i,r&&!n),o}(i?Gs:Ks,n.length,i,r,u),!i&&v&&(n[m].providerFactory=p),e.push(s),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=65536),n.push(p),a.push(p)):Hs(n[i?m:y],u,!i&&r),!i&&r&&v&&n[m].componentProviders++}}}function Hs(t,e,n){t.multi.push(e),n&&t.componentProviders++}function Qs(t,e,n,r){for(var i=n;i<r;i++)if(e[i]===t)return i;return-1}function Ks(t,e,n,r){return Ws(this.multi,[])}function Gs(t,e,n,r){var i,o=this.multi;if(this.providerFactory){var a=this.providerFactory.componentProviders,s=Pn(e,n,this.providerFactory.index,r);Ws(o,i=s.slice(0,a));for(var u=a;u<s.length;u++)i.push(s[u])}else Ws(o,i=[]);return i}function Ws(t,e){for(var n=0;n<t.length;n++)e.push((0,t[n])());return e}function Ys(t,e){return void 0===e&&(e=[]),function(n){n.providersResolver=function(n){return function(t,e,n){var r=Xe()[bt];if(r.firstTemplatePass){var i=oe(t);zs(n,r.data,r.blueprint,i,!0),zs(e,r.data,r.blueprint,i,!1)}}(n,t,e)}}}var Zs=function(){return function(){}}(),Xs=function(){return function(){}}();function Js(t){var e=Error("No component factory found for "+Y(t)+". Did you add it to @NgModule.entryComponents?");return e[nu]=t,e}var $s,tu,eu,nu="ngComponent",ru=function(){function t(){}return t.prototype.resolveComponentFactory=function(t){throw Js(t)},t}(),iu=function(){function t(){}return t.NULL=new ru,t}(),ou=function(){function t(t,e,n){this._parent=e,this._ngModule=n,this._factories=new Map;for(var r=0;r<t.length;r++){var i=t[r];this._factories.set(i.componentType,i)}}return t.prototype.resolveComponentFactory=function(t){var e=this._factories.get(t);if(!e&&this._parent&&(e=this._parent.resolveComponentFactory(t)),!e)throw Js(t);return new au(e,this._ngModule)},t}(),au=function(t){function e(e,n){var r=t.call(this)||this;return r.factory=e,r.ngModule=n,r.selector=e.selector,r.componentType=e.componentType,r.ngContentSelectors=e.ngContentSelectors,r.inputs=e.inputs,r.outputs=e.outputs,r}return Object(r.__extends)(e,t),e.prototype.create=function(t,e,n,r){return this.factory.create(t,e,n,r||this.ngModule)},e}(Xs),su=function(){return function(){}}(),uu=function(){return function(){}}(),cu=function(){function t(t,e,n){this._context=e,this._componentIndex=n,this._appRef=null,this._viewContainerRef=null,this._tViewNode=null,this._lView=t}return Object.defineProperty(t.prototype,"rootNodes",{get:function(){return null==this._lView[St]?function t(e,n,r){for(var i=n.child;i;)r.push(te(i,e)),4===i.type&&t(e,i,r),i=i.next;return r}(this._lView,this._lView[Dt],[]):[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this._context?this._context:this._lookUpContext()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"destroyed",{get:function(){return 64==(64&this._lView[_t])},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){var t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}Lr(this._lView)},t.prototype.onDestroy=function(t){var e,n;n=t,qa(e=this._lView).push(n),e[bt].firstTemplatePass&&za(e).push(e[Tt].length-1,null)},t.prototype.markForCheck=function(){pa(this._lView)},t.prototype.detach=function(){this._lView[_t]&=-17},t.prototype.reattach=function(){this._lView[_t]|=16},t.prototype.detectChanges=function(){va(this._lView,this.context)},t.prototype.checkNoChanges=function(){!function(t){cn(!0);try{ma(t)}finally{cn(!1)}}(this.context)},t.prototype.attachToViewContainerRef=function(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t},t.prototype.detachFromAppRef=function(){this._appRef=null},t.prototype.attachToAppRef=function(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t},t.prototype._lookUpContext=function(){return this._context=this._lView[wt][this._componentIndex]},t}(),lu=function(t){function e(e){var n=t.call(this,e,null,-1)||this;return n._view=e,n}return Object(r.__extends)(e,t),e.prototype.detectChanges=function(){ga(this._view)},e.prototype.checkNoChanges=function(){!function(t){cn(!0);try{ga(t)}finally{cn(!1)}}(this._view)},Object.defineProperty(e.prototype,"context",{get:function(){return null},enumerable:!0,configurable:!0}),e}(cu);function fu(t,e,n){return $s||($s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.__extends)(e,t),e}(t)),new $s(te(e,n))}function hu(t,e,n,i){if(tu||(tu=function(t){function e(e,n,r,i,o,a){var s=t.call(this)||this;return s._declarationParentView=e,s.elementRef=n,s._tView=r,s._renderer=i,s._queries=o,s._injectorIndex=a,s}return Object(r.__extends)(e,t),e.prototype.createEmbeddedView=function(t,e,n,r,i){var o=function(t,e,n,r,i,o){var a=nn(),s=$e();rn(!0),tn(null);var u=ao(n,t,e,4);return u[Mt]=n,i&&(u[Ct]=i.createView()),uo(-1,u),t.firstTemplatePass&&(t.node.injectorIndex=o),rn(a),tn(s),u}(this._tView,t,this._declarationParentView,0,this._queries,this._injectorIndex);e&&Nr(o,e,r,i,n.index),lo(o,this._tView,t);var a=new cu(o,t,-1);return a._tViewNode=o[Dt],a},e}(t)),0===n.type){var o=i[n.index];return new tu(i,fu(e,n,i),n.tViews,Xe()[kt],o[Ct],n.injectorIndex)}return null}function pu(t,e,n){if(ie(t)){var r=t.directiveStart,i=ne(t.index,e);return new cu(i,n,r)}if(3===t.type){var o=ge(e);return new cu(o,o[At],-1)}return null}var du=function(){function t(t){this.nativeElement=t}return t.__NG_ELEMENT_ID__=function(){return mu(t)},t}(),yu=function(t){return fu(t,$e(),Xe())},mu=us,vu=function(){return function(t,e,n,r,i,o){this.id=t,this.templateUrl=e,this.slotCount=n,this.encapsulation=r,this.styles=i,this.animations=o}}(),gu=function(){return function(){}}(),bu=function(){return function(){}}(),_u=function(){return function(){}}(),wu=function(){return function(){}}(),Eu=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({}),Cu=function(){function t(){}return t.__NG_ELEMENT_ID__=function(){return Du()},t}(),Su=function(){return function(t){var e=Xe()[kt];if(Cr(e))return e;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}()},Du=us,Ou=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({}),Tu=function(){return function(){}}(),Au=function(){return function(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}(),Iu=new Au("7.2.15"),xu=function(t){function e(e){var n=t.call(this)||this;return n.ngModule=e,n}return Object(r.__extends)(e,t),e.prototype.resolveComponentFactory=function(t){var e=yt(t);return new ju(e,this.ngModule)},e}(iu);function ku(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}var Ru=new C("ROOT_CONTEXT_TOKEN",{providedIn:"root",factory:function(){return $a(Re(Pu))}}),Pu=new C("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return me}}),Nu={},ju=function(t){function e(e,n){var r=t.call(this)||this;return r.componentDef=e,r.ngModule=n,r.componentType=e.type,r.selector=e.selectors[0][0],r.ngContentSelectors=[],r}return Object(r.__extends)(e,t),Object.defineProperty(e.prototype,"inputs",{get:function(){return ku(this.componentDef.inputs)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outputs",{get:function(){return ku(this.componentDef.outputs)},enumerable:!0,configurable:!0}),e.prototype.create=function(t,e,n,r){var i=void 0===n,o=(r=r||this.ngModule)?function(t,e){return{get:function(n,r){var i=t.get(n,Nu);return i!==Nu||r===Nu?i:e.get(n,r)}}}(t,r.injector):t,a=o.get(wu,Sr),s=o.get(Tu,null),u=i?Co(this.selector,a.createRenderer(null,this.componentDef)):Ao(a,n),c=this.componentDef.onPush?136:132,l=i?$a():o.get(Ru),f=a.createRenderer(u,this.componentDef);n&&u&&(Cr(f)?f.setAttribute(u,"ng-version",Iu.full):u.setAttribute("ng-version",Iu.full));var h,p,d=ao(null,Oo(-1,null,1,0,null,null,null),l,c,a,f,s,o),y=mn(d,null);try{a.begin&&a.begin();var m=Xa(u,this.componentDef,d,a,f);if(p=ee(0,d),e)for(var v=0,g=d[bt],b=p.projection=[],_=0;_<e.length;_++){for(var w=e[_],E=null,C=null,S=0;S<w.length;S++){g.firstTemplatePass&&(g.expandoStartIndex++,g.blueprint.splice(++v+Ft,0,null),g.data.splice(v+Ft,0,null),d.splice(v+Ft,0,null));var D=so(v,3,w[S],null,null);C?C.next=D:E=D,C=D}b.push(E)}h=Ja(m,this.componentDef,d,l,[ts]),ha(d,Ft,m),oo(d)}finally{gn(y),a.end&&a.end()}var O=new Mu(this.componentType,h,fu(du,p,d),d,p);return i&&(O.hostView._tViewNode.child=p),O},e}(Xs),Mu=function(t){function e(e,n,r,i,o){var a=t.call(this)||this;return a.location=r,a._rootLView=i,a._tNode=o,a.destroyCbs=[],a.instance=n,a.hostView=a.changeDetectorRef=new lu(i),a.hostView._tViewNode=uo(-1,i),a.componentType=e,a}return Object(r.__extends)(e,t),Object.defineProperty(e.prototype,"injector",{get:function(){return new Mn(this._tNode,this._rootLView)},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){this.destroyCbs.forEach(function(t){return t()}),this.destroyCbs=null,this.hostView.destroy()},e.prototype.onDestroy=function(t){this.destroyCbs.push(t)},e}(Zs),Fu=!0,Lu=!1;function Bu(){return Lu=!0,Fu}function Vu(){if(Lu)throw new Error("Cannot enable prod mode after platform setup.");Fu=!1}var Uu=function(){function t(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),this.inertBodyElement=this.inertDocument.body,null==this.inertBodyElement){var e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e),this.inertBodyElement=this.inertDocument.createElement("body"),e.appendChild(this.inertBodyElement)}this.inertBodyElement.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!this.inertBodyElement.querySelector||this.inertBodyElement.querySelector("svg")?(this.inertBodyElement.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=this.inertBodyElement.querySelector&&this.inertBodyElement.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(t){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}return t.prototype.getInertBodyElement_XHR=function(t){t="<body><remove></remove>"+t+"</body>";try{t=encodeURI(t)}catch(r){return null}var e=new XMLHttpRequest;e.responseType="document",e.open("GET","data:text/html;charset=utf-8,"+t,!1),e.send(void 0);var n=e.response.body;return n.removeChild(n.firstChild),n},t.prototype.getInertBodyElement_DOMParser=function(t){t="<body><remove></remove>"+t+"</body>";try{var e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(n){return null}},t.prototype.getInertBodyElement_InertDocument=function(t){var e=this.inertDocument.createElement("template");return"content"in e?(e.innerHTML=t,e):(this.inertBodyElement.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(this.inertBodyElement),this.inertBodyElement)},t.prototype.stripCustomNsAttrs=function(t){for(var e=t.attributes,n=e.length-1;0<n;n--){var r=e.item(n).name;"xmlns:ns1"!==r&&0!==r.indexOf("ns1:")||t.removeAttribute(r)}for(var i=t.firstChild;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling},t}(),qu=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:\/?#]*(?:[\/?#]|$))/gi,zu=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Hu(t){return(t=String(t)).match(qu)||t.match(zu)?t:(Bu()&&console.warn("WARNING: sanitizing unsafe URL value "+t+" (see http://g.co/ng/security#xss)"),"unsafe:"+t)}function Qu(t){return(t=String(t)).split(",").map(function(t){return Hu(t.trim())}).join(", ")}function Ku(t){var e,n,i={};try{for(var o=Object(r.__values)(t.split(",")),a=o.next();!a.done;a=o.next())i[a.value]=!0}catch(s){e={error:s}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return i}function Gu(){for(var t,e,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o={};try{for(var a=Object(r.__values)(n),s=a.next();!s.done;s=a.next()){var u=s.value;for(var c in u)u.hasOwnProperty(c)&&(o[c]=!0)}}catch(l){t={error:l}}finally{try{s&&!s.done&&(e=a.return)&&e.call(a)}finally{if(t)throw t.error}}return o}var Wu,Yu=Ku("area,br,col,hr,img,wbr"),Zu=Ku("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Xu=Ku("rp,rt"),Ju=Gu(Xu,Zu),$u=Gu(Yu,Gu(Zu,Ku("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Gu(Xu,Ku("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ju),tc=Ku("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ec=Ku("srcset"),nc=Gu(tc,ec,Ku("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width")),rc=Ku("script,style,template"),ic=function(){function t(){this.sanitizedSomething=!1,this.buf=[]}return t.prototype.sanitizeChildren=function(t){for(var e=t.firstChild,n=!0;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);var r=this.checkClobberedElement(e,e.nextSibling);if(r){e=r;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")},t.prototype.startElement=function(t){var e=t.nodeName.toLowerCase();if(!$u.hasOwnProperty(e))return this.sanitizedSomething=!0,!rc.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);for(var n=t.attributes,r=0;r<n.length;r++){var i=n.item(r),o=i.name,a=o.toLowerCase();if(nc.hasOwnProperty(a)){var s=i.value;tc[a]&&(s=Hu(s)),ec[a]&&(s=Qu(s)),this.buf.push(" ",o,'="',sc(s),'"')}else this.sanitizedSomething=!0}return this.buf.push(">"),!0},t.prototype.endElement=function(t){var e=t.nodeName.toLowerCase();$u.hasOwnProperty(e)&&!Yu.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))},t.prototype.chars=function(t){this.buf.push(sc(t))},t.prototype.checkClobberedElement=function(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e},t}(),oc=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ac=/([^\#-~ |!])/g;function sc(t){return t.replace(/&/g,"&amp;").replace(oc,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(ac,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function uc(t,e){var n=null;try{Wu=Wu||new Uu(t);var r=e?String(e):"";n=Wu.getInertBodyElement(r);var i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=Wu.getInertBodyElement(r)}while(r!==o);var a=new ic,s=a.sanitizeChildren(cc(n)||n);return Bu()&&a.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),s}finally{if(n)for(var u=cc(n)||n;u.firstChild;)u.removeChild(u.firstChild)}}function cc(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var lc={marker:"element"},fc={marker:"comment"},hc="\ufffd",pc=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,dc=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,yc=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,mc=/\ufffd(\d+):?\d*\ufffd/gi,vc=/({\s*\ufffd\d+:?\d*\ufffd\s*,\s*\S{6}\s*,[\s\S]*})/gi,gc=/\[(\ufffd.+?\ufffd?)\]/g,bc=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,_c=/\ufffdI18N_EXP_(ICU(_\d+)?)\ufffd/g;function wc(t){if(!t)return[];var e,n=0,r=[],i=[],o=/[{}]/g;for(o.lastIndex=0;e=o.exec(t);){var a=e.index;if("}"==e[0]){if(r.pop(),0==r.length){var s=t.substring(n,a);pc.test(s)?i.push(Ec(s)):s&&i.push(s),n=a+1}}else{if(0==r.length){var u=t.substring(n,a);i.push(u),n=a+1}r.push("{")}}var c=t.substring(n);return""!=c&&i.push(c),i}function Ec(t){for(var e=[],n=[],r=1,i=0,o=wc(t=t.replace(pc,function(t,e,n){return r="select"===n?0:1,i=parseInt(e.substr(1),10),""})),a=0;a<o.length;){var s=o[a++].trim();1===r&&(s=s.replace(/\s*(?:=)?(\w+)\s*/,"$1")),s.length&&e.push(s);var u=wc(o[a++]);u.length&&n.push(u)}return c=e.indexOf("other"),l='Missing key "other" in ICU statement.',c<=-1&&function(t){throw new Error("ASSERTION ERROR: "+t)}(l),{type:r,mainBinding:i,cases:e,values:n};var c,l}function Cc(t){for(var e,n,r="",i=0,o=!1;null!==(e=dc.exec(t));)o?e[0]===hc+"/*"+n+hc&&(i=e.index,o=!1):(r+=t.substring(i,e.index+e[0].length),n=e[1],o=!0);return r+t.substr(i)}function Sc(t,e,n,r){void 0===r&&(r=null);for(var i=[null,null],o=t.split(mc),a=0,s=0;s<o.length;s++){var u=o[s];if(1&s){var c=parseInt(u,10);i.push(-1-c),a|=Ac(c)}else""!==u&&i.push(u)}return i.push(e<<2|(n?1:0)),n&&i.push(n,r),i[0]=a,i[1]=i.length-2,i}function Dc(t,e){var n;void 0===e&&(e=0),e|=Ac(t.mainBinding);for(var r=0;r<t.values.length;r++)for(var i=t.values[r],o=0;o<i.length;o++){var a=i[o];if("string"==typeof a)for(;n=mc.exec(a);)e|=Ac(parseInt(n[1],10));else e=Dc(a,e)}return e}var Oc=[],Tc=-1;function Ac(t){return 1<<Math.min(t,31)}var Ic=[];function xc(t,e,n){var r=Xe()[bt];Oc[++Tc]=t,r.firstTemplatePass&&null===r.data[t+Ft]&&function(t,e,n,r){var i=Xe(),o=t.blueprint.length-Ft,a=$e(),s=nn()?$e():a&&a.parent,u=s&&s!==i[Dt]?s.index-Ft:e,c=0;Ic[c]=u;var l=[];e>0&&a!==s&&l.push(a.index<<3|0);for(var f=[],h=[],p=function(t,e){if("number"!=typeof e)return Cc(t);var n=t.indexOf(":"+e+hc)+2+e.toString().length,r=t.search(new RegExp(hc+"\\/\\*\\d+:"+e+hc));return Cc(t.substring(n,r))}(n,r).split(yc),d=0;d<p.length;d++){var y=p[d];if(1&d)if("/"===y.charAt(0)){if("#"===y.charAt(1)){var m=parseInt(y.substr(2),10);u=Ic[--c],l.push(m<<3|5)}}else m=parseInt(y.substr(1),10),l.push(m<<3|0,u<<17|1),"#"===y.charAt(0)&&(Ic[++c]=u=m);else for(var v=y.split(vc),g=0;g<v.length;g++)if(y=v[g],1&g){co(i);var b=t.blueprint.length-1-Ft;l.push(fc,"",u<<17|1);var _=Ec(y.substr(1,y.length-2)),w=Dc(_);Hc(h,_,b,b);var E=h.length-1;f.push(Ac(_.mainBinding),3,-1-_.mainBinding,b<<2|2,E,w,2,b<<2|3,E)}else if(""!==y){var C=y.match(mc);co(i),l.push(C?"":y,u<<17|1),C&&ve(Sc(y,t.blueprint.length-1-Ft),f)}}t.data[e+Ft]={vars:t.blueprint.length-Ft-o,expandoStartIndex:o,create:l,update:f,icus:h.length?h:null}}(r,t,e,n)}function kc(t,e,n){var r=Xe();n||(n=e),n===e&&t!==e.child?(t.next=e.child,e.child=t):n!==e&&t!==n.next?(t.next=n.next,n.next=t):t.next=null,e!==r[Dt]&&(t.parent=e),Qr(te(t,r),t,r);var i=r[t.index];return 0!==t.type&&ae(i)&&Qr(i[Vt],t,r),t}function Rc(t,e){var n={},r=t.replace(gc,function(t,e){if(n[e]||(n[e]=e.split("|")),!n[e].length)throw new Error("i18n postprocess: unmatched placeholder - "+e);return n[e].shift()});if(Object.keys(n).some(function(t){return!!n[t].length}))throw new Error("i18n postprocess: unmatched values - "+JSON.stringify(n));return Object.keys(e).length?r=(r=r.replace(bc,function(t,n,r,i,o,a){return e.hasOwnProperty(r)?""+n+e[r]+a:t})).replace(_c,function(t,n){if(e.hasOwnProperty(n)){var r=e[n];if(!r.length)throw new Error("i18n postprocess: unmatched ICU - "+t+" with key: "+n);return r.shift()}return t}):r}function Pc(){!function(t){for(var e=Xe(),n=Oc[Tc--],r=t.data[n+Ft],i=$e(),o=Nc(n,r.create,r.expandoStartIndex,e),a=n+1;a<=i.index-Ft;a++)-1===o.indexOf(a)&&jc(a,e)}(Xe()[bt])}function Nc(t,e,n,r){for(var i=Xe()[kt],o=null,a=null,s=[],u=0;u<e.length;u++){var c=e[u];if("string"==typeof c)a=o,o=so(n++,3,Rr(c,i),null,null),rn(!1);else if("number"==typeof c)switch(7&c){case 1:var l=c>>>17,f=void 0;a=kc(o,f=l===t?r[Dt]:ee(l,r),a),f.next=null;break;case 0:var h=c>>>3;s.push(h),a=o,(o=ee(h,r))&&(tn(o),3===o.type&&rn(!0));break;case 5:a=o=ee(c>>>3,r),tn(o),rn(!1);break;case 4:ko(c>>>3,e[++u],e[++u]);break;default:throw new Error('Unable to determine the type of mutate operation for "'+c+'"')}else switch(c){case fc:var p=e[++u],d=i.createComment(p);a=o,o=so(n++,5,d,null,null),qn(d,r),o.activeCaseIndex=null,rn(!1);break;case lc:var y=e[++u];a=o,o=so(n++,3,i.createElement(y),y,null);break;default:throw new Error('Unable to determine the type of mutate operation for "'+c+'"')}}return rn(!1),s}function jc(t,e){var n=ee(t,e);Wr(n,$t(t,e)||null,e),n.detached=!0;var r=ja(t);if(ae(r)){var i=r;0!==n.type&&Wr(n,i[Vt]||null,e),i[Ut]=null}}function Mc(t,e,n){xc(t,e,n),Pc()}function Fc(t,e){var n=Xe()[bt];n.firstTemplatePass&&null===n.data[t+Ft]&&function(t,e,n){for(var r=$e().index-Ft,i=[],o=0;o<n.length;o+=2)for(var a=n[o],s=n[o+1].split(vc),u=0;u<s.length;u++){var c=s[u];1&u||""!==c&&(c.match(mc)?ve(Sc(c,r,a),i):ko(r,a,c))}t.data[e+Ft]=i}(n,t,e)}var Lc=0,Bc=0;function Vc(t){t!==dr&&(Lc|=1<<Bc),Bc++}function Uc(t){if(Bc){var e=Xe(),n=e[bt].data[t+Ft],r=void 0,i=null;Array.isArray(n)?r=n:(r=n.update,i=n.icus),function t(e,n,r,i,o,a){void 0===a&&(a=!1);for(var s=!1,u=0;u<e.length;u++){var c=e[u],l=e[++u];if(a||c&i)for(var f="",h=u+1;h<=u+l;h++){var p=e[h];if("string"==typeof p)f+=p;else if("number"==typeof p)if(p<0)f+=Zt(o[r-p]);else{var d=p>>>2,y=void 0,m=void 0;switch(3&p){case 1:ko(d,e[++h],f,e[++h]);break;case 0:Ko(d,f);break;case 2:if(y=n[e[++h]],null!==(m=ee(d,o)).activeCaseIndex)for(var v=y.remove[m.activeCaseIndex],g=0;g<v.length;g++){var b=v[g];switch(7&b){case 3:jc(b>>>3,o);break;case 6:var _=ee(v[g+1]>>>3,o).activeCaseIndex;null!==_&&ve(n[b>>>3].remove[_],v)}}var w=zc(y,f);m.activeCaseIndex=-1!==w?w:null,Nc(-1,y.create[w],y.expandoStartIndex,o),s=!0;break;case 3:y=n[e[++h]],m=ee(d,o),t(y.update[m.activeCaseIndex],n,r,i,o,s)}}}u+=l}}(r,i,e[Ot]-Bc-1,Lc,e),Lc=0,Bc=0}}var qc=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({});function zc(t,e){var n=t.cases.indexOf(e);if(-1===n)switch(t.type){case 1:var r=function(t,n){switch(function(t,e){"string"==typeof e&&(e=parseInt(e,10));var n=e,r=n.toString().replace(/^[^.]*\.?/,""),i=Math.floor(Math.abs(n)),o=r.length,a=parseInt(r,10),s=parseInt(n.toString().replace(/^[^.]*\.?|0+$/g,""),10)||0;switch(t.split("-")[0].toLowerCase()){case"af":case"asa":case"az":case"bem":case"bez":case"bg":case"brx":case"ce":case"cgg":case"chr":case"ckb":case"ee":case"el":case"eo":case"es":case"eu":case"fo":case"fur":case"gsw":case"ha":case"haw":case"hu":case"jgo":case"jmc":case"ka":case"kk":case"kkj":case"kl":case"ks":case"ksb":case"ky":case"lb":case"lg":case"mas":case"mgo":case"ml":case"mn":case"nb":case"nd":case"ne":case"nn":case"nnh":case"nyn":case"om":case"or":case"os":case"ps":case"rm":case"rof":case"rwk":case"saq":case"seh":case"sn":case"so":case"sq":case"ta":case"te":case"teo":case"tk":case"tr":case"ug":case"uz":case"vo":case"vun":case"wae":case"xog":return 1===n?qc.One:qc.Other;case"ak":case"ln":case"mg":case"pa":case"ti":return n===Math.floor(n)&&n>=0&&n<=1?qc.One:qc.Other;case"am":case"as":case"bn":case"fa":case"gu":case"hi":case"kn":case"mr":case"zu":return 0===i||1===n?qc.One:qc.Other;case"ar":return 0===n?qc.Zero:1===n?qc.One:2===n?qc.Two:n%100===Math.floor(n%100)&&n%100>=3&&n%100<=10?qc.Few:n%100===Math.floor(n%100)&&n%100>=11&&n%100<=99?qc.Many:qc.Other;case"ast":case"ca":case"de":case"en":case"et":case"fi":case"fy":case"gl":case"it":case"nl":case"sv":case"sw":case"ur":case"yi":return 1===i&&0===o?qc.One:qc.Other;case"be":return n%10==1&&n%100!=11?qc.One:n%10===Math.floor(n%10)&&n%10>=2&&n%10<=4&&!(n%100>=12&&n%100<=14)?qc.Few:n%10==0||n%10===Math.floor(n%10)&&n%10>=5&&n%10<=9||n%100===Math.floor(n%100)&&n%100>=11&&n%100<=14?qc.Many:qc.Other;case"br":return n%10==1&&n%100!=11&&n%100!=71&&n%100!=91?qc.One:n%10==2&&n%100!=12&&n%100!=72&&n%100!=92?qc.Two:n%10===Math.floor(n%10)&&(n%10>=3&&n%10<=4||n%10==9)&&!(n%100>=10&&n%100<=19||n%100>=70&&n%100<=79||n%100>=90&&n%100<=99)?qc.Few:0!==n&&n%1e6==0?qc.Many:qc.Other;case"bs":case"hr":case"sr":return 0===o&&i%10==1&&i%100!=11||a%10==1&&a%100!=11?qc.One:0===o&&i%10===Math.floor(i%10)&&i%10>=2&&i%10<=4&&!(i%100>=12&&i%100<=14)||a%10===Math.floor(a%10)&&a%10>=2&&a%10<=4&&!(a%100>=12&&a%100<=14)?qc.Few:qc.Other;case"cs":case"sk":return 1===i&&0===o?qc.One:i===Math.floor(i)&&i>=2&&i<=4&&0===o?qc.Few:0!==o?qc.Many:qc.Other;case"cy":return 0===n?qc.Zero:1===n?qc.One:2===n?qc.Two:3===n?qc.Few:6===n?qc.Many:qc.Other;case"da":return 1===n||0!==s&&(0===i||1===i)?qc.One:qc.Other;case"dsb":case"hsb":return 0===o&&i%100==1||a%100==1?qc.One:0===o&&i%100==2||a%100==2?qc.Two:0===o&&i%100===Math.floor(i%100)&&i%100>=3&&i%100<=4||a%100===Math.floor(a%100)&&a%100>=3&&a%100<=4?qc.Few:qc.Other;case"ff":case"fr":case"hy":case"kab":return 0===i||1===i?qc.One:qc.Other;case"fil":return 0===o&&(1===i||2===i||3===i)||0===o&&i%10!=4&&i%10!=6&&i%10!=9||0!==o&&a%10!=4&&a%10!=6&&a%10!=9?qc.One:qc.Other;case"ga":return 1===n?qc.One:2===n?qc.Two:n===Math.floor(n)&&n>=3&&n<=6?qc.Few:n===Math.floor(n)&&n>=7&&n<=10?qc.Many:qc.Other;case"gd":return 1===n||11===n?qc.One:2===n||12===n?qc.Two:n===Math.floor(n)&&(n>=3&&n<=10||n>=13&&n<=19)?qc.Few:qc.Other;case"gv":return 0===o&&i%10==1?qc.One:0===o&&i%10==2?qc.Two:0!==o||i%100!=0&&i%100!=20&&i%100!=40&&i%100!=60&&i%100!=80?0!==o?qc.Many:qc.Other:qc.Few;case"he":return 1===i&&0===o?qc.One:2===i&&0===o?qc.Two:0!==o||n>=0&&n<=10||n%10!=0?qc.Other:qc.Many;case"is":return 0===s&&i%10==1&&i%100!=11||0!==s?qc.One:qc.Other;case"ksh":return 0===n?qc.Zero:1===n?qc.One:qc.Other;case"kw":case"naq":case"se":case"smn":return 1===n?qc.One:2===n?qc.Two:qc.Other;case"lag":return 0===n?qc.Zero:0!==i&&1!==i||0===n?qc.Other:qc.One;case"lt":return n%10!=1||n%100>=11&&n%100<=19?n%10===Math.floor(n%10)&&n%10>=2&&n%10<=9&&!(n%100>=11&&n%100<=19)?qc.Few:0!==a?qc.Many:qc.Other:qc.One;case"lv":case"prg":return n%10==0||n%100===Math.floor(n%100)&&n%100>=11&&n%100<=19||2===o&&a%100===Math.floor(a%100)&&a%100>=11&&a%100<=19?qc.Zero:n%10==1&&n%100!=11||2===o&&a%10==1&&a%100!=11||2!==o&&a%10==1?qc.One:qc.Other;case"mk":return 0===o&&i%10==1||a%10==1?qc.One:qc.Other;case"mt":return 1===n?qc.One:0===n||n%100===Math.floor(n%100)&&n%100>=2&&n%100<=10?qc.Few:n%100===Math.floor(n%100)&&n%100>=11&&n%100<=19?qc.Many:qc.Other;case"pl":return 1===i&&0===o?qc.One:0===o&&i%10===Math.floor(i%10)&&i%10>=2&&i%10<=4&&!(i%100>=12&&i%100<=14)?qc.Few:0===o&&1!==i&&i%10===Math.floor(i%10)&&i%10>=0&&i%10<=1||0===o&&i%10===Math.floor(i%10)&&i%10>=5&&i%10<=9||0===o&&i%100===Math.floor(i%100)&&i%100>=12&&i%100<=14?qc.Many:qc.Other;case"pt":return n===Math.floor(n)&&n>=0&&n<=2&&2!==n?qc.One:qc.Other;case"ro":return 1===i&&0===o?qc.One:0!==o||0===n||1!==n&&n%100===Math.floor(n%100)&&n%100>=1&&n%100<=19?qc.Few:qc.Other;case"ru":case"uk":return 0===o&&i%10==1&&i%100!=11?qc.One:0===o&&i%10===Math.floor(i%10)&&i%10>=2&&i%10<=4&&!(i%100>=12&&i%100<=14)?qc.Few:0===o&&i%10==0||0===o&&i%10===Math.floor(i%10)&&i%10>=5&&i%10<=9||0===o&&i%100===Math.floor(i%100)&&i%100>=11&&i%100<=14?qc.Many:qc.Other;case"shi":return 0===i||1===n?qc.One:n===Math.floor(n)&&n>=2&&n<=10?qc.Few:qc.Other;case"si":return 0===n||1===n||0===i&&1===a?qc.One:qc.Other;case"sl":return 0===o&&i%100==1?qc.One:0===o&&i%100==2?qc.Two:0===o&&i%100===Math.floor(i%100)&&i%100>=3&&i%100<=4||0!==o?qc.Few:qc.Other;case"tzm":return n===Math.floor(n)&&n>=0&&n<=1||n===Math.floor(n)&&n>=11&&n<=99?qc.One:qc.Other;default:return qc.Other}}("en-US",e)){case qc.Zero:return"zero";case qc.One:return"one";case qc.Two:return"two";case qc.Few:return"few";case qc.Many:return"many";default:return"other"}}();-1===(n=t.cases.indexOf(r))&&"other"!==r&&(n=t.cases.indexOf("other"));break;case 0:n=t.cases.indexOf("other")}return n}function Hc(t,e,n,i){for(var o=[],a=[],s=[],u=[],c=[],l=0;l<e.values.length;l++){for(var f=e.values[l],h=[],p=0;p<f.length;p++){var d=f[p];if("string"!=typeof d){var y=h.push(d)-1;f[p]="\x3c!--\ufffd"+y+"\ufffd--\x3e"}}var m=Qc(f.join(""),n,h,t,i);o.push(m.create),a.push(m.remove),s.push(m.update),u.push(m.vars),c.push(m.childIcus)}t.push({type:e.type,vars:u,expandoStartIndex:i+1,childIcus:c,cases:e.cases,create:o,remove:a,update:s});var v=Xe(),g=Math.max.apply(Math,Object(r.__spread)(u));for(l=0;l<g;l++)co(v)}function Qc(t,e,n,i,o){var a=new Uu(document).getInertBodyElement(t);if(!a)throw new Error("Unable to generate inert body element");var s={vars:0,childIcus:[],create:[],remove:[],update:[]};return function t(e,n,i,o,a,s){if(e){for(var u=[];e;){var c=e.nextSibling,l=s+ ++n.vars;switch(e.nodeType){case Node.ELEMENT_NODE:var f=e,h=f.tagName.toLowerCase();if($u.hasOwnProperty(h)){n.create.push(lc,h,i<<17|1);for(var p=f.attributes,d=0;d<p.length;d++){var y=p.item(d),m=y.name.toLowerCase();y.value.match(mc)?nc.hasOwnProperty(m)&&ve(tc[m]?Sc(y.value,l,y.name,Hu):ec[m]?Sc(y.value,l,y.name,Qu):Sc(y.value,l,y.name),n.update):n.create.push(l<<3|4,y.name,y.value)}t(e.firstChild,n,l,o,a,s),n.remove.push(l<<3|3)}else n.vars--;break;case Node.TEXT_NODE:var v=e.textContent||"",g=v.match(mc);n.create.push(g?"":v,i<<17|1),n.remove.push(l<<3|3),g&&ve(Sc(v,l),n.update);break;case Node.COMMENT_NODE:var b=Kc.exec(e.textContent||"");if(b){var _=parseInt(b[1],10);n.create.push(fc,"",i<<17|1),u.push([w=o[_],l])}else n.vars--;break;default:n.vars--}e=c}for(d=0;d<u.length;d++){var w,E=u[d][1];Hc(a,w=u[d][0],E,s+n.vars);var C=a.length-1;n.vars+=Math.max.apply(Math,Object(r.__spread)(a[C].vars)),n.childIcus.push(C);var S=Dc(w);n.update.push(Ac(w.mainBinding),3,-1-w.mainBinding,E<<2|2,C,S,2,E<<2|3,C),n.remove.push(C<<3|6,E<<3|3)}}}((cc(a)||a).firstChild,s,e,n,i,o),s}var Kc=/\ufffd(\d+)\ufffd/,Gc={provide:iu,useClass:xu,deps:[su]},Wc=function(t){function e(e,n){var r=t.call(this)||this;r._parent=n,r._bootstrapComponents=[],r.injector=r,r.destroyCbs=[];var i=gt(e);return r._bootstrapComponents=i.bootstrap,r._r3Injector=js(e,n,[{provide:su,useValue:r},Gc]),r.instance=r.get(e),r}return Object(r.__extends)(e,t),e.prototype.get=function(t,e,n){return void 0===e&&(e=ds.THROW_IF_NOT_FOUND),void 0===n&&(n=Te.Default),t===ds||t===su||t===hs?this:this._r3Injector.get(t,e,n)},Object.defineProperty(e.prototype,"componentFactoryResolver",{get:function(){return this.get(iu)},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){this.destroyCbs.forEach(function(t){return t()}),this.destroyCbs=null},e.prototype.onDestroy=function(t){this.destroyCbs.push(t)},e}(su),Yc=function(t){function e(e){var n=t.call(this)||this;return n.moduleType=e,n}return Object(r.__extends)(e,t),e.prototype.create=function(t){return new Wc(this.moduleType,t)},e}(uu);function Zc(t,e,n,i){var o,a=t;null!==e&&(void 0!==a.decorators?(o=a.decorators).push.apply(o,Object(r.__spread)(e)):a.decorators=e),null!==n&&(a.ctorParameters=n),null!==i&&(a.propDecorators=void 0!==a.propDecorators?Object(r.__assign)({},a.propDecorators,i):i)}function Xc(t,e,n){var r=dn()+t,i=Xe();return on()?yr(i,r,n?e.call(n):e()):mr(i,r)}function Jc(t,e,n,r){var i=Xe(),o=dn()+t;return vr(i,o,n)?yr(i,o+1,r?e.call(r,n):e(n)):mr(i,o+1)}function $c(t,e,n,r,i){var o=dn()+t,a=Xe();return gr(a,o,n,r)?yr(a,o+2,i?e.call(i,n,r):e(n,r)):mr(a,o+2)}function tl(t,e,n,r,i,o){var a=dn()+t,s=Xe();return br(s,a,n,r,i)?yr(s,a+3,o?e.call(o,n,r,i):e(n,r,i)):mr(s,a+3)}function el(t,e,n,r,i,o,a){var s=dn()+t,u=Xe();return _r(u,s,n,r,i,o)?yr(u,s+4,a?e.call(a,n,r,i,o):e(n,r,i,o)):mr(u,s+4)}function nl(t,e,n,r,i,o,a,s){var u=dn()+t,c=Xe(),l=_r(c,u,n,r,i,o);return vr(c,u+4,a)||l?yr(c,u+5,s?e.call(s,n,r,i,o,a):e(n,r,i,o,a)):mr(c,u+5)}function rl(t,e,n,r,i,o,a,s,u){var c=dn()+t,l=Xe(),f=_r(l,c,n,r,i,o);return gr(l,c+4,a,s)||f?yr(l,c+6,u?e.call(u,n,r,i,o,a,s):e(n,r,i,o,a,s)):mr(l,c+6)}function il(t,e,n,r,i,o,a,s,u,c){var l=dn()+t,f=Xe(),h=_r(f,l,n,r,i,o);return br(f,l+4,a,s,u)||h?yr(f,l+7,c?e.call(c,n,r,i,o,a,s,u):e(n,r,i,o,a,s,u)):mr(f,l+7)}function ol(t,e,n,r,i,o,a,s,u,c,l){var f=dn()+t,h=Xe(),p=_r(h,f,n,r,i,o);return _r(h,f+4,a,s,u,c)||p?yr(h,f+8,l?e.call(l,n,r,i,o,a,s,u,c):e(n,r,i,o,a,s,u,c)):mr(h,f+8)}function al(t,e,n,r){for(var i=dn()+t,o=!1,a=Xe(),s=0;s<n.length;s++)vr(a,i++,n[s])&&(o=!0);return o?yr(a,i,e.apply(r,n)):mr(a,i)}function sl(t,e){var n,r=Xe()[bt],i=t+Ft;r.firstTemplatePass?(n=function(t,e){if(e)for(var n=e.length-1;n>=0;n--){var r=e[n];if(t===r.name)return r}throw new Error("The pipe '"+t+"' could not be found!")}(e,r.pipeRegistry),r.data[i]=n,n.onDestroy&&(r.pipeDestroyHooks||(r.pipeDestroyHooks=[])).push(i,n.onDestroy)):n=r.data[i];var o=n.factory(null);return Ra(t,o),o}function ul(t,e,n){var r=ja(t);return dl(pl(t)?Jc(e,r.transform,n,r):r.transform(n))}function cl(t,e,n,r){var i=ja(t);return dl(pl(t)?$c(e,i.transform,n,r,i):i.transform(n,r))}function ll(t,e,n,r,i){var o=ja(t);return dl(pl(t)?tl(e,o.transform,n,r,i,o):o.transform(n,r,i))}function fl(t,e,n,r,i,o){var a=ja(t);return dl(pl(t)?el(e,a.transform,n,r,i,o,a):a.transform(n,r,i,o))}function hl(t,e,n){var r=ja(t);return dl(pl(t)?al(e,r.transform,n,r):r.transform.apply(r,n))}function pl(t){return Xe()[bt].data[t+Ft].pure}function dl(t){return cr.isWrapped(t)&&(t=cr.unwrap(t),Xe()[dn()]=dr),t}var yl=function(t){function e(e){void 0===e&&(e=!1);var n=t.call(this)||this;return n.__isAsync=e,n}return Object(r.__extends)(e,t),e.prototype.emit=function(e){t.prototype.next.call(this,e)},e.prototype.subscribe=function(e,n,r){var o,a=function(t){return null},s=function(){return null};e&&"object"==typeof e?(o=this.__isAsync?function(t){setTimeout(function(){return e.next(t)})}:function(t){e.next(t)},e.error&&(a=this.__isAsync?function(t){setTimeout(function(){return e.error(t)})}:function(t){e.error(t)}),e.complete&&(s=this.__isAsync?function(){setTimeout(function(){return e.complete()})}:function(){e.complete()})):(o=this.__isAsync?function(t){setTimeout(function(){return e(t)})}:function(t){e(t)},n&&(a=this.__isAsync?function(t){setTimeout(function(){return n(t)})}:function(t){n(t)}),r&&(s=this.__isAsync?function(){setTimeout(function(){return r()})}:function(){r()}));var u=t.prototype.subscribe.call(this,o,a,s);return e instanceof i.a&&e.add(u),u},e}(o.a),ml=function(){function t(){}return t.__NG_ELEMENT_ID__=function(){return gl(t,du)},t}(),vl=function(t,e){return hu(t,e,$e(),Xe())},gl=us,bl=function(){function t(t,e,n){this.parent=t,this.shallow=e,this.deep=n}return t.prototype.track=function(t,e,n,r){n?this.deep=kl(this.deep,t,e,null!=r?r:null):this.shallow=kl(this.shallow,t,e,null!=r?r:null)},t.prototype.clone=function(){return new t(this,null,this.deep)},t.prototype.container=function(){var e=_l(this.shallow),n=_l(this.deep);return e||n?new t(this,e,n):null},t.prototype.createView=function(){var e=wl(this.shallow),n=wl(this.deep);return e||n?new t(this,e,n):null},t.prototype.insertView=function(t){El(t,this.shallow),El(t,this.deep)},t.prototype.addNode=function(t){return Al(this.deep,t),re(t)?(Al(this.shallow,t),t.parent&&re(t.parent)&&Al(this.parent.shallow,t),this.parent):(function(t){return null===t.parent||re(t.parent)}(t)&&Al(this.shallow,t),this)},t.prototype.removeView=function(){Cl(this.shallow),Cl(this.deep)},t}();function _l(t){for(var e=null;t;){var n=[];t.values.push(n),e={next:e,list:t.list,predicate:t.predicate,values:n,containerValues:null},t=t.next}return e}function wl(t){for(var e=null;t;)e={next:e,list:t.list,predicate:t.predicate,values:[],containerValues:t.values},t=t.next;return e}function El(t,e){for(;e;)e.containerValues.splice(t,0,e.values),e=e.next}function Cl(t){for(;t;){var e=t.containerValues,n=e.indexOf(t.values);e.splice(n,1)[0].length&&t.list.setDirty(),t=t.next}}function Sl(t,e){var n=t.localNames;if(n)for(var r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Dl(t,e,n){var r=t[g];if("function"==typeof r)return r();var i=Rn(e,n,t,!1,!1);return null!==i?Pn(n[bt].data,n,i,e):null}function Ol(t,e,n,r){var i=t[g]();return r?i?Dl(r,e,n):null:i}function Tl(t,e,n,r){return n?Dl(n,t,e):r>-1?Pn(e[bt].data,e,r,t):function(t,e){return 3===t.type||4===t.type?fu(du,t,e):0===t.type?hu(ml,du,t,e):null}(t,e)}function Al(t,e){for(var n=Xe();t;){var r=t.predicate,i=r.type;if(i){var o=null;i===ml?o=Ol(i,e,n,r.read):null!==(u=Rn(e,n,i,!1,!1))&&(o=Tl(e,n,r.read,u)),null!==o&&Il(t,o)}else for(var a=r.selector,s=0;s<a.length;s++){var u;null!==(u=Sl(e,a[s]))&&null!==(o=Tl(e,n,r.read,u))&&Il(t,o)}t=t.next}}function Il(t,e){t.values.push(e),t.list.setDirty()}function xl(t,e){var n=Array.isArray(t);return{type:n?null:t,selector:n?t:null,read:e}}function kl(t,e,n,r){return{next:t,list:e,predicate:xl(n,r),values:e._valuesTree,containerValues:null}}var Rl=function(){function t(){this.dirty=!0,this.changes=new yl,this._values=[],this._valuesTree=[]}return Object.defineProperty(t.prototype,"length",{get:function(){return this._values.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"first",{get:function(){var t=this._values;return t.length?t[0]:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"last",{get:function(){var t=this._values;return t.length?t[t.length-1]:null},enumerable:!0,configurable:!0}),t.prototype.map=function(t){return this._values.map(t)},t.prototype.filter=function(t){return this._values.filter(t)},t.prototype.find=function(t){return this._values.find(t)},t.prototype.reduce=function(t,e){return this._values.reduce(t,e)},t.prototype.forEach=function(t){this._values.forEach(t)},t.prototype.some=function(t){return this._values.some(t)},t.prototype.toArray=function(){return this._values.slice(0)},t.prototype[K()]=function(){return this._values[K()]()},t.prototype.toString=function(){return this._values.toString()},t.prototype.reset=function(t){this._values=function(t){for(var e=[],n=0;n<t.length;){var r=t[n];Array.isArray(r)?r.length>0?(t=r.concat(t.slice(n+1)),n=0):n++:(e.push(r),n++)}return e}(t),this.dirty=!1},t.prototype.notifyOnChanges=function(){this.changes.emit(this)},t.prototype.setDirty=function(){this.dirty=!0},t.prototype.destroy=function(){this.changes.complete(),this.changes.unsubscribe()},t}();function Pl(t,e,n,r){var i,o,a,s=new Rl;return(i=bl,o=Xe(),a=o[Ct],He&&He!==o[Dt]&&!re(He)&&(a&&(a=o[Ct]=a.clone()),He.flags|=4),a||(o[Ct]=new i(null,null,null))).track(s,e,n,r),function(t,e,n){var r=qa(t);r.push(e),t[bt].firstTemplatePass&&za(t).push(n,r.length-1)}(Xe(),s,s.destroy),null!=t&&Ra(t,s),s}function Nl(t){return!!t.dirty&&(t.reset(t._valuesTree),t.notifyOnChanges(),!0)}function jl(t,e){return hu(ml,du,t,e)}var Ml="__SANITIZER_TRUSTED_BRAND__";function Fl(t,e){return t instanceof String&&t[Ml]===e}function Ll(t){return zl(t,"Html")}function Bl(t){return zl(t,"Style")}function Vl(t){return zl(t,"Script")}function Ul(t){return zl(t,"Url")}function ql(t){return zl(t,"ResourceUrl")}function zl(t,e){var n=new String(t);return n[Ml]=e,n}var Hl=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),Ql=/^url\(([^)]+)\)$/;function Kl(t){if(!(t=String(t).trim()))return"";var e=t.match(Ql);return e&&Hu(e[1])===e[1]||t.match(Hl)&&function(t){for(var e=!0,n=!0,r=0;r<t.length;r++){var i=t.charAt(r);"'"===i&&n?e=!e:'"'===i&&e&&(n=!n)}return e&&n}(t)?t:(Bu()&&console.warn("WARNING: sanitizing unsafe style value "+t+" (see http://g.co/ng/security#xss)."),"unsafe")}function Gl(t){var e=$l();return e?e.sanitize(Ou.HTML,t)||"":Fl(t,"Html")?t.toString():uc(document,Zt(t))}function Wl(t){var e=$l();return e?e.sanitize(Ou.STYLE,t)||"":Fl(t,"Style")?t.toString():Kl(Zt(t))}function Yl(t){var e=$l();return e?e.sanitize(Ou.URL,t)||"":Fl(t,"Url")?t.toString():Hu(Zt(t))}function Zl(t){var e=$l();if(e)return e.sanitize(Ou.RESOURCE_URL,t)||"";if(Fl(t,"ResourceUrl"))return t.toString();throw new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)")}function Xl(t){var e=$l();if(e)return e.sanitize(Ou.SCRIPT,t)||"";if(Fl(t,"Script"))return t.toString();throw new Error("unsafe value used in a script context")}var Jl=function(t,e){return void 0===e?"background-image"===t||"background"===t||"border-image"===t||"filter"===t||"list-style"===t||"list-style-image"===t:Wl(e)};function $l(){var t=Xe();return t&&t[Rt]}var tf={"\u0275defineBase":ht,"\u0275defineComponent":st,"\u0275defineDirective":pt,defineInjectable:b,defineInjector:_,"\u0275defineNgModule":lt,"\u0275definePipe":dt,"\u0275directiveInject":Ma,"\u0275getFactoryOf":Fn,"\u0275getInheritedFactory":Ln,inject:Re,"\u0275injectAttribute":Fa,"\u0275templateRefExtractor":jl,"\u0275NgOnChangesFeature":as,"\u0275ProvidersFeature":Ys,"\u0275InheritDefinitionFeature":rs,"\u0275elementAttribute":ko,"\u0275bind":wa,"\u0275container":ra,"\u0275nextContext":fo,"\u0275containerRefreshStart":oa,"\u0275containerRefreshEnd":aa,"\u0275loadQueryList":Na,"\u0275namespaceHTML":go,"\u0275namespaceMathML":vo,"\u0275namespaceSVG":mo,"\u0275enableBindings":Ye,"\u0275disableBindings":Ze,"\u0275allocHostVars":Ea,"\u0275elementStart":Eo,"\u0275elementEnd":xo,"\u0275element":bo,"\u0275elementContainerStart":_o,"\u0275elementContainerEnd":wo,"\u0275pureFunction0":Xc,"\u0275pureFunction1":Jc,"\u0275pureFunction2":$c,"\u0275pureFunction3":tl,"\u0275pureFunction4":el,"\u0275pureFunction5":nl,"\u0275pureFunction6":rl,"\u0275pureFunction7":il,"\u0275pureFunction8":ol,"\u0275pureFunctionV":al,"\u0275getCurrentView":Ua,"\u0275restoreView":Je,"\u0275interpolation1":Sa,"\u0275interpolation2":Da,"\u0275interpolation3":Oa,"\u0275interpolation4":Ta,"\u0275interpolation5":Aa,"\u0275interpolation6":Ia,"\u0275interpolation7":xa,"\u0275interpolation8":ka,"\u0275interpolationV":Ca,"\u0275elementClassProp":zo,"\u0275listener":Io,"\u0275load":ja,"\u0275projection":fa,"\u0275elementProperty":Ro,"\u0275componentHostSyntheticProperty":Po,"\u0275pipeBind1":ul,"\u0275pipeBind2":cl,"\u0275pipeBind3":ll,"\u0275pipeBind4":fl,"\u0275pipeBindV":hl,"\u0275projectionDef":ca,"\u0275pipe":sl,"\u0275query":Pl,"\u0275queryRefresh":Nl,"\u0275registerContentQuery":La,"\u0275reference":Pa,"\u0275elementStyling":Bo,"\u0275elementHostAttrs":Vo,"\u0275elementStylingMap":Ho,"\u0275elementStyleProp":qo,"\u0275elementStylingApply":Uo,"\u0275template":na,"\u0275text":Qo,"\u0275textBinding":Ko,"\u0275embeddedViewStart":sa,"\u0275embeddedViewEnd":ua,"\u0275i18n":Mc,"\u0275i18nAttributes":Fc,"\u0275i18nExp":Vc,"\u0275i18nStart":xc,"\u0275i18nEnd":Pc,"\u0275i18nApply":Uc,"\u0275i18nPostprocess":Rc,"\u0275sanitizeHtml":Gl,"\u0275sanitizeStyle":Wl,"\u0275defaultStyleSanitizer":Jl,"\u0275sanitizeResourceUrl":Zl,"\u0275sanitizeScript":Xl,"\u0275sanitizeUrl":Yl},ef=function(){return function(){}}(),nf=new Map;function rf(t,e){var n=nf.get(t);of(t,n&&n.moduleType),nf.set(t,e)}function of(t,e){if(e)throw new Error("Duplicate module registered for "+t+" - "+Y(e)+" vs "+Y(e.name))}function af(t){var e=nf.get(t);if(!e)throw cf(t);return e}function sf(t){var e=nf.get(t);if(!e)throw cf(t);return new Yc(e)}var uf=af;function cf(t){return new Error("No module with ID "+t+" loaded")}var lf=Function;function ff(t){return"function"==typeof t}var hf=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*arguments\)/,pf=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,df=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,yf=function(){function t(t){this._reflect=t||z.Reflect}return t.prototype.isReflectionEnabled=function(){return!0},t.prototype.factory=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return new(t.bind.apply(t,Object(r.__spread)([void 0],e)))}},t.prototype._zipTypesAndAnnotations=function(t,e){var n;n=void 0===t?new Array(e.length):new Array(t.length);for(var r=0;r<n.length;r++)n[r]=void 0===t?[]:t[r]!=Object?[t[r]]:[],e&&null!=e[r]&&(n[r]=n[r].concat(e[r]));return n},t.prototype._ownParameters=function(t,e){var n=t.toString();if(hf.exec(n)||pf.exec(n)&&!df.exec(n))return null;if(t.parameters&&t.parameters!==e.parameters)return t.parameters;var r=t.ctorParameters;if(r&&r!==e.ctorParameters){var i="function"==typeof r?r():r,o=i.map(function(t){return t&&t.type}),a=i.map(function(t){return t&&mf(t.decorators)});return this._zipTypesAndAnnotations(o,a)}var s=t.hasOwnProperty(D)&&t[D],u=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",t);return u||s?this._zipTypesAndAnnotations(u,s):new Array(t.length).fill(void 0)},t.prototype.parameters=function(t){if(!ff(t))return[];var e=vf(t),n=this._ownParameters(t,e);return n||e===Object||(n=this.parameters(e)),n||[]},t.prototype._ownAnnotations=function(t,e){if(t.annotations&&t.annotations!==e.annotations){var n=t.annotations;return"function"==typeof n&&n.annotations&&(n=n.annotations),n}return t.decorators&&t.decorators!==e.decorators?mf(t.decorators):t.hasOwnProperty(S)?t[S]:null},t.prototype.annotations=function(t){if(!ff(t))return[];var e=vf(t),n=this._ownAnnotations(t,e)||[];return(e!==Object?this.annotations(e):[]).concat(n)},t.prototype._ownPropMetadata=function(t,e){if(t.propMetadata&&t.propMetadata!==e.propMetadata){var n=t.propMetadata;return"function"==typeof n&&n.propMetadata&&(n=n.propMetadata),n}if(t.propDecorators&&t.propDecorators!==e.propDecorators){var r=t.propDecorators,i={};return Object.keys(r).forEach(function(t){i[t]=mf(r[t])}),i}return t.hasOwnProperty(O)?t[O]:null},t.prototype.propMetadata=function(t){if(!ff(t))return{};var e=vf(t),n={};if(e!==Object){var i=this.propMetadata(e);Object.keys(i).forEach(function(t){n[t]=i[t]})}var o=this._ownPropMetadata(t,e);return o&&Object.keys(o).forEach(function(t){var e=[];n.hasOwnProperty(t)&&e.push.apply(e,Object(r.__spread)(n[t])),e.push.apply(e,Object(r.__spread)(o[t])),n[t]=e}),n},t.prototype.hasLifecycleHook=function(t,e){return t instanceof lf&&e in t.prototype},t.prototype.guards=function(t){return{}},t.prototype.getter=function(t){return new Function("o","return o."+t+";")},t.prototype.setter=function(t){return new Function("o","v","return o."+t+" = v;")},t.prototype.method=function(t){return new Function("o","args","if (!o."+t+") throw new Error('\""+t+"\" is undefined');\n        return o."+t+".apply(o, args);")},t.prototype.importUri=function(t){return"object"==typeof t&&t.filePath?t.filePath:"./"+Y(t)},t.prototype.resourceUri=function(t){return"./"+Y(t)},t.prototype.resolveIdentifier=function(t,e,n,r){return r},t.prototype.resolveEnum=function(t,e){return t[e]},t}();function mf(t){return t?t.map(function(t){var e=t.type.annotationCls,n=t.args?t.args:[];return new(e.bind.apply(e,Object(r.__spread)([void 0],n)))}):[]}function vf(t){var e=t.prototype?Object.getPrototypeOf(t.prototype):null;return(e?e.constructor:null)||Object}var gf=null;function bf(){return gf=gf||new yf}function _f(t){return wf(bf().parameters(t))}function wf(t){var e=be();return t.map(function(t){return function(t,e){var n={token:null,host:!1,optional:!1,resolved:t.R3ResolvedDependencyType.Token,self:!1,skipSelf:!1};function r(e){n.resolved=t.R3ResolvedDependencyType.Token,n.token=e}if(Array.isArray(e)){if(0===e.length)throw new Error("Dependency array must have arguments.");for(var i=0;i<e.length;i++){var o=e[i];if(void 0!==o)if(o instanceof Ce||"Optional"===o.__proto__.ngMetadataName)n.optional=!0;else if(o instanceof De||"SkipSelf"===o.__proto__.ngMetadataName)n.skipSelf=!0;else if(o instanceof Se||"Self"===o.__proto__.ngMetadataName)n.self=!0;else if(o instanceof Oe||"Host"===o.__proto__.ngMetadataName)n.host=!0;else if(o instanceof Ee)n.token=o.token;else if(o instanceof R){if(void 0===o.attributeName)throw new Error("Attribute name must be defined.");n.token=o.attributeName,n.resolved=t.R3ResolvedDependencyType.Attribute}else r(o)}}else r(e);return n}(e,t)})}var Ef=[],Cf=[],Sf=!1;function Df(t){return Array.isArray(t)?t.every(Df):!!J(t)}function Of(t,e){void 0===e&&(e={}),Tf(t,e),function(t,e){Cf.push({moduleType:t,ngModule:e})}(t,e)}function Tf(t,e){var n,r,i=Rf(e.declarations||Ef),o=null;Object.defineProperty(t,m,{configurable:!0,get:function(){return null===o&&(o=be().compileNgModule(tf,"ng://"+t.name+"/ngModuleDef.js",{type:t,bootstrap:Rf(e.bootstrap||Ef,J),declarations:i.map(J),imports:Rf(e.imports||Ef,J).map(Pf),exports:Rf(e.exports||Ef,J).map(Pf),emitInline:!0})),o}}),e.id&&(r=t,of(n=e.id,nf.get(n)),nf.set(n,r));var a=null;Object.defineProperty(t,d,{get:function(){if(null===a){var n={name:t.name,type:t,deps:_f(t),providers:e.providers||Ef,imports:[(e.imports||Ef).map(J),(e.exports||Ef).map(J)]};a=be().compileInjector(tf,"ng://"+t.name+"/ngInjectorDef.js",n)}return a},configurable:!1})}function Af(){new Map,new Map,Cf.length=0}function If(t,e){var n=Rf(e.declarations||Ef),r=kf(t);n.forEach(function(e){e.hasOwnProperty(f)?xf(yt(e),r):e.hasOwnProperty(h)||e.hasOwnProperty(y)||(e.ngSelectorScope=t)})}function xf(t,e){t.directiveDefs=function(){return Array.from(e.compilation.directives).map(function(t){return mt(t)||yt(t)}).filter(function(t){return!!t})},t.pipeDefs=function(){return Array.from(e.compilation.pipes).map(function(t){return vt(t)})}}function kf(t){if(!Nf(t))throw new Error(t.name+" does not have an ngModuleDef");var e=gt(t);if(null!==e.transitiveCompileScopes)return e.transitiveCompileScopes;var n={compilation:{directives:new Set,pipes:new Set},exported:{directives:new Set,pipes:new Set}};return e.declarations.forEach(function(t){vt(t)?n.compilation.pipes.add(t):n.compilation.directives.add(t)}),e.imports.forEach(function(t){var e=t;if(!Nf(e))throw new Error("Importing "+e.name+" which does not have an ngModuleDef");var r=kf(e);r.exported.directives.forEach(function(t){return n.compilation.directives.add(t)}),r.exported.pipes.forEach(function(t){return n.compilation.pipes.add(t)})}),e.exports.forEach(function(t){var e=t;if(Nf(e)){var r=kf(e);r.exported.directives.forEach(function(t){n.compilation.directives.add(t),n.exported.directives.add(t)}),r.exported.pipes.forEach(function(t){n.compilation.pipes.add(t),n.exported.pipes.add(t)})}else vt(e)?n.exported.pipes.add(e):n.exported.directives.add(e)}),e.transitiveCompileScopes=n,n}function Rf(t,e){var n=[];return t.forEach(function(t){Array.isArray(t)?n.push.apply(n,Object(r.__spread)(Rf(t,e))):n.push(e?e(t):t)}),n}function Pf(t){return function(t){return void 0!==t.ngModule}(t)?t.ngModule:t}function Nf(t){return!!gt(t)}function jf(t,e){var n=null;!function(t){et(t)&&tt.add(t)}(e),Object.defineProperty(t,f,{get:function(){var i=be();if(null===n){if(et(e)){var o=["Component '"+Zt(t)+"' is not resolved:"];throw e.templateUrl&&o.push(" - templateUrl: "+Zt(e.templateUrl)),e.styleUrls&&e.styleUrls.length&&o.push(" - styleUrls: "+JSON.stringify(e.styleUrls)),o.push("Did you run and wait for 'resolveComponentResources()'?"),new Error(o.join("\n"))}var a=Object(r.__assign)({},Lf(t,e),{template:e.template||"",preserveWhitespaces:e.preserveWhitespaces||!1,styles:e.styles||ot,animations:e.animations,viewQueries:Bf(t,bf().propMetadata(t),Uf),directives:[],changeDetection:e.changeDetection,pipes:new Map,encapsulation:e.encapsulation||rt.Emulated,interpolation:e.interpolation,viewProviders:e.viewProviders||null});if(n=i.compileComponent(tf,"ng://"+Zt(t)+"/template.html",a),function(){if(!Sf){Sf=!0;try{for(var t=Cf.length-1;t>=0;t--){var e=Cf[t],n=e.moduleType,r=e.ngModule;r.declarations&&r.declarations.every(Df)&&(Cf.splice(t,1),If(n,r))}}finally{Sf=!1}}}(),void 0!==t.ngSelectorScope){var s=kf(t.ngSelectorScope);xf(n,s)}}return n},configurable:!1})}function Mf(t,e){var n=null;Object.defineProperty(t,h,{get:function(){if(null===n){var r=Lf(t,e);n=be().compileDirective(tf,"ng://"+(t&&t.name)+"/ngDirectiveDef.js",r)}return n},configurable:!1})}function Ff(t){return Object.getPrototypeOf(t.prototype)===Object.prototype}function Lf(t,e){var n=bf().propMetadata(t);return{name:t.name,type:t,typeArgumentCount:0,selector:e.selector,deps:_f(t),host:e.host||it,propMetadata:n,inputs:e.inputs||ot,outputs:e.outputs||ot,queries:Bf(t,n,Vf),lifecycle:{usesOnChanges:void 0!==t.prototype.ngOnChanges},typeSourceSpan:null,usesInheritance:!Ff(t),exportAs:e.exportAs||null,providers:e.providers||null}}function Bf(t,e,n){var r=[],i=function(i){e.hasOwnProperty(i)&&e[i].forEach(function(e){if(n(e)){if(!e.selector)throw new Error("Can't construct a query for the property \""+i+'" of "'+Zt(t)+"\" since the query selector wasn't defined.");r.push(function(t,e){return{propertyName:i,predicate:(n=e.selector,"string"==typeof n?n.split(",").map(function(t){return t.trim()}):J(n)),descendants:e.descendants,first:e.first,read:e.read?e.read:null};var n}(0,e))}})};for(var o in e)i(o);return r}function Vf(t){var e=t.ngMetadataName;return"ContentChild"===e||"ContentChildren"===e}function Uf(t){var e=t.ngMetadataName;return"ViewChild"===e||"ViewChildren"===e}function qf(t,e){var n=null;Object.defineProperty(t,y,{get:function(){return null===n&&(n=be().compilePipe(tf,"ng://"+Zt(t)+"/ngPipeDef.js",{type:t,name:t.name,deps:_f(t),pipeName:e.name,pure:void 0===e.pure||e.pure})),n},configurable:!1})}var zf=T("Directive",function(t){return void 0===t&&(t={}),t},void 0,void 0,function(t,e){return eh(t,e)}),Hf=T("Component",function(t){return void 0===t&&(t={}),Object(r.__assign)({changeDetection:L.Default},t)},zf,void 0,function(t,e){return th(t,e)}),Qf=T("Pipe",function(t){return Object(r.__assign)({pure:!0},t)},void 0,void 0,function(t,e){return nh(t,e)}),Kf=function(t){return function(e,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];var o=e.constructor;o.hasOwnProperty(v)||function(t){var e=t.constructor,n=e.ngBaseDef,r=e.ngBaseDef={inputs:{},outputs:{},declaredInputs:{}};n&&(l(r.inputs,n.inputs),l(r.outputs,n.outputs),l(r.declaredInputs,n.declaredInputs))}(e),t(o.ngBaseDef)[n]=r[0]}},Gf=x("Input",function(t){return{bindingPropertyName:t}},void 0,Kf(function(t){return t.inputs||{}})),Wf=x("Output",function(t){return{bindingPropertyName:t}},void 0,Kf(function(t){return t.outputs||{}})),Yf=x("HostBinding",function(t){return{hostPropertyName:t}}),Zf=x("HostListener",function(t,e){return{eventName:t,args:e}}),Xf=jf,Jf=Mf,$f=qf,th=us,eh=us,nh=us,rh=c({provide:String,useValue:c}),ih=[];function oh(t,e){if(!e){var n=(c=new yf).parameters(t);return function(){return new(t.bind.apply(t,Object(r.__spread)([void 0],Ne(n))))}}if(rh in e){var i=e;return function(){return i.useValue}}if(e.useExisting){var o=e;return function(){return Re(o.useExisting)}}if(e.useFactory){var a=e;return function(){return a.useFactory.apply(a,Object(r.__spread)(Ne(a.deps||ih)))}}if(e.useClass){var s=e,u=e.deps;if(!u){var c=new yf;u=c.parameters(t)}return function(){var t;return new((t=s.useClass).bind.apply(t,Object(r.__spread)([void 0],Ne(u))))}}var l=e.deps;return l||(c=new yf,l=c.parameters(t)),function(){return new(t.bind.apply(t,Object(r.__spread)([void 0],Ne(l))))}}var ah={name:"custom-elements"},sh={name:"no-errors-schema"},uh=T("NgModule",function(t){return t},void 0,void 0,function(t,e){return lh(t,e)}),ch=Of,lh=function(t,e){var n=e&&e.imports||[];e&&e.exports&&(n=Object(r.__spread)(n,[e.exports])),t.ngInjectorDef=_({factory:oh(t,{useClass:t}),providers:e&&e.providers,imports:n})},fh=c({provide:String,useValue:c});function hh(t){return void 0!==t.useClass}function ph(t){return fh in t}function dh(t){return void 0!==t.useFactory}function yh(t){return void 0!==t.useExisting}var mh=T("Injectable",void 0,void 0,void 0,function(t,e){return gh(t,e)}),vh=function(t,e){var n=null;t.hasOwnProperty(p)||Object.defineProperty(t,p,{get:function(){if(null===n){var r=e||{providedIn:null},i=hh(r)||dh(r)||ph(r)||yh(r),o={name:t.name,type:t,typeArgumentCount:0,providedIn:r.providedIn,ctorDeps:_f(t),userDeps:void 0};if((hh(r)||dh(r))&&void 0!==r.deps&&(o.userDeps=wf(r.deps)),i)if(hh(r))o.useClass=r.useClass;else if(ph(r))o.useValue=r.useValue;else if(dh(r))o.useFactory=r.useFactory;else{if(!yh(r))throw new Error("Unreachable state.");o.useExisting=r.useExisting}else o.useClass=t;n=be().compileInjectable(tf,"ng://"+t.name+"/ngInjectableDef.js",o)}return n}})},gh=function(t,e){e&&void 0!==e.providedIn&&!w(t)&&(t.ngInjectableDef=b({providedIn:e.providedIn,factory:oh(t,e)}))},bh="ngDebugContext",_h="ngOriginalError",wh="ngErrorLogger";function Eh(t){return t[bh]}function Ch(t){return t[_h]}function Sh(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];t.error.apply(t,Object(r.__spread)(e))}var Dh=function(){function t(){this._console=console}return t.prototype.handleError=function(t){var e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t[wh]||Sh}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)},t.prototype._findContext=function(t){return t?Eh(t)?Eh(t):this._findContext(Ch(t)):null},t.prototype._findOriginalError=function(t){for(var e=Ch(t);e&&Ch(e);)e=Ch(e);return e},t}();function Oh(t){return t.length>1?" ("+function(t){for(var e=[],n=0;n<t.length;++n){if(e.indexOf(t[n])>-1)return e.push(t[n]),e;e.push(t[n])}return e}(t.slice().reverse()).map(function(t){return Y(t.token)}).join(" -> ")+")":""}function Th(t,e,n,r){var i=[e],o=n(i),a=r?function(t,e){var n=o+" caused by: "+(e instanceof Error?e.message:e),r=Error(n);return r[_h]=e,r}(0,r):Error(o);return a.addKey=Ah,a.keys=i,a.injectors=[t],a.constructResolvingMessage=n,a[_h]=r,a}function Ah(t,e){this.injectors.push(t),this.keys.push(e),this.message=this.constructResolvingMessage(this.keys)}function Ih(t,e){for(var n=[],r=0,i=e.length;r<i;r++){var o=e[r];n.push(o&&0!=o.length?o.map(Y).join(" "):"?")}return Error("Cannot resolve all parameters for '"+Y(t)+"'("+n.join(", ")+"). Make sure that all the parameters are decorated with Inject or have valid type annotations and that '"+Y(t)+"' is decorated with Injectable.")}var xh=function(){function t(t,e){if(this.token=t,this.id=e,!t)throw new Error("Token must be defined!");this.displayName=Y(this.token)}return t.get=function(t){return kh.get(J(t))},Object.defineProperty(t,"numberOfKeys",{get:function(){return kh.numberOfKeys},enumerable:!0,configurable:!0}),t}(),kh=new(function(){function t(){this._allKeys=new Map}return t.prototype.get=function(t){if(t instanceof xh)return t;if(this._allKeys.has(t))return this._allKeys.get(t);var e=new xh(t,xh.numberOfKeys);return this._allKeys.set(t,e),e},Object.defineProperty(t.prototype,"numberOfKeys",{get:function(){return this._allKeys.size},enumerable:!0,configurable:!0}),t}()),Rh=new(function(){function t(t){this.reflectionCapabilities=t}return t.prototype.updateCapabilities=function(t){this.reflectionCapabilities=t},t.prototype.factory=function(t){return this.reflectionCapabilities.factory(t)},t.prototype.parameters=function(t){return this.reflectionCapabilities.parameters(t)},t.prototype.annotations=function(t){return this.reflectionCapabilities.annotations(t)},t.prototype.propMetadata=function(t){return this.reflectionCapabilities.propMetadata(t)},t.prototype.hasLifecycleHook=function(t,e){return this.reflectionCapabilities.hasLifecycleHook(t,e)},t.prototype.getter=function(t){return this.reflectionCapabilities.getter(t)},t.prototype.setter=function(t){return this.reflectionCapabilities.setter(t)},t.prototype.method=function(t){return this.reflectionCapabilities.method(t)},t.prototype.importUri=function(t){return this.reflectionCapabilities.importUri(t)},t.prototype.resourceUri=function(t){return this.reflectionCapabilities.resourceUri(t)},t.prototype.resolveIdentifier=function(t,e,n,r){return this.reflectionCapabilities.resolveIdentifier(t,e,n,r)},t.prototype.resolveEnum=function(t,e){return this.reflectionCapabilities.resolveEnum(t,e)},t}())(new yf),Ph=function(){function t(t,e,n){this.key=t,this.optional=e,this.visibility=n}return t.fromKey=function(e){return new t(e,!1,null)},t}(),Nh=[],jh=function(){return function(t,e,n){this.key=t,this.resolvedFactories=e,this.multiProvider=n,this.resolvedFactory=this.resolvedFactories[0]}}(),Mh=function(){return function(t,e){this.factory=t,this.dependencies=e}}();function Fh(t){var e,n;if(t.useClass){var r=J(t.useClass);e=Rh.factory(r),n=Vh(r)}else t.useExisting?(e=function(t){return t},n=[Ph.fromKey(xh.get(t.useExisting))]):t.useFactory?(e=t.useFactory,n=function(t,e){if(e){var n=e.map(function(t){return[t]});return e.map(function(e){return Uh(t,e,n)})}return Vh(t)}(t.useFactory,t.deps)):(e=function(){return t.useValue},n=Nh);return new Mh(e,n)}function Lh(t){return new jh(xh.get(t.provide),[Fh(t)],t.multi||!1)}function Bh(t){var e=function(t,e){for(var n=0;n<t.length;n++){var r=t[n],i=e.get(r.key.id);if(i){if(r.multiProvider!==i.multiProvider)throw Error("Cannot mix multi providers and regular providers, got: "+i+" "+r);if(r.multiProvider)for(var o=0;o<r.resolvedFactories.length;o++)i.resolvedFactories.push(r.resolvedFactories[o]);else e.set(r.key.id,r)}else{var a;a=r.multiProvider?new jh(r.key,r.resolvedFactories.slice(),r.multiProvider):r,e.set(r.key.id,a)}}return e}(function t(e,n){return e.forEach(function(e){if(e instanceof lf)n.push({provide:e,useClass:e});else if(e&&"object"==typeof e&&void 0!==e.provide)n.push(e);else{if(!(e instanceof Array))throw Error("Invalid provider - only instances of Provider and Type are allowed, got: "+e);t(e,n)}}),n}(t,[]).map(Lh),new Map);return Array.from(e.values())}function Vh(t){var e=Rh.parameters(t);if(!e)return[];if(e.some(function(t){return null==t}))throw Ih(t,e);return e.map(function(n){return Uh(t,n,e)})}function Uh(t,e,n){var r=null,i=!1;if(!Array.isArray(e))return qh(e instanceof Ee?e.token:e,i,null);for(var o=null,a=0;a<e.length;++a){var s=e[a];s instanceof lf?r=s:s instanceof Ee?r=s.token:s instanceof Ce?i=!0:s instanceof Se||s instanceof De?o=s:s instanceof C&&(r=s)}if(null!=(r=J(r)))return qh(r,i,o);throw Ih(t,n)}function qh(t,e,n){return new Ph(xh.get(t),e,n)}var zh=new Object,Hh=function(){function t(){}return t.resolve=function(t){return Bh(t)},t.resolveAndCreate=function(e,n){var r=t.resolve(e);return t.fromResolvedProviders(r,n)},t.fromResolvedProviders=function(t,e){return new Qh(t,e)},t}(),Qh=function(){function t(t,e){this._constructionCounter=0,this._providers=t,this.parent=e||null;var n=t.length;this.keyIds=new Array(n),this.objs=new Array(n);for(var r=0;r<n;r++)this.keyIds[r]=t[r].key.id,this.objs[r]=zh}return t.prototype.get=function(t,e){return void 0===e&&(e=fs),this._getByKey(xh.get(t),null,e)},t.prototype.resolveAndCreateChild=function(t){var e=Hh.resolve(t);return this.createChildFromResolved(e)},t.prototype.createChildFromResolved=function(e){var n=new t(e);return n.parent=this,n},t.prototype.resolveAndInstantiate=function(t){return this.instantiateResolved(Hh.resolve([t])[0])},t.prototype.instantiateResolved=function(t){return this._instantiateProvider(t)},t.prototype.getProviderAtIndex=function(t){if(t<0||t>=this._providers.length)throw function(t){return Error("Index "+t+" is out-of-bounds.")}(t);return this._providers[t]},t.prototype._new=function(t){if(this._constructionCounter++>this._getMaxNumberOfObjects())throw Th(this,t.key,function(t){return"Cannot instantiate cyclic dependency!"+Oh(t)});return this._instantiateProvider(t)},t.prototype._getMaxNumberOfObjects=function(){return this.objs.length},t.prototype._instantiateProvider=function(t){if(t.multiProvider){for(var e=new Array(t.resolvedFactories.length),n=0;n<t.resolvedFactories.length;++n)e[n]=this._instantiate(t,t.resolvedFactories[n]);return e}return this._instantiate(t,t.resolvedFactories[0])},t.prototype._instantiate=function(t,e){var n,i,o,a=this,s=e.factory;try{n=e.dependencies.map(function(t){return a._getByReflectiveDependency(t)})}catch(u){throw u.addKey&&u.addKey(this,t.key),u}try{i=s.apply(void 0,Object(r.__spread)(n))}catch(u){throw Th(this,t.key,function(t){var e=Y(t[0].token);return o.message+": Error during instantiation of "+e+"!"+Oh(t)+"."},o=u)}return i},t.prototype._getByReflectiveDependency=function(t){return this._getByKey(t.key,t.visibility,t.optional?null:fs)},t.prototype._getByKey=function(e,n,r){return e===t.INJECTOR_KEY?this:n instanceof Se?this._getByKeySelf(e,r):this._getByKeyDefault(e,r,n)},t.prototype._getObjByKeyId=function(t){for(var e=0;e<this.keyIds.length;e++)if(this.keyIds[e]===t)return this.objs[e]===zh&&(this.objs[e]=this._new(this._providers[e])),this.objs[e];return zh},t.prototype._throwOrNull=function(t,e){if(e!==fs)return e;throw function(t,e){return Th(t,e,function(t){return"No provider for "+Y(t[0].token)+"!"+Oh(t)})}(this,t)},t.prototype._getByKeySelf=function(t,e){var n=this._getObjByKeyId(t.id);return n!==zh?n:this._throwOrNull(t,e)},t.prototype._getByKeyDefault=function(e,n,r){var i;for(i=r instanceof De?this.parent:this;i instanceof t;){var o=i,a=o._getObjByKeyId(e.id);if(a!==zh)return a;i=o.parent}return null!==i?i.get(e.token,n):this._throwOrNull(e,n)},Object.defineProperty(t.prototype,"displayName",{get:function(){return"ReflectiveInjector(providers: ["+function(t,e){for(var n=new Array(t._providers.length),r=0;r<t._providers.length;++r)n[r]=' "'+t.getProviderAtIndex(r).key.displayName+'" ';return n}(this).join(", ")+"])"},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return this.displayName},t.INJECTOR_KEY=xh.get(ds),t}();function Kh(t){return!!t&&"function"==typeof t.then}function Gh(t){return!!t&&"function"==typeof t.subscribe}var Wh=new C("Application Initializer"),Yh=function(){function t(t){var e=this;this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise(function(t,n){e.resolve=t,e.reject=n})}return t.prototype.runInitializers=function(){var t=this;if(!this.initialized){var e=[],n=function(){t.done=!0,t.resolve()};if(this.appInits)for(var r=0;r<this.appInits.length;r++){var i=this.appInits[r]();Kh(i)&&e.push(i)}Promise.all(e).then(function(){n()}).catch(function(e){t.reject(e)}),0===e.length&&n(),this.initialized=!0}},t}(),Zh=new C("AppId");function Xh(){return""+$h()+$h()+$h()}var Jh={provide:Zh,useFactory:Xh,deps:[]};function $h(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var tp=new C("Platform Initializer"),ep=new C("Platform ID"),np=new C("appBootstrapListener"),rp=new C("Application Packages Root URL"),ip=function(){function t(){}return t.prototype.log=function(t){console.log(t)},t.prototype.warn=function(t){console.warn(t)},t}(),op=function(){return function(t,e){this.ngModuleFactory=t,this.componentFactories=e}}();function ap(){throw new Error("Runtime compiler is not loaded")}var sp,up,cp=function(t){return new Yc(t)},lp=ap,fp=function(t){return Promise.resolve(cp(t))},hp=ap,pp=function(t){return new op(cp(t),[])},dp=ap,yp=function(t){return Promise.resolve(pp(t))},mp=ap,vp=function(){function t(){this.compileModuleSync=lp,this.compileModuleAsync=hp,this.compileModuleAndAllComponentsSync=dp,this.compileModuleAndAllComponentsAsync=mp}return t.prototype.clearCache=function(){},t.prototype.clearCacheFor=function(t){},t.prototype.getModuleId=function(t){},t}(),gp=new C("compilerOptions"),bp=function(){return function(){}}();function _p(){var t=z.wtf;return!(!t||!(sp=t.trace)||(up=sp.events,0))}function wp(t,e){return void 0===e&&(e=null),up.createScope(t,e)}function Ep(t,e){return sp.leaveScope(t,e),e}function Cp(t,e){return sp.beginTimeRange(t,e)}function Sp(t){sp.endTimeRange(t)}var Dp=_p();function Op(t,e){return null}var Tp=Dp?wp:function(t,e){return Op},Ap=Dp?Ep:function(t,e){return e},Ip=Dp?Cp:function(t,e){return null},xp=Dp?Sp:function(t){return null},kp=function(){function t(t){var e,n=t.enableLongStackTrace,r=void 0!==n&&n;if(this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new yl(!1),this.onMicrotaskEmpty=new yl(!1),this.onStable=new yl(!1),this.onError=new yl(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),(e=this)._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(t,n,r,i,o,a){try{return jp(e),t.invokeTask(r,i,o,a)}finally{Mp(e)}},onInvoke:function(t,n,r,i,o,a,s){try{return jp(e),t.invoke(r,i,o,a,s)}finally{Mp(e)}},onHasTask:function(t,n,r,i){t.hasTask(r,i),n===r&&("microTask"==i.change?(e.hasPendingMicrotasks=i.microTask,Np(e)):"macroTask"==i.change&&(e.hasPendingMacrotasks=i.macroTask))},onHandleError:function(t,n,r,i){return t.handleError(r,i),e.runOutsideAngular(function(){return e.onError.emit(i)}),!1}})}return t.isInAngularZone=function(){return!0===Zone.current.get("isAngularZone")},t.assertInAngularZone=function(){if(!t.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")},t.assertNotInAngularZone=function(){if(t.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")},t.prototype.run=function(t,e,n){return this._inner.run(t,e,n)},t.prototype.runTask=function(t,e,n,r){var i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,Pp,Rp,Rp);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}},t.prototype.runGuarded=function(t,e,n){return this._inner.runGuarded(t,e,n)},t.prototype.runOutsideAngular=function(t){return this._outer.run(t)},t}();function Rp(){}var Pp={};function Np(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(function(){return t.onStable.emit(null)})}finally{t.isStable=!0}}}function jp(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Mp(t){t._nesting--,Np(t)}var Fp=function(){function t(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new yl,this.onMicrotaskEmpty=new yl,this.onStable=new yl,this.onError=new yl}return t.prototype.run=function(t){return t()},t.prototype.runGuarded=function(t){return t()},t.prototype.runOutsideAngular=function(t){return t()},t.prototype.runTask=function(t){return t()},t}(),Lp=function(){function t(t){var e=this;this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(function(){e.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}return t.prototype._watchAngularEvents=function(){var t=this;this._ngZone.onUnstable.subscribe({next:function(){t._didWork=!0,t._isZoneStable=!1}}),this._ngZone.runOutsideAngular(function(){t._ngZone.onStable.subscribe({next:function(){kp.assertNotInAngularZone(),G(function(){t._isZoneStable=!0,t._runCallbacksIfReady()})}})})},t.prototype.increasePendingRequestCount=function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount},t.prototype.decreasePendingRequestCount=function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount},t.prototype.isStable=function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks},t.prototype._runCallbacksIfReady=function(){var t=this;if(this.isStable())G(function(){for(;0!==t._callbacks.length;){var e=t._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(t._didWork)}t._didWork=!1});else{var e=this.getPendingTasks();this._callbacks=this._callbacks.filter(function(t){return!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)}),this._didWork=!0}},t.prototype.getPendingTasks=function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(function(t){return{source:t.source,creationLocation:t.creationLocation,data:t.data}}):[]},t.prototype.addCallback=function(t,e,n){var r=this,i=-1;e&&e>0&&(i=setTimeout(function(){r._callbacks=r._callbacks.filter(function(t){return t.timeoutId!==i}),t(r._didWork,r.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:i,updateCb:n})},t.prototype.whenStable=function(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()},t.prototype.getPendingRequestCount=function(){return this._pendingCount},t.prototype.findProviders=function(t,e,n){return[]},t}(),Bp=function(){function t(){this._applications=new Map,qp.addToWindow(this)}return t.prototype.registerApplication=function(t,e){this._applications.set(t,e)},t.prototype.unregisterApplication=function(t){this._applications.delete(t)},t.prototype.unregisterAllApplications=function(){this._applications.clear()},t.prototype.getTestability=function(t){return this._applications.get(t)||null},t.prototype.getAllTestabilities=function(){return Array.from(this._applications.values())},t.prototype.getAllRootElements=function(){return Array.from(this._applications.keys())},t.prototype.findTestabilityInTree=function(t,e){return void 0===e&&(e=!0),qp.findTestabilityInTree(this,t,e)},Object(r.__decorate)([Object(r.__metadata)("design:paramtypes",[])],t)}();function Vp(t){qp=t}var Up,qp=new(function(){function t(){}return t.prototype.addToWindow=function(t){},t.prototype.findTestabilityInTree=function(t,e,n){return null},t}());function zp(t,e,n){return Promise.resolve(new Yc(n))}var Hp=new C("AllowMultipleToken"),Qp=function(){return function(t,e){this.name=t,this.token=e}}();function Kp(t){if(Up&&!Up.destroyed&&!Up.injector.get(Hp,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Up=t.get(Xp);var e=t.get(tp,null);return e&&e.forEach(function(t){return t()}),Up}function Gp(t,e,n){void 0===n&&(n=[]);var r="Platform: "+e,i=new C(r);return function(e){void 0===e&&(e=[]);var o=Zp();if(!o||o.injector.get(Hp,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{var a=n.concat(e).concat({provide:i,useValue:!0});Kp(ds.create({providers:a,name:r}))}return Wp(i)}}function Wp(t){var e=Zp();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}function Yp(){Up&&!Up.destroyed&&Up.destroy()}function Zp(){return Up&&!Up.destroyed?Up:null}var Xp=function(){function t(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return t.prototype.bootstrapModuleFactory=function(t,e){var n,r=this,i="noop"===(n=e?e.ngZone:void 0)?new Fp:("zone.js"===n?void 0:n)||new kp({enableLongStackTrace:Bu()}),o=[{provide:kp,useValue:i}];return i.run(function(){var e=ds.create({providers:o,parent:r.injector,name:t.moduleType.name}),n=t.create(e),a=n.injector.get(Dh,null);if(!a)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.onDestroy(function(){return td(r._modules,n)}),i.runOutsideAngular(function(){return i.onError.subscribe({next:function(t){a.handleError(t)}})}),function(t,e,i){try{var o=((a=n.injector.get(Yh)).runInitializers(),a.donePromise.then(function(){return r._moduleDoBootstrap(n),n}));return Kh(o)?o.catch(function(n){throw e.runOutsideAngular(function(){return t.handleError(n)}),n}):o}catch(s){throw e.runOutsideAngular(function(){return t.handleError(s)}),s}var a}(a,i)})},t.prototype.bootstrapModule=function(t,e){var n=this;void 0===e&&(e=[]);var r=Jp({},e);return function(t,e,n){return t.get(bp).createCompiler([e]).compileModuleAsync(n)}(this.injector,r,t).then(function(t){return n.bootstrapModuleFactory(t,r)})},t.prototype._moduleDoBootstrap=function(t){var e=t.injector.get($p);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(function(t){return e.bootstrap(t)});else{if(!t.instance.ngDoBootstrap)throw new Error("The module "+Y(t.instance.constructor)+' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.');t.instance.ngDoBootstrap(e)}this._modules.push(t)},t.prototype.onDestroy=function(t){this._destroyListeners.push(t)},Object.defineProperty(t.prototype,"injector",{get:function(){return this._injector},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(function(t){return t.destroy()}),this._destroyListeners.forEach(function(t){return t()}),this._destroyed=!0},Object.defineProperty(t.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!0,configurable:!0}),t}();function Jp(t,e){return Array.isArray(e)?e.reduce(Jp,t):Object(r.__assign)({},t,e)}var $p=function(){function t(t,e,n,r,i,o){var c=this;this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Bu(),this._zone.onMicrotaskEmpty.subscribe({next:function(){c._zone.run(function(){c.tick()})}});var l=new a.a(function(t){c._stable=c._zone.isStable&&!c._zone.hasPendingMacrotasks&&!c._zone.hasPendingMicrotasks,c._zone.runOutsideAngular(function(){t.next(c._stable),t.complete()})}),f=new a.a(function(t){var e;c._zone.runOutsideAngular(function(){e=c._zone.onStable.subscribe(function(){kp.assertNotInAngularZone(),G(function(){c._stable||c._zone.hasPendingMacrotasks||c._zone.hasPendingMicrotasks||(c._stable=!0,t.next(!0))})})});var n=c._zone.onUnstable.subscribe(function(){kp.assertInAngularZone(),c._stable&&(c._stable=!1,c._zone.runOutsideAngular(function(){t.next(!1)}))});return function(){e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(s.a)(l,f.pipe(Object(u.a)()))}var e;return e=t,t.prototype.bootstrap=function(t,e){var n,r=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=t instanceof Xs?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);var i=n instanceof au?null:this._injector.get(su),o=n.create(ds.NULL,[],e||n.selector,i);o.onDestroy(function(){r._unloadComponent(o)});var a=o.injector.get(Lp,null);return a&&o.injector.get(Bp).registerApplication(o.location.nativeElement,a),this._loadComponent(o),Bu()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),o},t.prototype.tick=function(){var t=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");var n=e._tickScope();try{this._runningTick=!0,this._views.forEach(function(t){return t.detectChanges()}),this._enforceNoNewChanges&&this._views.forEach(function(t){return t.checkNoChanges()})}catch(r){this._zone.runOutsideAngular(function(){return t._exceptionHandler.handleError(r)})}finally{this._runningTick=!1,Ap(n)}},t.prototype.attachView=function(t){var e=t;this._views.push(e),e.attachToAppRef(this)},t.prototype.detachView=function(t){var e=t;td(this._views,e),e.detachFromAppRef()},t.prototype._loadComponent=function(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(np,[]).concat(this._bootstrapListeners).forEach(function(e){return e(t)})},t.prototype._unloadComponent=function(t){this.detachView(t.hostView),td(this.components,t)},t.prototype.ngOnDestroy=function(){this._views.slice().forEach(function(t){return t.destroy()})},Object.defineProperty(t.prototype,"viewCount",{get:function(){return this._views.length},enumerable:!0,configurable:!0}),t._tickScope=Tp("ApplicationRef#tick()"),t}();function td(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}var ed=function(){function t(){this.dirty=!0,this._results=[],this.changes=new yl,this.length=0}return t.prototype.map=function(t){return this._results.map(t)},t.prototype.filter=function(t){return this._results.filter(t)},t.prototype.find=function(t){return this._results.find(t)},t.prototype.reduce=function(t,e){return this._results.reduce(t,e)},t.prototype.forEach=function(t){this._results.forEach(t)},t.prototype.some=function(t){return this._results.some(t)},t.prototype.toArray=function(){return this._results.slice()},t.prototype[K()]=function(){return this._results[K()]()},t.prototype.toString=function(){return this._results.toString()},t.prototype.reset=function(t){this._results=function t(e){return e.reduce(function(e,n){var r=Array.isArray(n)?t(n):n;return e.concat(r)},[])}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]},t.prototype.notifyOnChanges=function(){this.changes.emit(this)},t.prototype.setDirty=function(){this.dirty=!0},t.prototype.destroy=function(){this.changes.complete(),this.changes.unsubscribe()},t}(),nd=function(){return function(){}}(),rd={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},id=function(){function t(t,e){this._compiler=t,this._config=e||rd}return t.prototype.load=function(t){return this._compiler instanceof vp?this.loadFactory(t):this.loadAndCompile(t)},t.prototype.loadAndCompile=function(t){var e=this,i=Object(r.__read)(t.split("#"),2),o=i[0],a=i[1];return void 0===a&&(a="default"),n("crnd")(o).then(function(t){return t[a]}).then(function(t){return od(t,o,a)}).then(function(t){return e._compiler.compileModuleAsync(t)})},t.prototype.loadFactory=function(t){var e=Object(r.__read)(t.split("#"),2),i=e[0],o=e[1],a="NgFactory";return void 0===o&&(o="default",a=""),n("crnd")(this._config.factoryPathPrefix+i+this._config.factoryPathSuffix).then(function(t){return t[o+a]}).then(function(t){return od(t,i,o)})},t}();function od(t,e,n){if(!t)throw new Error("Cannot find '"+n+"' in '"+e+"'");return t}var ad=function(){function t(){}return t.__NG_ELEMENT_ID__=function(){return ud(t,du)},t}(),sd=function(t,e){return function(t,e,n,i){var o;eu||(eu=function(t){function n(e,n,r){var i=t.call(this)||this;return i._lContainer=e,i._hostTNode=n,i._hostView=r,i._viewRefs=[],i}return Object(r.__extends)(n,t),Object.defineProperty(n.prototype,"element",{get:function(){return fu(e,this._hostTNode,this._hostView)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"injector",{get:function(){return new Mn(this._hostTNode,this._hostView)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"parentInjector",{get:function(){var t=On(this._hostTNode,this._hostView),e=ye(t,this._hostView),n=function(t,e,n){if(n.parent&&-1!==n.parent.injectorIndex){for(var r=n.parent.injectorIndex,i=n.parent;null!=i.parent&&r==i.injectorIndex;)i=i.parent;return i}for(var o=de(t),a=e,s=e[Dt];o>1;)s=(a=a[Mt])[Dt],o--;return s}(t,this._hostView,this._hostTNode);return he(t)&&null!=n?new Mn(n,e):new Mn(null,this._hostView)},enumerable:!0,configurable:!0}),n.prototype.clear=function(){for(;this._lContainer[Bt].length;)this.remove(0)},n.prototype.get=function(t){return this._viewRefs[t]||null},Object.defineProperty(n.prototype,"length",{get:function(){return this._lContainer[Bt].length},enumerable:!0,configurable:!0}),n.prototype.createEmbeddedView=function(t,e,n){var r=this._adjustIndex(n),i=t.createEmbeddedView(e||{},this._lContainer,this._hostTNode,this._hostView,r);return i.attachToViewContainerRef(this),this._viewRefs.splice(r,0,i),i},n.prototype.createComponent=function(t,e,n,r,i){var o=n||this.parentInjector;!i&&null==t.ngModule&&o&&(i=o.get(su,null));var a=t.create(o,r,void 0,i);return this.insert(a.hostView,e),a},n.prototype.insert=function(t,e){if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");var n=t._lView,r=this._adjustIndex(e);return Nr(n,this._lContainer,this._hostView,r,this._hostTNode.index),Pr(n,!0,Gr(r,this._lContainer[Bt],this._lContainer[Vt])),t.attachToViewContainerRef(this),this._viewRefs.splice(r,0,t),t},n.prototype.move=function(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");var n=this.indexOf(t);return this.detach(n),this.insert(t,this._adjustIndex(e)),t},n.prototype.indexOf=function(t){return this._viewRefs.indexOf(t)},n.prototype.remove=function(t){var e=this._adjustIndex(t,-1);Mr(this._lContainer,this._hostTNode,e),this._viewRefs.splice(e,1)},n.prototype.detach=function(t){var e=this._adjustIndex(t,-1),n=jr(this._lContainer,e,!!this._hostTNode.detached);return null!=this._viewRefs.splice(e,1)[0]?new cu(n,n[At],n[Nt]):null},n.prototype._adjustIndex=function(t,e){return void 0===e&&(e=0),null==t?this._lContainer[Bt].length+e:t},n}(t));var a=i[n.index];if(ae(a))(o=a)[Lt]=-1;else{var s=i[kt].createComment("");if(se(i)){var u=i[kt],c=te(n,i);zr(u,Hr(u,c),s,function(t,e){return Cr(t)?t.nextSibling(e):e.nextSibling}(u,c))}else Qr(s,n,i);i[n.index]=o=ea(a,n,i,s,!0),ha(i,n.index,o)}return new eu(o,n,i)}(t,e,$e(),Xe())},ud=us,cd=function(){function t(){}return t.__NG_ELEMENT_ID__=function(){return fd()},t}(),ld=function(){return pu($e(),Xe(),null)},fd=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},hd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.__extends)(e,t),e}(cd),pd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.__extends)(e,t),e}(hd),dd=function(){return function(t,e){this.name=t,this.callback=e}}(),yd=function(){function t(t,e,n){this.listeners=[],this.parent=null,this._debugContext=n,this.nativeNode=t,e&&e instanceof md&&e.addChild(this)}return Object.defineProperty(t.prototype,"injector",{get:function(){return this._debugContext.injector},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentInstance",{get:function(){return this._debugContext.component},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this._debugContext.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"references",{get:function(){return this._debugContext.references},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"providerTokens",{get:function(){return this._debugContext.providerTokens},enumerable:!0,configurable:!0}),t}(),md=function(t){function e(e,n,r){var i=t.call(this,e,n,r)||this;return i.properties={},i.attributes={},i.classes={},i.styles={},i.childNodes=[],i.nativeElement=e,i}return Object(r.__extends)(e,t),e.prototype.addChild=function(t){t&&(this.childNodes.push(t),t.parent=this)},e.prototype.removeChild=function(t){var e=this.childNodes.indexOf(t);-1!==e&&(t.parent=null,this.childNodes.splice(e,1))},e.prototype.insertChildrenAfter=function(t,e){var n,i=this,o=this.childNodes.indexOf(t);-1!==o&&((n=this.childNodes).splice.apply(n,Object(r.__spread)([o+1,0],e)),e.forEach(function(e){e.parent&&e.parent.removeChild(e),t.parent=i}))},e.prototype.insertBefore=function(t,e){var n=this.childNodes.indexOf(t);-1===n?this.addChild(e):(e.parent&&e.parent.removeChild(e),e.parent=this,this.childNodes.splice(n,0,e))},e.prototype.query=function(t){return this.queryAll(t)[0]||null},e.prototype.queryAll=function(t){var e=[];return gd(this,t,e),e},e.prototype.queryAllNodes=function(t){var e=[];return bd(this,t,e),e},Object.defineProperty(e.prototype,"children",{get:function(){return this.childNodes.filter(function(t){return t instanceof e})},enumerable:!0,configurable:!0}),e.prototype.triggerEventHandler=function(t,e){this.listeners.forEach(function(n){n.name==t&&n.callback(e)})},e}(yd);function vd(t){return t.map(function(t){return t.nativeElement})}function gd(t,e,n){t.childNodes.forEach(function(t){t instanceof md&&(e(t)&&n.push(t),gd(t,e,n))})}function bd(t,e,n){t instanceof md&&t.childNodes.forEach(function(t){e(t)&&n.push(t),t instanceof md&&bd(t,e,n)})}var _d=function(){function t(t){this.nativeNode=t}return Object.defineProperty(t.prototype,"parent",{get:function(){var t=this.nativeNode.parentNode;return t?new wd(t):null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"injector",{get:function(){return Jn(this.nativeNode)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentInstance",{get:function(){var t=this.nativeNode;return t&&Gn(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return Wn(this.nativeNode)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"listeners",{get:function(){return ir(this.nativeNode).filter(rr)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"references",{get:function(){return void 0===(t=tr(this.nativeNode)).localRefs&&(t.localRefs=function(e,n){var r=e[bt].data[t.nodeIndex];if(r&&r.localNames){for(var i={},o=0;o<r.localNames.length;o+=2){var a=r.localNames[o+1];i[r.localNames[o]]=-1===a?te(r,e):e[a]}return i}return null}(t.lView)),t.localRefs||{};var t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"providerTokens",{get:function(){return function(t){var e=tr(t,!1);if(!e)return[];for(var n,r=e.lView[bt],i=r.data[e.nodeIndex],o=[],a=i.directiveEnd,s=65535&i.providerIndexes;s<a;s++){var u=r.data[s];void 0!==(n=u).type&&void 0!==n.template&&void 0!==n.declaredInputs&&(u=u.type),o.push(u)}return o}(this.nativeNode)},enumerable:!0,configurable:!0}),t}(),wd=function(t){function e(e){return t.call(this,e)||this}return Object(r.__extends)(e,t),Object.defineProperty(e.prototype,"nativeElement",{get:function(){return this.nativeNode.nodeType==Node.ELEMENT_NODE?this.nativeNode:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.nativeElement.nodeName},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"properties",{get:function(){return tr(this.nativeNode),{}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"attributes",{get:function(){var t={},e=this.nativeElement;if(e)for(var n=e.attributes,r=0;r<n.length;r++){var i=n[r];t[i.name]=i.value}return t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"classes",{get:function(){var t={},e=this.nativeElement;if(e){var n=nr(e),r=n.lView[n.nodeIndex];if(ui(n.nodeIndex,n.lView)){for(var i=9;i<r.length;i+=4)if(Ci(r,i)){var o=Vi(r,i),a=Bi(r,i);"boolean"==typeof a&&(t[o]=a)}}else{var s=e.classList;for(i=0;i<s.length;i++)t[s[i]]=!0}}return t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"styles",{get:function(){var t={},e=this.nativeElement;if(e){var n=nr(e),r=n.lView[n.nodeIndex];if(ui(n.nodeIndex,n.lView)){for(var i=9;i<r.length;i+=4)if(!Ci(r,i)){var o=Vi(r,i),a=Bi(r,i);null!==a&&(t[o]=a)}}else{var s=e.style;for(i=0;i<s.length;i++){var u=s.item(i);t[u]=s.getPropertyValue(u)}}}return t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"childNodes",{get:function(){for(var t=this.nativeNode.childNodes,e=[],n=0;n<t.length;n++)e.push(Sd(t[n]));return e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"children",{get:function(){var t=this.nativeElement;if(!t)return[];for(var e=t.children,n=[],r=0;r<e.length;r++)n.push(Sd(e[r]));return n},enumerable:!0,configurable:!0}),e.prototype.query=function(t){return this.queryAll(t)[0]||null},e.prototype.queryAll=function(t){var e=[];return Ed(this,t,e,!0),e},e.prototype.queryAllNodes=function(t){var e=[];return Ed(this,t,e,!1),e},e.prototype.triggerEventHandler=function(t,e){this.listeners.forEach(function(n){n.name===t&&n.callback(e)})},e}(_d);function Ed(t,e,n,r){t instanceof wd&&t.childNodes.forEach(function(t){e(t)&&n.push(t),t instanceof wd&&(r&&!t.nativeElement||Ed(t,e,n,r))})}var Cd=new Map;function Sd(t){return t instanceof Node?t.nodeType==Node.ELEMENT_NODE?new wd(t):new _d(t):null}var Dd=function(t){return Cd.get(t)||null};function Od(t){Cd.set(t.nativeNode,t)}var Td=yd,Ad=md,Id=function(){function t(){}return t.prototype.supports=function(t){return fr(t)},t.prototype.create=function(t){return new kd(t)},t}(),xd=function(t,e){return e},kd=function(){function t(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||xd}return t.prototype.forEachItem=function(t){var e;for(e=this._itHead;null!==e;e=e._next)t(e)},t.prototype.forEachOperation=function(t){for(var e=this._itHead,n=this._removalsHead,r=0,i=null;e||n;){var o=!n||e&&e.currentIndex<jd(n,r,i)?e:n,a=jd(o,r,i),s=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);var u=a-r,c=s-r;if(u!=c){for(var l=0;l<u;l++){var f=l<i.length?i[l]:i[l]=0,h=f+l;c<=h&&h<u&&(i[l]=f+1)}i[o.previousIndex]=c-u}}a!==s&&t(o,a,s)}},t.prototype.forEachPreviousItem=function(t){var e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)},t.prototype.forEachAddedItem=function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)},t.prototype.forEachMovedItem=function(t){var e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)},t.prototype.forEachRemovedItem=function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)},t.prototype.forEachIdentityChange=function(t){var e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)},t.prototype.diff=function(t){if(null==t&&(t=[]),!fr(t))throw new Error("Error trying to diff '"+Y(t)+"'. Only arrays and iterables are allowed");return this.check(t)?this:null},t.prototype.onDestroy=function(){},t.prototype.check=function(t){var e=this;this._reset();var n,r,i,o=this._itHead,a=!1;if(Array.isArray(t)){this.length=t.length;for(var s=0;s<this.length;s++)i=this._trackByFn(s,r=t[s]),null!==o&&W(o.trackById,i)?(a&&(o=this._verifyReinsertion(o,r,i,s)),W(o.item,r)||this._addIdentityChange(o,r)):(o=this._mismatch(o,r,i,s),a=!0),o=o._next}else n=0,function(t,e){if(Array.isArray(t))for(var n=0;n<t.length;n++)e(t[n]);else for(var r=t[K()](),i=void 0;!(i=r.next()).done;)e(i.value)}(t,function(t){i=e._trackByFn(n,t),null!==o&&W(o.trackById,i)?(a&&(o=e._verifyReinsertion(o,t,i,n)),W(o.item,t)||e._addIdentityChange(o,t)):(o=e._mismatch(o,t,i,n),a=!0),o=o._next,n++}),this.length=n;return this._truncate(o),this.collection=t,this.isDirty},Object.defineProperty(t.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead},enumerable:!0,configurable:!0}),t.prototype._reset=function(){if(this.isDirty){var t=void 0,e=void 0;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}},t.prototype._mismatch=function(t,e,n,r){var i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(W(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(W(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new Rd(e,n),i,r),t},t.prototype._verifyReinsertion=function(t,e,n,r){var i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t},t.prototype._truncate=function(t){for(;null!==t;){var e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)},t.prototype._reinsertAfter=function(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);var r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t},t.prototype._moveAfter=function(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t},t.prototype._addAfter=function(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t},t.prototype._insertAfter=function(t,e,n){var r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Nd),this._linkedRecords.put(t),t.currentIndex=n,t},t.prototype._remove=function(t){return this._addToRemovals(this._unlink(t))},t.prototype._unlink=function(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);var e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t},t.prototype._addToMoves=function(t,e){return t.previousIndex===e?t:(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t,t)},t.prototype._addToRemovals=function(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Nd),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t},t.prototype._addIdentityChange=function(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t},t}(),Rd=function(){return function(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}(),Pd=function(){function t(){this._head=null,this._tail=null}return t.prototype.add=function(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)},t.prototype.get=function(t,e){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&W(n.trackById,t))return n;return null},t.prototype.remove=function(t){var e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head},t}(),Nd=function(){function t(){this.map=new Map}return t.prototype.put=function(t){var e=t.trackById,n=this.map.get(e);n||(n=new Pd,this.map.set(e,n)),n.add(t)},t.prototype.get=function(t,e){var n=this.map.get(t);return n?n.get(t,e):null},t.prototype.remove=function(t){var e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t},Object.defineProperty(t.prototype,"isEmpty",{get:function(){return 0===this.map.size},enumerable:!0,configurable:!0}),t.prototype.clear=function(){this.map.clear()},t}();function jd(t,e,n){var r=t.previousIndex;if(null===r)return r;var i=0;return n&&r<n.length&&(i=n[r]),r+e+i}var Md=function(){function t(){}return t.prototype.supports=function(t){return t instanceof Map||hr(t)},t.prototype.create=function(){return new Fd},t}(),Fd=function(){function t(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return Object.defineProperty(t.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead},enumerable:!0,configurable:!0}),t.prototype.forEachItem=function(t){var e;for(e=this._mapHead;null!==e;e=e._next)t(e)},t.prototype.forEachPreviousItem=function(t){var e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)},t.prototype.forEachChangedItem=function(t){var e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)},t.prototype.forEachAddedItem=function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)},t.prototype.forEachRemovedItem=function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)},t.prototype.diff=function(t){if(t){if(!(t instanceof Map||hr(t)))throw new Error("Error trying to diff '"+Y(t)+"'. Only maps and objects are allowed")}else t=new Map;return this.check(t)?this:null},t.prototype.onDestroy=function(){},t.prototype.check=function(t){var e=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(t,function(t,r){if(n&&n.key===r)e._maybeAddToChanges(n,t),e._appendAfter=n,n=n._next;else{var i=e._getOrCreateRecordForKey(r,t);n=e._insertBeforeOrAppend(n,i)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty},t.prototype._insertBeforeOrAppend=function(t,e){if(t){var n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null},t.prototype._getOrCreateRecordForKey=function(t,e){if(this._records.has(t)){var n=this._records.get(t);this._maybeAddToChanges(n,e);var r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}var o=new Ld(t);return this._records.set(t,o),o.currentValue=e,this._addToAdditions(o),o},t.prototype._reset=function(){if(this.isDirty){var t=void 0;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}},t.prototype._maybeAddToChanges=function(t,e){W(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))},t.prototype._addToAdditions=function(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)},t.prototype._addToChanges=function(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)},t.prototype._forEach=function(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(function(n){return e(t[n],n)})},t}(),Ld=function(){return function(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}(),Bd=function(){function t(t){this.factories=t}return t.create=function(e,n){if(null!=n){var r=n.factories.slice();e=e.concat(r)}return new t(e)},t.extend=function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new De,new Ce]]}},t.prototype.find=function(t){var e,n=this.factories.find(function(e){return e.supports(t)});if(null!=n)return n;throw new Error("Cannot find a differ supporting object '"+t+"' of type '"+((e=t).name||typeof e)+"'")},t.ngInjectableDef=b({providedIn:"root",factory:function(){return new t([new Id])}}),t}(),Vd=function(){function t(t){this.factories=t}return t.create=function(e,n){if(n){var r=n.factories.slice();e=e.concat(r)}return new t(e)},t.extend=function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new De,new Ce]]}},t.prototype.find=function(t){var e=this.factories.find(function(e){return e.supports(t)});if(e)return e;throw new Error("Cannot find a differ supporting object '"+t+"'")},t.ngInjectableDef=b({providedIn:"root",factory:function(){return new t([new Md])}}),t}(),Ud=[new Md],qd=new Bd([new Id]),zd=new Vd(Ud),Hd=Gp(null,"core",[{provide:ep,useValue:"unknown"},{provide:Xp,deps:[ds]},{provide:Bp,deps:[]},{provide:ip,deps:[]}]),Qd=new C("LocaleId"),Kd=new C("Translations"),Gd=new C("TranslationsFormat"),Wd=function(t){return t[t.Error=0]="Error",t[t.Warning=1]="Warning",t[t.Ignore=2]="Ignore",t}({});function Yd(){return qd}function Zd(){return zd}function Xd(t){return t||"en-US"}var Jd=[{provide:$p,useClass:$p,deps:[kp,ip,ds,Dh,iu,Yh]},{provide:Yh,useClass:Yh,deps:[[new Ce,Wh]]},{provide:vp,useClass:vp,deps:[]},Jh,{provide:Bd,useFactory:Yd,deps:[]},{provide:Vd,useFactory:Zd,deps:[]},{provide:Qd,useFactory:Xd,deps:[[new Ee(Qd),new Ce,new De]]}],$d=function(){return function(t){}}(),ty=!0,ey=!1;function ny(t,e,n){var r=t.state,i=1792&r;return i===e?(t.state=-1793&r|n,t.initIndex=-1,!0):i===n}function ry(t,e,n){return(1792&t.state)===e&&t.initIndex<=n&&(t.initIndex=n+1,!0)}function iy(t,e){return t.nodes[e]}function oy(t,e){return t.nodes[e]}function ay(t,e){return t.nodes[e]}function sy(t,e){return t.nodes[e]}function uy(t,e){return t.nodes[e]}var cy=function(){return function(){}}(),ly={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0};function fy(t,e,n,r){var i="ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '"+e+"'. Current value: '"+n+"'.";return r&&(i+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(t,e){var n=new Error(t);return hy(n,e),n}(i,t)}function hy(t,e){t[bh]=e,t[wh]=e.logError.bind(e)}function py(t){return new Error("ViewDestroyedError: Attempt to use a destroyed view: "+t)}var dy=function(){},yy=new Map;function my(t){var e=yy.get(t);return e||(e=Y(t)+"_"+yy.size,yy.set(t,e)),e}function vy(t,e,n,r){if(cr.isWrapped(r)){r=cr.unwrap(r);var i=t.def.nodes[e].bindingIndex+n,o=cr.unwrap(t.oldValues[i]);t.oldValues[i]=new cr(o)}return r}var gy="$$undefined",by="$$empty";function _y(t){return{id:gy,styles:t.styles,encapsulation:t.encapsulation,data:t.data}}var wy=0;function Ey(t,e,n,r){return!(!(2&t.state)&&W(t.oldValues[e.bindingIndex+n],r))}function Cy(t,e,n,r){return!!Ey(t,e,n,r)&&(t.oldValues[e.bindingIndex+n]=r,!0)}function Sy(t,e,n,r){var i=t.oldValues[e.bindingIndex+n];if(1&t.state||!ur(i,r)){var o=e.bindings[n].name;throw fy(ly.createDebugContext(t,e.nodeIndex),o+": "+i,o+": "+r,0!=(1&t.state))}}function Dy(t){for(var e=t;e;)2&e.def.flags&&(e.state|=8),e=e.viewContainerParent||e.parent}function Oy(t,e){for(var n=t;n&&n!==e;)n.state|=64,n=n.viewContainerParent||n.parent}function Ty(t,e,n,r){try{return Dy(33554432&t.def.nodes[e].flags?oy(t,e).componentView:t),ly.handleEvent(t,e,n,r)}catch(i){t.root.errorHandler.handleError(i)}}function Ay(t){return t.parent?oy(t.parent,t.parentNodeDef.nodeIndex):null}function Iy(t){return t.parent?t.parentNodeDef.parent:null}function xy(t,e){switch(201347067&e.flags){case 1:return oy(t,e.nodeIndex).renderElement;case 2:return iy(t,e.nodeIndex).renderText}}function ky(t,e){return t?t+":"+e:e}function Ry(t){return!!t.parent&&!!(32768&t.parentNodeDef.flags)}function Py(t){return!(!t.parent||32768&t.parentNodeDef.flags)}function Ny(t){return 1<<t%32}function jy(t){var e={},n=0,i={};return t&&t.forEach(function(t){var o=Object(r.__read)(t,2),a=o[0],s=o[1];"number"==typeof a?(e[a]=s,n|=Ny(a)):i[a]=s}),{matchedQueries:e,references:i,matchedQueryIds:n}}function My(t,e){return t.map(function(t){var n,i,o;return Array.isArray(t)?(o=(n=Object(r.__read)(t,2))[0],i=n[1]):(o=0,i=t),i&&("function"==typeof i||"object"==typeof i)&&e&&Object.defineProperty(i,cs,{value:e,configurable:!0}),{flags:o,token:i,tokenKey:my(i)}})}function Fy(t,e,n){var r=n.renderParent;return r?0==(1&r.flags)||0==(33554432&r.flags)||r.element.componentRendererType&&r.element.componentRendererType.encapsulation===rt.Native?oy(t,n.renderParent.nodeIndex).renderElement:void 0:e}var Ly=new WeakMap;function By(t){var e=Ly.get(t);return e||((e=t(function(){return dy})).factory=t,Ly.set(t,e)),e}function Vy(t,e,n,r,i){3===e&&(n=t.renderer.parentNode(xy(t,t.def.lastRenderRootNode))),Uy(t,e,0,t.def.nodes.length-1,n,r,i)}function Uy(t,e,n,r,i,o,a){for(var s=n;s<=r;s++){var u=t.def.nodes[s];11&u.flags&&zy(t,u,e,i,o,a),s+=u.childCount}}function qy(t,e,n,r,i,o){for(var a=t;a&&!Ry(a);)a=a.parent;for(var s=a.parent,u=Iy(a),c=u.nodeIndex+u.childCount,l=u.nodeIndex+1;l<=c;l++){var f=s.def.nodes[l];f.ngContentIndex===e&&zy(s,f,n,r,i,o),l+=f.childCount}if(!s.parent){var h=t.root.projectableNodes[e];if(h)for(l=0;l<h.length;l++)Hy(t,h[l],n,r,i,o)}}function zy(t,e,n,r,i,o){if(8&e.flags)qy(t,e.ngContent.index,n,r,i,o);else{var a=xy(t,e);if(3===n&&33554432&e.flags&&48&e.bindingFlags?(16&e.bindingFlags&&Hy(t,a,n,r,i,o),32&e.bindingFlags&&Hy(oy(t,e.nodeIndex).componentView,a,n,r,i,o)):Hy(t,a,n,r,i,o),16777216&e.flags)for(var s=oy(t,e.nodeIndex).viewContainer._embeddedViews,u=0;u<s.length;u++)Vy(s[u],n,r,i,o);1&e.flags&&!e.element.name&&Uy(t,n,e.nodeIndex+1,e.nodeIndex+e.childCount,r,i,o)}}function Hy(t,e,n,r,i,o){var a=t.renderer;switch(n){case 1:a.appendChild(r,e);break;case 2:a.insertBefore(r,e,i);break;case 3:a.removeChild(r,e);break;case 0:o.push(e)}}var Qy=/^:([^:]+):(.+)$/;function Ky(t){if(":"===t[0]){var e=t.match(Qy);return[e[1],e[2]]}return["",t]}function Gy(t){for(var e=0,n=0;n<t.length;n++)e|=t[n].flags;return e}function Wy(t,e){for(var n="",r=0;r<2*t;r+=2)n=n+e[r]+Zy(e[r+1]);return n+e[2*t]}function Yy(t,e,n,r,i,o,a,s,u,c,l,f,h,p,d,y,m,v,g,b){switch(t){case 1:return e+Zy(n)+r;case 2:return e+Zy(n)+r+Zy(i)+o;case 3:return e+Zy(n)+r+Zy(i)+o+Zy(a)+s;case 4:return e+Zy(n)+r+Zy(i)+o+Zy(a)+s+Zy(u)+c;case 5:return e+Zy(n)+r+Zy(i)+o+Zy(a)+s+Zy(u)+c+Zy(l)+f;case 6:return e+Zy(n)+r+Zy(i)+o+Zy(a)+s+Zy(u)+c+Zy(l)+f+Zy(h)+p;case 7:return e+Zy(n)+r+Zy(i)+o+Zy(a)+s+Zy(u)+c+Zy(l)+f+Zy(h)+p+Zy(d)+y;case 8:return e+Zy(n)+r+Zy(i)+o+Zy(a)+s+Zy(u)+c+Zy(l)+f+Zy(h)+p+Zy(d)+y+Zy(m)+v;case 9:return e+Zy(n)+r+Zy(i)+o+Zy(a)+s+Zy(u)+c+Zy(l)+f+Zy(h)+p+Zy(d)+y+Zy(m)+v+Zy(g)+b;default:throw new Error("Does not support more than 9 expressions")}}function Zy(t){return null!=t?t.toString():""}var Xy=[],Jy={};function $y(t,e,n,r,i,o){t|=1;var a=jy(e);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:t,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:a.matchedQueries,matchedQueryIds:a.matchedQueryIds,references:a.references,ngContentIndex:n,childCount:r,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:o?By(o):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:i||dy},provider:null,text:null,query:null,ngContent:null}}function tm(t,e,n,i,o,a,s,u,c,l,f,h){var p;void 0===s&&(s=[]),l||(l=dy);var d=jy(n),y=d.matchedQueries,m=d.references,v=d.matchedQueryIds,g=null,b=null;a&&(g=(p=Object(r.__read)(Ky(a),2))[0],b=p[1]),u=u||[];for(var _=new Array(u.length),w=0;w<u.length;w++){var E=Object(r.__read)(u[w],3),C=E[0],S=E[1],D=E[2],O=Object(r.__read)(Ky(S),2),T=O[0],A=O[1],I=void 0,x=void 0;switch(15&C){case 4:x=D;break;case 1:case 8:I=D}_[w]={flags:C,ns:T,name:A,nonMinifiedName:A,securityContext:I,suffix:x}}c=c||[];var k=new Array(c.length);for(w=0;w<c.length;w++){var R=Object(r.__read)(c[w],2);k[w]={type:0,target:R[0],eventName:R[1],propName:null}}var P=(s=s||[]).map(function(t){var e=Object(r.__read)(t,2),n=e[0],i=e[1],o=Object(r.__read)(Ky(n),2);return[o[0],o[1],i]});return h=function(t){if(t&&t.id===gy){var e=null!=t.encapsulation&&t.encapsulation!==rt.None||t.styles.length||Object.keys(t.data).length;t.id=e?"c"+wy++:by}return t&&t.id===by&&(t=null),t||null}(h),f&&(e|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:y,matchedQueryIds:v,references:m,ngContentIndex:i,childCount:o,bindings:_,bindingFlags:Gy(_),outputs:k,element:{ns:g,name:b,attrs:P,template:null,componentProvider:null,componentView:f||null,componentRendererType:h,publicProviders:null,allProviders:null,handleEvent:l||dy},provider:null,text:null,query:null,ngContent:null}}function em(t,e,n){var i,o=n.element,a=t.root.selectorOrNode,s=t.renderer;if(t.parent||!a){i=o.name?s.createElement(o.name,o.ns):s.createComment("");var u=Fy(t,e,n);u&&s.appendChild(u,i)}else i=s.selectRootElement(a,!!o.componentRendererType&&o.componentRendererType.encapsulation===rt.ShadowDom);if(o.attrs)for(var c=0;c<o.attrs.length;c++){var l=Object(r.__read)(o.attrs[c],3);s.setAttribute(i,l[1],l[2],l[0])}return i}function nm(t,e,n,r){for(var i=0;i<n.outputs.length;i++){var o=n.outputs[i],a=rm(t,n.nodeIndex,ky(o.target,o.eventName)),s=o.target,u=t;"component"===o.target&&(s=null,u=e);var c=u.renderer.listen(s||r,o.eventName,a);t.disposables[n.outputIndex+i]=c}}function rm(t,e,n){return function(r){return Ty(t,e,n,r)}}function im(t,e,n,r){if(!Cy(t,e,n,r))return!1;var i=e.bindings[n],o=oy(t,e.nodeIndex),a=o.renderElement,s=i.name;switch(15&i.flags){case 1:!function(t,e,n,r,i,o){var a=e.securityContext,s=a?t.root.sanitizer.sanitize(a,o):o;s=null!=s?s.toString():null;var u=t.renderer;null!=o?u.setAttribute(n,i,s,r):u.removeAttribute(n,i,r)}(t,i,a,i.ns,s,r);break;case 2:!function(t,e,n,r){var i=t.renderer;r?i.addClass(e,n):i.removeClass(e,n)}(t,a,s,r);break;case 4:!function(t,e,n,r,i){var o=t.root.sanitizer.sanitize(Ou.STYLE,i);if(null!=o){o=o.toString();var a=e.suffix;null!=a&&(o+=a)}else o=null;var s=t.renderer;null!=o?s.setStyle(n,r,o):s.removeStyle(n,r)}(t,i,a,s,r);break;case 8:!function(t,e,n,r,i){var o=e.securityContext,a=o?t.root.sanitizer.sanitize(o,i):i;t.renderer.setProperty(n,r,a)}(33554432&e.flags&&32&i.flags?o.componentView:t,i,a,s,r)}return!0}var om=new Object,am=my(ds),sm=my(hs),um=my(su);function cm(t,e,n,r){return n=J(n),{index:-1,deps:My(r,Y(e)),flags:t,token:e,value:n}}function lm(t){for(var e={},n=[],r=!1,i=0;i<t.length;i++){var o=t[i];o.token===Is&&!0===o.value&&(r=!0),1073741824&o.flags&&n.push(o.token),o.index=i,e[my(o.token)]=o}return{factory:null,providersByKey:e,providers:t,modules:n,isRoot:r}}function fm(t,e,n){void 0===n&&(n=ds.THROW_IF_NOT_FOUND);var r,i,o=Ie(t);try{if(8&e.flags)return e.token;if(2&e.flags&&(n=null),1&e.flags)return t._parent.get(e.token,n);var a=e.tokenKey;switch(a){case am:case sm:case um:return t}var s,u=t._def.providersByKey[a];if(u){var c=t._providers[u.index];return void 0===c&&(c=t._providers[u.index]=hm(t,u)),c===om?void 0:c}if((s=w(e.token))&&(r=t,null!=(i=s).providedIn&&(function(t,e){return t._def.modules.indexOf(i.providedIn)>-1}(r)||"root"===i.providedIn&&r._def.isRoot))){var l=t._providers.length;return t._def.providersByKey[e.tokenKey]={flags:5120,value:s.factory,deps:[],index:l,token:e.token},t._providers[l]=om,t._providers[l]=hm(t,t._def.providersByKey[e.tokenKey])}return 4&e.flags?n:t._parent.get(e.token,n)}finally{Ie(o)}}function hm(t,e){var n;switch(201347067&e.flags){case 512:n=function(t,e,n){var i=n.length;switch(i){case 0:return new e;case 1:return new e(fm(t,n[0]));case 2:return new e(fm(t,n[0]),fm(t,n[1]));case 3:return new e(fm(t,n[0]),fm(t,n[1]),fm(t,n[2]));default:for(var o=new Array(i),a=0;a<i;a++)o[a]=fm(t,n[a]);return new(e.bind.apply(e,Object(r.__spread)([void 0],o)))}}(t,e.value,e.deps);break;case 1024:n=function(t,e,n){var i=n.length;switch(i){case 0:return e();case 1:return e(fm(t,n[0]));case 2:return e(fm(t,n[0]),fm(t,n[1]));case 3:return e(fm(t,n[0]),fm(t,n[1]),fm(t,n[2]));default:for(var o=Array(i),a=0;a<i;a++)o[a]=fm(t,n[a]);return e.apply(void 0,Object(r.__spread)(o))}}(t,e.value,e.deps);break;case 2048:n=fm(t,e.deps[0]);break;case 256:n=e.value}return n===om||null==n||"object"!=typeof n||131072&e.flags||"function"!=typeof n.ngOnDestroy||(e.flags|=131072),void 0===n?om:n}function pm(t,e){var n=t.viewContainer._embeddedViews;if((null==e||e>=n.length)&&(e=n.length-1),e<0)return null;var r=n[e];return r.viewContainerParent=null,vm(n,e),ly.dirtyParentQueries(r),ym(r),r}function dm(t,e,n){var r=e?xy(e,e.def.lastRenderRootNode):t.renderElement,i=n.renderer.parentNode(r),o=n.renderer.nextSibling(r);Vy(n,2,i,o,void 0)}function ym(t){Vy(t,3,null,null,void 0)}function mm(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function vm(t,e){e>=t.length-1?t.pop():t.splice(e,1)}var gm=new Object;function bm(t,e,n,r,i,o){return new wm(t,e,n,r,i,o)}function _m(t){return t.viewDefFactory}var wm=function(t){function e(e,n,r,i,o,a){var s=t.call(this)||this;return s.selector=e,s.componentType=n,s._inputs=i,s._outputs=o,s.ngContentSelectors=a,s.viewDefFactory=r,s}return Object(r.__extends)(e,t),Object.defineProperty(e.prototype,"inputs",{get:function(){var t=[],e=this._inputs;for(var n in e)t.push({propName:n,templateName:e[n]});return t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outputs",{get:function(){var t=[];for(var e in this._outputs)t.push({propName:e,templateName:this._outputs[e]});return t},enumerable:!0,configurable:!0}),e.prototype.create=function(t,e,n,r){if(!r)throw new Error("ngModule should be provided");var i=By(this.viewDefFactory),o=i.nodes[0].element.componentProvider.nodeIndex,a=ly.createRootView(t,e||[],n,i,r,gm),s=ay(a,o).instance;return n&&a.renderer.setAttribute(oy(a,0).renderElement,"ng-version",Iu.full),new Em(a,new Om(a),s)},e}(Xs),Em=function(t){function e(e,n,r){var i=t.call(this)||this;return i._view=e,i._viewRef=n,i._component=r,i._elDef=i._view.def.nodes[0],i.hostView=n,i.changeDetectorRef=n,i.instance=r,i}return Object(r.__extends)(e,t),Object.defineProperty(e.prototype,"location",{get:function(){return new du(oy(this._view,this._elDef.nodeIndex).renderElement)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"injector",{get:function(){return new xm(this._view,this._elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"componentType",{get:function(){return this._component.constructor},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){this._viewRef.destroy()},e.prototype.onDestroy=function(t){this._viewRef.onDestroy(t)},e}(Zs);function Cm(t,e,n){return new Sm(t,e,n)}var Sm=function(){function t(t,e,n){this._view=t,this._elDef=e,this._data=n,this._embeddedViews=[]}return Object.defineProperty(t.prototype,"element",{get:function(){return new du(this._data.renderElement)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"injector",{get:function(){return new xm(this._view,this._elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parentInjector",{get:function(){for(var t=this._view,e=this._elDef.parent;!e&&t;)e=Iy(t),t=t.parent;return t?new xm(t,e):new xm(this._view,null)},enumerable:!0,configurable:!0}),t.prototype.clear=function(){for(var t=this._embeddedViews.length-1;t>=0;t--){var e=pm(this._data,t);ly.destroyView(e)}},t.prototype.get=function(t){var e=this._embeddedViews[t];if(e){var n=new Om(e);return n.attachToViewContainerRef(this),n}return null},Object.defineProperty(t.prototype,"length",{get:function(){return this._embeddedViews.length},enumerable:!0,configurable:!0}),t.prototype.createEmbeddedView=function(t,e,n){var r=t.createEmbeddedView(e||{});return this.insert(r,n),r},t.prototype.createComponent=function(t,e,n,r,i){var o=n||this.parentInjector;i||t instanceof au||(i=o.get(su));var a=t.create(o,r,void 0,i);return this.insert(a.hostView,e),a},t.prototype.insert=function(t,e){if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");var n,r,i,o,a=t;return o=(n=this._data).viewContainer._embeddedViews,null==(r=e)&&(r=o.length),(i=a._view).viewContainerParent=this._view,mm(o,r,i),function(t,e){var n=Ay(e);if(n&&n!==t&&!(16&e.state)){e.state|=16;var r=n.template._projectedViews;r||(r=n.template._projectedViews=[]),r.push(e),function(t,n){if(!(4&n.flags)){e.parent.def.nodeFlags|=4,n.flags|=4;for(var r=n.parent;r;)r.childFlags|=4,r=r.parent}}(0,e.parentNodeDef)}}(n,i),ly.dirtyParentQueries(i),dm(n,r>0?o[r-1]:null,i),a.attachToViewContainerRef(this),t},t.prototype.move=function(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");var n,r,i,o,a,s=this._embeddedViews.indexOf(t._view);return i=e,a=(o=(n=this._data).viewContainer._embeddedViews)[r=s],vm(o,r),null==i&&(i=o.length),mm(o,i,a),ly.dirtyParentQueries(a),ym(a),dm(n,i>0?o[i-1]:null,a),t},t.prototype.indexOf=function(t){return this._embeddedViews.indexOf(t._view)},t.prototype.remove=function(t){var e=pm(this._data,t);e&&ly.destroyView(e)},t.prototype.detach=function(t){var e=pm(this._data,t);return e?new Om(e):null},t}();function Dm(t){return new Om(t)}var Om=function(){function t(t){this._view=t,this._viewContainerRef=null,this._appRef=null}return Object.defineProperty(t.prototype,"rootNodes",{get:function(){return Vy(this._view,0,void 0,void 0,t=[]),t;var t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this._view.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"destroyed",{get:function(){return 0!=(128&this._view.state)},enumerable:!0,configurable:!0}),t.prototype.markForCheck=function(){Dy(this._view)},t.prototype.detach=function(){this._view.state&=-5},t.prototype.detectChanges=function(){var t=this._view.root.rendererFactory;t.begin&&t.begin();try{ly.checkAndUpdateView(this._view)}finally{t.end&&t.end()}},t.prototype.checkNoChanges=function(){ly.checkNoChangesView(this._view)},t.prototype.reattach=function(){this._view.state|=4},t.prototype.onDestroy=function(t){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(t)},t.prototype.destroy=function(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),ly.destroyView(this._view)},t.prototype.detachFromAppRef=function(){this._appRef=null,ym(this._view),ly.dirtyParentQueries(this._view)},t.prototype.attachToAppRef=function(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t},t.prototype.attachToViewContainerRef=function(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t},t}();function Tm(t,e){return new Am(t,e)}var Am=function(t){function e(e,n){var r=t.call(this)||this;return r._parentView=e,r._def=n,r}return Object(r.__extends)(e,t),e.prototype.createEmbeddedView=function(t){return new Om(ly.createEmbeddedView(this._parentView,this._def,this._def.element.template,t))},Object.defineProperty(e.prototype,"elementRef",{get:function(){return new du(oy(this._parentView,this._def.nodeIndex).renderElement)},enumerable:!0,configurable:!0}),e}(ml);function Im(t,e){return new xm(t,e)}var xm=function(){function t(t,e){this.view=t,this.elDef=e}return t.prototype.get=function(t,e){return void 0===e&&(e=ds.THROW_IF_NOT_FOUND),ly.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:t,tokenKey:my(t)},e)},t}();function km(t,e){var n=t.def.nodes[e];if(1&n.flags){var r=oy(t,n.nodeIndex);return n.element.template?r.template:r.renderElement}if(2&n.flags)return iy(t,n.nodeIndex).renderText;if(20240&n.flags)return ay(t,n.nodeIndex).instance;throw new Error("Illegal state: read nodeValue for node index "+e)}function Rm(t){return new Pm(t.renderer)}var Pm=function(){function t(t){this.delegate=t}return t.prototype.selectRootElement=function(t){return this.delegate.selectRootElement(t)},t.prototype.createElement=function(t,e){var n=Object(r.__read)(Ky(e),2),i=this.delegate.createElement(n[1],n[0]);return t&&this.delegate.appendChild(t,i),i},t.prototype.createViewRoot=function(t){return t},t.prototype.createTemplateAnchor=function(t){var e=this.delegate.createComment("");return t&&this.delegate.appendChild(t,e),e},t.prototype.createText=function(t,e){var n=this.delegate.createText(e);return t&&this.delegate.appendChild(t,n),n},t.prototype.projectNodes=function(t,e){for(var n=0;n<e.length;n++)this.delegate.appendChild(t,e[n])},t.prototype.attachViewAfter=function(t,e){for(var n=this.delegate.parentNode(t),r=this.delegate.nextSibling(t),i=0;i<e.length;i++)this.delegate.insertBefore(n,e[i],r)},t.prototype.detachView=function(t){for(var e=0;e<t.length;e++){var n=t[e],r=this.delegate.parentNode(n);this.delegate.removeChild(r,n)}},t.prototype.destroyView=function(t,e){for(var n=0;n<e.length;n++)this.delegate.destroyNode(e[n])},t.prototype.listen=function(t,e,n){return this.delegate.listen(t,e,n)},t.prototype.listenGlobal=function(t,e,n){return this.delegate.listen(t,e,n)},t.prototype.setElementProperty=function(t,e,n){this.delegate.setProperty(t,e,n)},t.prototype.setElementAttribute=function(t,e,n){var i=Object(r.__read)(Ky(e),2),o=i[0],a=i[1];null!=n?this.delegate.setAttribute(t,a,n,o):this.delegate.removeAttribute(t,a,o)},t.prototype.setBindingDebugInfo=function(t,e,n){},t.prototype.setElementClass=function(t,e,n){n?this.delegate.addClass(t,e):this.delegate.removeClass(t,e)},t.prototype.setElementStyle=function(t,e,n){null!=n?this.delegate.setStyle(t,e,n):this.delegate.removeStyle(t,e)},t.prototype.invokeElementMethod=function(t,e,n){t[e].apply(t,n)},t.prototype.setText=function(t,e){this.delegate.setValue(t,e)},t.prototype.animate=function(){throw new Error("Renderer.animate is no longer supported!")},t}();function Nm(t,e,n,r){return new jm(t,e,n,r)}var jm=function(){function t(t,e,n,r){this._moduleType=t,this._parent=e,this._bootstrapComponents=n,this._def=r,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(t){for(var e=t._def,n=t._providers=new Array(e.providers.length),r=0;r<e.providers.length;r++){var i=e.providers[r];4096&i.flags||void 0===n[r]&&(n[r]=hm(t,i))}}(this)}return t.prototype.get=function(t,e,n){void 0===e&&(e=ds.THROW_IF_NOT_FOUND),void 0===n&&(n=Te.Default);var r=0;return n&Te.SkipSelf?r|=1:n&Te.Self&&(r|=4),fm(this,{token:t,tokenKey:my(t),flags:r},e)},Object.defineProperty(t.prototype,"instance",{get:function(){return this.get(this._moduleType)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentFactoryResolver",{get:function(){return this.get(iu)},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){if(this._destroyed)throw new Error("The ng module "+Y(this.instance.constructor)+" has already been destroyed.");this._destroyed=!0,function(t,e){for(var n=t._def,r=new Set,i=0;i<n.providers.length;i++)if(131072&n.providers[i].flags){var o=t._providers[i];if(o&&o!==om){var a=o.ngOnDestroy;"function"!=typeof a||r.has(o)||(a.apply(o),r.add(o))}}}(this),this._destroyListeners.forEach(function(t){return t()})},t.prototype.onDestroy=function(t){this._destroyListeners.push(t)},t}(),Mm=my(bu),Fm=my(Cu),Lm=my(du),Bm=my(ad),Vm=my(ml),Um=my(cd),qm=my(ds),zm=my(hs);function Hm(t,e,n,i,o,a,s,u){var c=[];if(s)for(var l in s){var f=Object(r.__read)(s[l],2);c[f[0]]={flags:8,name:l,nonMinifiedName:f[1],ns:null,securityContext:null,suffix:null}}var h=[];if(u)for(var p in u)h.push({type:1,propName:p,target:null,eventName:u[p]});return Gm(t,e|=16384,n,i,o,o,a,c,h)}function Qm(t,e,n){return Gm(-1,t|=16,null,0,e,e,n)}function Km(t,e,n,r,i){return Gm(-1,t,e,0,n,r,i)}function Gm(t,e,n,r,i,o,a,s,u){var c=jy(n),l=c.matchedQueries,f=c.references,h=c.matchedQueryIds;u||(u=[]),s||(s=[]),o=J(o);var p=My(a,Y(i));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:l,matchedQueryIds:h,references:f,ngContentIndex:-1,childCount:r,bindings:s,bindingFlags:Gy(s),outputs:u,element:null,provider:{token:i,value:o,deps:p},text:null,query:null,ngContent:null}}function Wm(t,e){return Jm(t,e)}function Ym(t,e){for(var n=t;n.parent&&!Ry(n);)n=n.parent;return $m(n.parent,Iy(n),!0,e.provider.value,e.provider.deps)}function Zm(t,e){var n=$m(t,e.parent,(32768&e.flags)>0,e.provider.value,e.provider.deps);if(e.outputs.length)for(var r=0;r<e.outputs.length;r++){var i=e.outputs[r],o=n[i.propName];if(!Gh(o))throw new Error("@Output "+i.propName+" not initialized in '"+n.constructor.name+"'.");var a=o.subscribe(Xm(t,e.parent.nodeIndex,i.eventName));t.disposables[e.outputIndex+r]=a.unsubscribe.bind(a)}return n}function Xm(t,e,n){return function(r){return Ty(t,e,n,r)}}function Jm(t,e){var n=(8192&e.flags)>0,i=e.provider;switch(201347067&e.flags){case 512:return $m(t,e.parent,n,i.value,i.deps);case 1024:return function(t,e,n,i,o){var a=o.length;switch(a){case 0:return i();case 1:return i(ev(t,e,n,o[0]));case 2:return i(ev(t,e,n,o[0]),ev(t,e,n,o[1]));case 3:return i(ev(t,e,n,o[0]),ev(t,e,n,o[1]),ev(t,e,n,o[2]));default:for(var s=Array(a),u=0;u<a;u++)s[u]=ev(t,e,n,o[u]);return i.apply(void 0,Object(r.__spread)(s))}}(t,e.parent,n,i.value,i.deps);case 2048:return ev(t,e.parent,n,i.deps[0]);case 256:return i.value}}function $m(t,e,n,i,o){var a=o.length;switch(a){case 0:return new i;case 1:return new i(ev(t,e,n,o[0]));case 2:return new i(ev(t,e,n,o[0]),ev(t,e,n,o[1]));case 3:return new i(ev(t,e,n,o[0]),ev(t,e,n,o[1]),ev(t,e,n,o[2]));default:for(var s=new Array(a),u=0;u<a;u++)s[u]=ev(t,e,n,o[u]);return new(i.bind.apply(i,Object(r.__spread)([void 0],s)))}}var tv={};function ev(t,e,n,r,i){if(void 0===i&&(i=ds.THROW_IF_NOT_FOUND),8&r.flags)return r.token;var o=t;2&r.flags&&(i=null);var a=r.tokenKey;a===Um&&(n=!(!e||!e.element.componentView)),e&&1&r.flags&&(n=!1,e=e.parent);for(var s=t;s;){if(e)switch(a){case Mm:return Rm(nv(s,e,n));case Fm:return nv(s,e,n).renderer;case Lm:return new du(oy(s,e.nodeIndex).renderElement);case Bm:return oy(s,e.nodeIndex).viewContainer;case Vm:if(e.element.template)return oy(s,e.nodeIndex).template;break;case Um:return Dm(nv(s,e,n));case qm:case zm:return Im(s,e);default:var u=(n?e.element.allProviders:e.element.publicProviders)[a];if(u){var c=ay(s,u.nodeIndex);return c||(c={instance:Jm(s,u)},s.nodes[u.nodeIndex]=c),c.instance}}n=Ry(s),e=Iy(s),s=s.parent,4&r.flags&&(s=null)}var l=o.root.injector.get(r.token,tv);return l!==tv||i===tv?l:o.root.ngModule.injector.get(r.token,i)}function nv(t,e,n){var r;if(n)r=oy(t,e.nodeIndex).componentView;else for(r=t;r.parent&&!Ry(r);)r=r.parent;return r}function rv(t,e,n,r,i,o){if(32768&n.flags){var a=oy(t,n.parent.nodeIndex).componentView;2&a.def.flags&&(a.state|=8)}if(e.instance[n.bindings[r].name]=i,524288&n.flags){o=o||{};var s=cr.unwrap(t.oldValues[n.bindingIndex+r]);o[n.bindings[r].nonMinifiedName]=new lr(s,i,0!=(2&t.state))}return t.oldValues[n.bindingIndex+r]=i,o}function iv(t,e){if(t.def.nodeFlags&e)for(var n=t.def.nodes,r=0,i=0;i<n.length;i++){var o=n[i],a=o.parent;for(!a&&o.flags&e&&av(t,i,o.flags&e,r++),0==(o.childFlags&e)&&(i+=o.childCount);a&&1&a.flags&&i===a.nodeIndex+a.childCount;)a.directChildFlags&e&&(r=ov(t,a,e,r)),a=a.parent}}function ov(t,e,n,r){for(var i=e.nodeIndex+1;i<=e.nodeIndex+e.childCount;i++){var o=t.def.nodes[i];o.flags&n&&av(t,i,o.flags&n,r++),i+=o.childCount}return r}function av(t,e,n,r){var i=ay(t,e);if(i){var o=i.instance;o&&(ly.setCurrentNode(t,e),1048576&n&&ry(t,512,r)&&o.ngAfterContentInit(),2097152&n&&o.ngAfterContentChecked(),4194304&n&&ry(t,768,r)&&o.ngAfterViewInit(),8388608&n&&o.ngAfterViewChecked(),131072&n&&o.ngOnDestroy())}}function sv(t,e,n){var r=[];for(var i in n)r.push({propName:i,bindingType:n[i]});return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:e,filterId:Ny(e),bindings:r},ngContent:null}}function uv(t){for(var e=t.def.nodeMatchedQueries;t.parent&&Py(t);){var n=t.parentNodeDef;t=t.parent;for(var r=n.nodeIndex+n.childCount,i=0;i<=r;i++)67108864&(o=t.def.nodes[i]).flags&&536870912&o.flags&&(o.query.filterId&e)===o.query.filterId&&uy(t,i).setDirty(),!(1&o.flags&&i+o.childCount<n.nodeIndex)&&67108864&o.childFlags&&536870912&o.childFlags||(i+=o.childCount)}if(134217728&t.def.nodeFlags)for(i=0;i<t.def.nodes.length;i++){var o;134217728&(o=t.def.nodes[i]).flags&&536870912&o.flags&&uy(t,i).setDirty(),i+=o.childCount}}function cv(t,e){var n=uy(t,e.nodeIndex);if(n.dirty){var r,i=void 0;if(67108864&e.flags){var o=e.parent.parent;i=lv(t,o.nodeIndex,o.nodeIndex+o.childCount,e.query,[]),r=ay(t,e.parent.nodeIndex).instance}else 134217728&e.flags&&(i=lv(t,0,t.def.nodes.length-1,e.query,[]),r=t.component);n.reset(i);for(var a=e.query.bindings,s=!1,u=0;u<a.length;u++){var c=a[u],l=void 0;switch(c.bindingType){case 0:l=n.first;break;case 1:l=n,s=!0}r[c.propName]=l}s&&n.notifyOnChanges()}}function lv(t,e,n,r,i){for(var o=e;o<=n;o++){var a=t.def.nodes[o],s=a.matchedQueries[r.id];if(null!=s&&i.push(fv(t,a,s)),1&a.flags&&a.element.template&&(a.element.template.nodeMatchedQueries&r.filterId)===r.filterId){var u=oy(t,o);if((a.childMatchedQueries&r.filterId)===r.filterId&&(lv(t,o+1,o+a.childCount,r,i),o+=a.childCount),16777216&a.flags)for(var c=u.viewContainer._embeddedViews,l=0;l<c.length;l++){var f=c[l],h=Ay(f);h&&h===u&&lv(f,0,f.def.nodes.length-1,r,i)}var p=u.template._projectedViews;if(p)for(l=0;l<p.length;l++){var d=p[l];lv(d,0,d.def.nodes.length-1,r,i)}}(a.childMatchedQueries&r.filterId)!==r.filterId&&(o+=a.childCount)}return i}function fv(t,e,n){if(null!=n)switch(n){case 1:return oy(t,e.nodeIndex).renderElement;case 0:return new du(oy(t,e.nodeIndex).renderElement);case 2:return oy(t,e.nodeIndex).template;case 3:return oy(t,e.nodeIndex).viewContainer;case 4:return ay(t,e.nodeIndex).instance}}function hv(t,e){return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:8,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:null,ngContent:{index:e}}}function pv(t,e,n){var r=Fy(t,e,n);r&&qy(t,n.ngContent.index,1,r,null,void 0)}function dv(t,e){return vv(128,t,new Array(e+1))}function yv(t,e){return vv(32,t,new Array(e))}function mv(t,e){for(var n=Object.keys(e),r=n.length,i=new Array(r),o=0;o<r;o++){var a=n[o];i[e[a]]=a}return vv(64,t,i)}function vv(t,e,n){for(var r=new Array(n.length),i=0;i<n.length;i++){var o=n[i];r[i]={flags:8,name:o,ns:null,nonMinifiedName:o,securityContext:null,suffix:null}}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:r,bindingFlags:Gy(r),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}function gv(t,e,n){for(var r=new Array(n.length-1),i=1;i<n.length;i++)r[i-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[i]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:e,childCount:0,bindings:r,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function bv(t,e,n){var r,i=t.renderer;r=i.createText(n.text.prefix);var o=Fy(t,e,n);return o&&i.appendChild(o,r),{renderText:r}}function _v(t,e){return(null!=t?t.toString():"")+e.suffix}function wv(t,e,n,r){for(var i=0,o=0,a=0,s=0,u=0,c=null,l=null,f=!1,h=!1,p=null,d=0;d<e.length;d++){var y=e[d];if(y.nodeIndex=d,y.parent=c,y.bindingIndex=i,y.outputIndex=o,y.renderParent=l,a|=y.flags,u|=y.matchedQueryIds,y.element){var m=y.element;m.publicProviders=c?c.element.publicProviders:Object.create(null),m.allProviders=m.publicProviders,f=!1,h=!1,y.element.template&&(u|=y.element.template.nodeMatchedQueries)}if(Cv(c,y,e.length),i+=y.bindings.length,o+=y.outputs.length,!l&&3&y.flags&&(p=y),20224&y.flags){f||(f=!0,c.element.publicProviders=Object.create(c.element.publicProviders),c.element.allProviders=c.element.publicProviders);var v=0!=(32768&y.flags);0==(8192&y.flags)||v?c.element.publicProviders[my(y.provider.token)]=y:(h||(h=!0,c.element.allProviders=Object.create(c.element.publicProviders)),c.element.allProviders[my(y.provider.token)]=y),v&&(c.element.componentProvider=y)}if(c?(c.childFlags|=y.flags,c.directChildFlags|=y.flags,c.childMatchedQueries|=y.matchedQueryIds,y.element&&y.element.template&&(c.childMatchedQueries|=y.element.template.nodeMatchedQueries)):s|=y.flags,y.childCount>0)c=y,Ev(y)||(l=y);else for(;c&&d===c.nodeIndex+c.childCount;){var g=c.parent;g&&(g.childFlags|=c.childFlags,g.childMatchedQueries|=c.childMatchedQueries),l=(c=g)&&Ev(c)?c.renderParent:c}}return{factory:null,nodeFlags:a,rootNodeFlags:s,nodeMatchedQueries:u,flags:t,nodes:e,updateDirectives:n||dy,updateRenderer:r||dy,handleEvent:function(t,n,r,i){return e[n].element.handleEvent(t,r,i)},bindingCount:i,outputCount:o,lastRenderRootNode:p}}function Ev(t){return 0!=(1&t.flags)&&null===t.element.name}function Cv(t,e,n){var r=e.element&&e.element.template;if(r){if(!r.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(r.lastRenderRootNode&&16777216&r.lastRenderRootNode.flags)throw new Error("Illegal State: Last root node of a template can't have embedded views, at index "+e.nodeIndex+"!")}if(20224&e.flags&&0==(1&(t?t.flags:0)))throw new Error("Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index "+e.nodeIndex+"!");if(e.query){if(67108864&e.flags&&(!t||0==(16384&t.flags)))throw new Error("Illegal State: Content Query nodes need to be children of directives, at index "+e.nodeIndex+"!");if(134217728&e.flags&&t)throw new Error("Illegal State: View Query nodes have to be top level nodes, at index "+e.nodeIndex+"!")}if(e.childCount){var i=t?t.nodeIndex+t.childCount:n-1;if(e.nodeIndex<=i&&e.nodeIndex+e.childCount>i)throw new Error("Illegal State: childCount of node leads outside of parent, at index "+e.nodeIndex+"!")}}function Sv(t,e,n,r){var i=Tv(t.root,t.renderer,t,e,n);return Av(i,t.component,r),Iv(i),i}function Dv(t,e,n){var r=Tv(t,t.renderer,null,null,e);return Av(r,n,n),Iv(r),r}function Ov(t,e,n,r){var i,o=e.element.componentRendererType;return i=o?t.root.rendererFactory.createRenderer(r,o):t.root.renderer,Tv(t.root,i,t,e.element.componentProvider,n)}function Tv(t,e,n,r,i){var o=new Array(i.nodes.length),a=i.outputCount?new Array(i.outputCount):null;return{def:i,parent:n,viewContainerParent:null,parentNodeDef:r,context:null,component:null,nodes:o,state:13,root:t,renderer:e,oldValues:new Array(i.bindingCount),disposables:a,initIndex:-1}}function Av(t,e,n){t.component=e,t.context=n}function Iv(t){var e;Ry(t)&&(e=oy(t.parent,t.parentNodeDef.parent.nodeIndex).renderElement);for(var n=t.def,r=t.nodes,i=0;i<n.nodes.length;i++){var o=n.nodes[i];ly.setCurrentNode(t,i);var a=void 0;switch(201347067&o.flags){case 1:var s=em(t,e,o),u=void 0;if(33554432&o.flags){var c=By(o.element.componentView);u=ly.createComponentView(t,o,c,s)}nm(t,u,o,s),a={renderElement:s,componentView:u,viewContainer:null,template:o.element.template?Tm(t,o):void 0},16777216&o.flags&&(a.viewContainer=Cm(t,o,a));break;case 2:a=bv(t,e,o);break;case 512:case 1024:case 2048:case 256:(a=r[i])||4096&o.flags||(a={instance:Wm(t,o)});break;case 16:a={instance:Ym(t,o)};break;case 16384:(a=r[i])||(a={instance:Zm(t,o)}),32768&o.flags&&Av(oy(t,o.parent.nodeIndex).componentView,a.instance,a.instance);break;case 32:case 64:case 128:a={value:void 0};break;case 67108864:case 134217728:a=new ed;break;case 8:pv(t,e,o),a=void 0}r[i]=a}Lv(t,Fv.CreateViewNodes),qv(t,201326592,268435456,0)}function xv(t){Pv(t),ly.updateDirectives(t,1),Bv(t,Fv.CheckNoChanges),ly.updateRenderer(t,1),Lv(t,Fv.CheckNoChanges),t.state&=-97}function kv(t){1&t.state?(t.state&=-2,t.state|=2):t.state&=-3,ny(t,0,256),Pv(t),ly.updateDirectives(t,0),Bv(t,Fv.CheckAndUpdate),qv(t,67108864,536870912,0);var e=ny(t,256,512);iv(t,2097152|(e?1048576:0)),ly.updateRenderer(t,0),Lv(t,Fv.CheckAndUpdate),qv(t,134217728,536870912,0),iv(t,8388608|((e=ny(t,512,768))?4194304:0)),2&t.def.flags&&(t.state&=-9),t.state&=-97,ny(t,768,1024)}function Rv(t,e,n,i,o,a,s,u,c,l,f,h,p){return 0===n?function(t,e,n,r,i,o,a,s,u,c,l,f){switch(201347067&e.flags){case 1:return function(t,e,n,r,i,o,a,s,u,c,l,f){var h=e.bindings.length,p=!1;return h>0&&im(t,e,0,n)&&(p=!0),h>1&&im(t,e,1,r)&&(p=!0),h>2&&im(t,e,2,i)&&(p=!0),h>3&&im(t,e,3,o)&&(p=!0),h>4&&im(t,e,4,a)&&(p=!0),h>5&&im(t,e,5,s)&&(p=!0),h>6&&im(t,e,6,u)&&(p=!0),h>7&&im(t,e,7,c)&&(p=!0),h>8&&im(t,e,8,l)&&(p=!0),h>9&&im(t,e,9,f)&&(p=!0),p}(t,e,n,r,i,o,a,s,u,c,l,f);case 2:return function(t,e,n,r,i,o,a,s,u,c,l,f){var h=!1,p=e.bindings,d=p.length;if(d>0&&Cy(t,e,0,n)&&(h=!0),d>1&&Cy(t,e,1,r)&&(h=!0),d>2&&Cy(t,e,2,i)&&(h=!0),d>3&&Cy(t,e,3,o)&&(h=!0),d>4&&Cy(t,e,4,a)&&(h=!0),d>5&&Cy(t,e,5,s)&&(h=!0),d>6&&Cy(t,e,6,u)&&(h=!0),d>7&&Cy(t,e,7,c)&&(h=!0),d>8&&Cy(t,e,8,l)&&(h=!0),d>9&&Cy(t,e,9,f)&&(h=!0),h){var y=e.text.prefix;d>0&&(y+=_v(n,p[0])),d>1&&(y+=_v(r,p[1])),d>2&&(y+=_v(i,p[2])),d>3&&(y+=_v(o,p[3])),d>4&&(y+=_v(a,p[4])),d>5&&(y+=_v(s,p[5])),d>6&&(y+=_v(u,p[6])),d>7&&(y+=_v(c,p[7])),d>8&&(y+=_v(l,p[8])),d>9&&(y+=_v(f,p[9]));var m=iy(t,e.nodeIndex).renderText;t.renderer.setValue(m,y)}return h}(t,e,n,r,i,o,a,s,u,c,l,f);case 16384:return function(t,e,n,r,i,o,a,s,u,c,l,f){var h=ay(t,e.nodeIndex),p=h.instance,d=!1,y=void 0,m=e.bindings.length;return m>0&&Ey(t,e,0,n)&&(d=!0,y=rv(t,h,e,0,n,y)),m>1&&Ey(t,e,1,r)&&(d=!0,y=rv(t,h,e,1,r,y)),m>2&&Ey(t,e,2,i)&&(d=!0,y=rv(t,h,e,2,i,y)),m>3&&Ey(t,e,3,o)&&(d=!0,y=rv(t,h,e,3,o,y)),m>4&&Ey(t,e,4,a)&&(d=!0,y=rv(t,h,e,4,a,y)),m>5&&Ey(t,e,5,s)&&(d=!0,y=rv(t,h,e,5,s,y)),m>6&&Ey(t,e,6,u)&&(d=!0,y=rv(t,h,e,6,u,y)),m>7&&Ey(t,e,7,c)&&(d=!0,y=rv(t,h,e,7,c,y)),m>8&&Ey(t,e,8,l)&&(d=!0,y=rv(t,h,e,8,l,y)),m>9&&Ey(t,e,9,f)&&(d=!0,y=rv(t,h,e,9,f,y)),y&&p.ngOnChanges(y),65536&e.flags&&ry(t,256,e.nodeIndex)&&p.ngOnInit(),262144&e.flags&&p.ngDoCheck(),d}(t,e,n,r,i,o,a,s,u,c,l,f);case 32:case 64:case 128:return function(t,e,n,r,i,o,a,s,u,c,l,f){var h=e.bindings,p=!1,d=h.length;if(d>0&&Cy(t,e,0,n)&&(p=!0),d>1&&Cy(t,e,1,r)&&(p=!0),d>2&&Cy(t,e,2,i)&&(p=!0),d>3&&Cy(t,e,3,o)&&(p=!0),d>4&&Cy(t,e,4,a)&&(p=!0),d>5&&Cy(t,e,5,s)&&(p=!0),d>6&&Cy(t,e,6,u)&&(p=!0),d>7&&Cy(t,e,7,c)&&(p=!0),d>8&&Cy(t,e,8,l)&&(p=!0),d>9&&Cy(t,e,9,f)&&(p=!0),p){var y=sy(t,e.nodeIndex),m=void 0;switch(201347067&e.flags){case 32:m=new Array(h.length),d>0&&(m[0]=n),d>1&&(m[1]=r),d>2&&(m[2]=i),d>3&&(m[3]=o),d>4&&(m[4]=a),d>5&&(m[5]=s),d>6&&(m[6]=u),d>7&&(m[7]=c),d>8&&(m[8]=l),d>9&&(m[9]=f);break;case 64:m={},d>0&&(m[h[0].name]=n),d>1&&(m[h[1].name]=r),d>2&&(m[h[2].name]=i),d>3&&(m[h[3].name]=o),d>4&&(m[h[4].name]=a),d>5&&(m[h[5].name]=s),d>6&&(m[h[6].name]=u),d>7&&(m[h[7].name]=c),d>8&&(m[h[8].name]=l),d>9&&(m[h[9].name]=f);break;case 128:var v=n;switch(d){case 1:m=v.transform(n);break;case 2:m=v.transform(r);break;case 3:m=v.transform(r,i);break;case 4:m=v.transform(r,i,o);break;case 5:m=v.transform(r,i,o,a);break;case 6:m=v.transform(r,i,o,a,s);break;case 7:m=v.transform(r,i,o,a,s,u);break;case 8:m=v.transform(r,i,o,a,s,u,c);break;case 9:m=v.transform(r,i,o,a,s,u,c,l);break;case 10:m=v.transform(r,i,o,a,s,u,c,l,f)}}y.value=m}return p}(t,e,n,r,i,o,a,s,u,c,l,f);default:throw"unreachable"}}(t,e,i,o,a,s,u,c,l,f,h,p):function(t,e,n){switch(201347067&e.flags){case 1:return function(t,e,n){for(var r=!1,i=0;i<n.length;i++)im(t,e,i,n[i])&&(r=!0);return r}(t,e,n);case 2:return function(t,e,n){for(var r=e.bindings,i=!1,o=0;o<n.length;o++)Cy(t,e,o,n[o])&&(i=!0);if(i){var a="";for(o=0;o<n.length;o++)a+=_v(n[o],r[o]);a=e.text.prefix+a;var s=iy(t,e.nodeIndex).renderText;t.renderer.setValue(s,a)}return i}(t,e,n);case 16384:return function(t,e,n){for(var r=ay(t,e.nodeIndex),i=r.instance,o=!1,a=void 0,s=0;s<n.length;s++)Ey(t,e,s,n[s])&&(o=!0,a=rv(t,r,e,s,n[s],a));return a&&i.ngOnChanges(a),65536&e.flags&&ry(t,256,e.nodeIndex)&&i.ngOnInit(),262144&e.flags&&i.ngDoCheck(),o}(t,e,n);case 32:case 64:case 128:return function(t,e,n){for(var i=e.bindings,o=!1,a=0;a<n.length;a++)Cy(t,e,a,n[a])&&(o=!0);if(o){var s=sy(t,e.nodeIndex),u=void 0;switch(201347067&e.flags){case 32:u=n;break;case 64:for(u={},a=0;a<n.length;a++)u[i[a].name]=n[a];break;case 128:var c=n[0],l=n.slice(1);u=c.transform.apply(c,Object(r.__spread)(l))}s.value=u}return o}(t,e,n);default:throw"unreachable"}}(t,e,i)}function Pv(t){var e=t.def;if(4&e.nodeFlags)for(var n=0;n<e.nodes.length;n++){var r=e.nodes[n];if(4&r.flags){var i=oy(t,n).template._projectedViews;if(i)for(var o=0;o<i.length;o++){var a=i[o];a.state|=32,Oy(a,t)}}else 0==(4&r.childFlags)&&(n+=r.childCount)}}function Nv(t,e,n,r,i,o,a,s,u,c,l,f,h){return 0===n?function(t,e,n,r,i,o,a,s,u,c,l,f){var h=e.bindings.length;h>0&&Sy(t,e,0,n),h>1&&Sy(t,e,1,r),h>2&&Sy(t,e,2,i),h>3&&Sy(t,e,3,o),h>4&&Sy(t,e,4,a),h>5&&Sy(t,e,5,s),h>6&&Sy(t,e,6,u),h>7&&Sy(t,e,7,c),h>8&&Sy(t,e,8,l),h>9&&Sy(t,e,9,f)}(t,e,r,i,o,a,s,u,c,l,f,h):function(t,e,n){for(var r=0;r<n.length;r++)Sy(t,e,r,n[r])}(t,e,r),!1}function jv(t,e){if(uy(t,e.nodeIndex).dirty)throw fy(ly.createDebugContext(t,e.nodeIndex),"Query "+e.query.id+" not dirty","Query "+e.query.id+" dirty",0!=(1&t.state))}function Mv(t){if(!(128&t.state)){if(Bv(t,Fv.Destroy),Lv(t,Fv.Destroy),iv(t,131072),t.disposables)for(var e=0;e<t.disposables.length;e++)t.disposables[e]();!function(t){if(16&t.state){var e=Ay(t);if(e){var n=e.template._projectedViews;n&&(vm(n,n.indexOf(t)),ly.dirtyParentQueries(t))}}}(t),t.renderer.destroyNode&&function(t){for(var e=t.def.nodes.length,n=0;n<e;n++){var r=t.def.nodes[n];1&r.flags?t.renderer.destroyNode(oy(t,n).renderElement):2&r.flags?t.renderer.destroyNode(iy(t,n).renderText):(67108864&r.flags||134217728&r.flags)&&uy(t,n).destroy()}}(t),Ry(t)&&t.renderer.destroy(),t.state|=128}}var Fv=function(t){return t[t.CreateViewNodes=0]="CreateViewNodes",t[t.CheckNoChanges=1]="CheckNoChanges",t[t.CheckNoChangesProjectedViews=2]="CheckNoChangesProjectedViews",t[t.CheckAndUpdate=3]="CheckAndUpdate",t[t.CheckAndUpdateProjectedViews=4]="CheckAndUpdateProjectedViews",t[t.Destroy=5]="Destroy",t}({});function Lv(t,e){var n=t.def;if(33554432&n.nodeFlags)for(var r=0;r<n.nodes.length;r++){var i=n.nodes[r];33554432&i.flags?Vv(oy(t,r).componentView,e):0==(33554432&i.childFlags)&&(r+=i.childCount)}}function Bv(t,e){var n=t.def;if(16777216&n.nodeFlags)for(var r=0;r<n.nodes.length;r++){var i=n.nodes[r];if(16777216&i.flags)for(var o=oy(t,r).viewContainer._embeddedViews,a=0;a<o.length;a++)Vv(o[a],e);else 0==(16777216&i.childFlags)&&(r+=i.childCount)}}function Vv(t,e){var n=t.state;switch(e){case Fv.CheckNoChanges:0==(128&n)&&(12==(12&n)?xv(t):64&n&&Uv(t,Fv.CheckNoChangesProjectedViews));break;case Fv.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?xv(t):64&n&&Uv(t,e));break;case Fv.CheckAndUpdate:0==(128&n)&&(12==(12&n)?kv(t):64&n&&Uv(t,Fv.CheckAndUpdateProjectedViews));break;case Fv.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?kv(t):64&n&&Uv(t,e));break;case Fv.Destroy:Mv(t);break;case Fv.CreateViewNodes:Iv(t)}}function Uv(t,e){Bv(t,e),Lv(t,e)}function qv(t,e,n,r){if(t.def.nodeFlags&e&&t.def.nodeFlags&n)for(var i=t.def.nodes.length,o=0;o<i;o++){var a=t.def.nodes[o];if(a.flags&e&&a.flags&n)switch(ly.setCurrentNode(t,a.nodeIndex),r){case 0:cv(t,a);break;case 1:jv(t,a)}a.childFlags&e&&a.childFlags&n||(o+=a.childCount)}}var zv=!1;function Hv(){if(!zv){zv=!0;var t=Bu()?{setCurrentNode:pg,createRootView:Kv,createEmbeddedView:Wv,createComponentView:Yv,createNgModuleRef:Zv,overrideProvider:tg,overrideComponentView:eg,clearOverrides:ng,checkAndUpdateView:ag,checkNoChangesView:sg,destroyView:ug,createDebugContext:function(t,e){return new wg(t,e)},handleEvent:dg,updateDirectives:yg,updateRenderer:mg}:{setCurrentNode:function(){},createRootView:Qv,createEmbeddedView:Sv,createComponentView:Ov,createNgModuleRef:Nm,overrideProvider:dy,overrideComponentView:dy,clearOverrides:dy,checkAndUpdateView:kv,checkNoChangesView:xv,destroyView:Mv,createDebugContext:function(t,e){return new wg(t,e)},handleEvent:function(t,e,n,r){return t.def.handleEvent(t,e,n,r)},updateDirectives:function(t,e){return t.def.updateDirectives(0===e?ig:og,t)},updateRenderer:function(t,e){return t.def.updateRenderer(0===e?ig:og,t)}};ly.setCurrentNode=t.setCurrentNode,ly.createRootView=t.createRootView,ly.createEmbeddedView=t.createEmbeddedView,ly.createComponentView=t.createComponentView,ly.createNgModuleRef=t.createNgModuleRef,ly.overrideProvider=t.overrideProvider,ly.overrideComponentView=t.overrideComponentView,ly.clearOverrides=t.clearOverrides,ly.checkAndUpdateView=t.checkAndUpdateView,ly.checkNoChangesView=t.checkNoChangesView,ly.destroyView=t.destroyView,ly.resolveDep=ev,ly.createDebugContext=t.createDebugContext,ly.handleEvent=t.handleEvent,ly.updateDirectives=t.updateDirectives,ly.updateRenderer=t.updateRenderer,ly.dirtyParentQueries=uv}}function Qv(t,e,n,r,i,o){var a=i.injector.get(wu);return Dv(Gv(t,i,a,e,n),r,o)}function Kv(t,e,n,r,i,o){var a=i.injector.get(wu),s=Gv(t,i,new Dg(a),e,n),u=rg(r);return Cg(hg.create,Dv,null,[s,u,o])}function Gv(t,e,n,r,i){var o=e.injector.get(Tu),a=e.injector.get(Dh),s=n.createRenderer(null,null);return{ngModule:e,injector:t,projectableNodes:r,selectorOrNode:i,sanitizer:o,rendererFactory:n,renderer:s,errorHandler:a}}function Wv(t,e,n,r){var i=rg(n);return Cg(hg.create,Sv,null,[t,e,i,r])}function Yv(t,e,n,r){return n=$v.get(e.element.componentProvider.provider.token)||rg(n),Cg(hg.create,Ov,null,[t,e,n,r])}function Zv(t,e,n,r){return Nm(t,e,n,function(t){var e=function(t){var e=!1,n=!1;return 0===Xv.size?{hasOverrides:e,hasDeprecatedOverrides:n}:(t.providers.forEach(function(t){var r=Xv.get(t.token);3840&t.flags&&r&&(e=!0,n=n||r.deprecatedBehavior)}),t.modules.forEach(function(t){Jv.forEach(function(r,i){w(i).providedIn===t&&(e=!0,n=n||r.deprecatedBehavior)})}),{hasOverrides:e,hasDeprecatedOverrides:n})}(t),n=e.hasDeprecatedOverrides;return e.hasOverrides?(function(t){for(var e=0;e<t.providers.length;e++){var r=t.providers[e];n&&(r.flags|=4096);var i=Xv.get(r.token);i&&(r.flags=-3841&r.flags|i.flags,r.deps=My(i.deps),r.value=i.value)}if(Jv.size>0){var o=new Set(t.modules);Jv.forEach(function(e,r){if(o.has(w(r).providedIn)){var i={token:r,flags:e.flags|(n?4096:0),deps:My(e.deps),value:e.value,index:t.providers.length};t.providers.push(i),t.providersByKey[my(r)]=i}})}}(t=t.factory(function(){return dy})),t):t}(r))}var Xv=new Map,Jv=new Map,$v=new Map;function tg(t){var e;Xv.set(t.token,t),"function"==typeof t.token&&(e=w(t.token))&&"function"==typeof e.providedIn&&Jv.set(t.token,t)}function eg(t,e){var n=By(_m(e)),r=By(n.nodes[0].element.componentView);$v.set(t,r)}function ng(){Xv.clear(),Jv.clear(),$v.clear()}function rg(t){if(0===Xv.size)return t;var e=function(t){for(var e=[],n=null,r=0;r<t.nodes.length;r++){var i=t.nodes[r];1&i.flags&&(n=i),n&&3840&i.flags&&Xv.has(i.provider.token)&&(e.push(n.nodeIndex),n=null)}return e}(t);if(0===e.length)return t;t=t.factory(function(){return dy});for(var n=0;n<e.length;n++)r(t,e[n]);return t;function r(t,e){for(var n=e+1;n<t.nodes.length;n++){var r=t.nodes[n];if(1&r.flags)return;if(3840&r.flags){var i=r.provider,o=Xv.get(i.token);o&&(r.flags=-3841&r.flags|o.flags,i.deps=My(o.deps),i.value=o.value)}}}}function ig(t,e,n,r,i,o,a,s,u,c,l,f,h){var p=t.def.nodes[e];return Rv(t,p,n,r,i,o,a,s,u,c,l,f,h),224&p.flags?sy(t,e).value:void 0}function og(t,e,n,r,i,o,a,s,u,c,l,f,h){var p=t.def.nodes[e];return Nv(t,p,n,r,i,o,a,s,u,c,l,f,h),224&p.flags?sy(t,e).value:void 0}function ag(t){return Cg(hg.detectChanges,kv,null,[t])}function sg(t){return Cg(hg.checkNoChanges,xv,null,[t])}function ug(t){return Cg(hg.destroy,Mv,null,[t])}var cg,lg,fg,hg=function(t){return t[t.create=0]="create",t[t.detectChanges=1]="detectChanges",t[t.checkNoChanges=2]="checkNoChanges",t[t.destroy=3]="destroy",t[t.handleEvent=4]="handleEvent",t}({});function pg(t,e){lg=t,fg=e}function dg(t,e,n,r){return pg(t,e),Cg(hg.handleEvent,t.def.handleEvent,null,[t,e,n,r])}function yg(t,e){if(128&t.state)throw py(hg[cg]);return pg(t,bg(t,0)),t.def.updateDirectives(function(t,n,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=t.def.nodes[n];return 0===e?vg(t,a,r,i):gg(t,a,r,i),16384&a.flags&&pg(t,bg(t,n)),224&a.flags?sy(t,a.nodeIndex).value:void 0},t)}function mg(t,e){if(128&t.state)throw py(hg[cg]);return pg(t,_g(t,0)),t.def.updateRenderer(function(t,n,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=t.def.nodes[n];return 0===e?vg(t,a,r,i):gg(t,a,r,i),3&a.flags&&pg(t,_g(t,n)),224&a.flags?sy(t,a.nodeIndex).value:void 0},t)}function vg(t,e,n,i){if(Rv.apply(void 0,Object(r.__spread)([t,e,n],i))){var o=1===n?i[0]:i;if(16384&e.flags){for(var a={},s=0;s<e.bindings.length;s++){var u=e.bindings[s],c=o[s];8&u.flags&&(a[(p=u.nonMinifiedName,"ng-reflect-"+p.replace(/[$@]/g,"_").replace(ar,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"-"+t[1].toLowerCase()}))]=sr(c))}var l=e.parent,f=oy(t,l.nodeIndex).renderElement;if(l.element.name)for(var h in a)null!=(c=a[h])?t.renderer.setAttribute(f,h,c):t.renderer.removeAttribute(f,h);else t.renderer.setValue(f,"bindings="+JSON.stringify(a,null,2))}}var p}function gg(t,e,n,i){Nv.apply(void 0,Object(r.__spread)([t,e,n],i))}function bg(t,e){for(var n=e;n<t.def.nodes.length;n++){var r=t.def.nodes[n];if(16384&r.flags&&r.bindings&&r.bindings.length)return n}return null}function _g(t,e){for(var n=e;n<t.def.nodes.length;n++){var r=t.def.nodes[n];if(3&r.flags&&r.bindings&&r.bindings.length)return n}return null}var wg=function(){function t(t,e){this.view=t,this.nodeIndex=e,null==e&&(this.nodeIndex=e=0),this.nodeDef=t.def.nodes[e];for(var n=this.nodeDef,r=t;n&&0==(1&n.flags);)n=n.parent;if(!n)for(;!n&&r;)n=Iy(r),r=r.parent;this.elDef=n,this.elView=r}return Object.defineProperty(t.prototype,"elOrCompView",{get:function(){return oy(this.elView,this.elDef.nodeIndex).componentView||this.view},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"injector",{get:function(){return Im(this.elView,this.elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"component",{get:function(){return this.elOrCompView.component},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this.elOrCompView.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"providerTokens",{get:function(){var t=[];if(this.elDef)for(var e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){var n=this.elView.def.nodes[e];20224&n.flags&&t.push(n.provider.token),e+=n.childCount}return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"references",{get:function(){var t={};if(this.elDef){Eg(this.elView,this.elDef,t);for(var e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){var n=this.elView.def.nodes[e];20224&n.flags&&Eg(this.elView,n,t),e+=n.childCount}}return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentRenderElement",{get:function(){var t=function(t){for(;t&&!Ry(t);)t=t.parent;return t.parent?oy(t.parent,Iy(t).nodeIndex):null}(this.elOrCompView);return t?t.renderElement:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"renderNode",{get:function(){return 2&this.nodeDef.flags?xy(this.view,this.nodeDef):xy(this.elView,this.elDef)},enumerable:!0,configurable:!0}),t.prototype.logError=function(t){for(var e,n,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];2&this.nodeDef.flags?(e=this.view.def,n=this.nodeDef.nodeIndex):(e=this.elView.def,n=this.elDef.nodeIndex);var a=function(t,e){for(var n=-1,r=0;r<=e;r++)3&t.nodes[r].flags&&n++;return n}(e,n),s=-1;e.factory(function(){var e;return++s===a?(e=t.error).bind.apply(e,Object(r.__spread)([t],i)):dy}),s<a&&(t.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),t.error.apply(t,Object(r.__spread)(i)))},t}();function Eg(t,e,n){for(var r in e.references)n[r]=fv(t,e,e.references[r])}function Cg(t,e,n,r){var i=cg,o=lg,a=fg;try{cg=t;var s=e.apply(n,r);return lg=o,fg=a,cg=i,s}catch(u){if(Eh(u)||!lg)throw u;throw function(t,e){return t instanceof Error||(t=new Error(t.toString())),hy(t,e),t}(u,Sg())}}function Sg(){return lg?new wg(lg,fg):null}var Dg=function(){function t(t){this.delegate=t}return t.prototype.createRenderer=function(t,e){return new Og(this.delegate.createRenderer(t,e))},t.prototype.begin=function(){this.delegate.begin&&this.delegate.begin()},t.prototype.end=function(){this.delegate.end&&this.delegate.end()},t.prototype.whenRenderingDone=function(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)},t}(),Og=function(){function t(t){this.delegate=t,this.debugContextFactory=Sg,this.data=this.delegate.data}return t.prototype.createDebugContext=function(t){return this.debugContextFactory(t)},t.prototype.destroyNode=function(t){!function(t){Cd.delete(t.nativeNode)}(Dd(t)),this.delegate.destroyNode&&this.delegate.destroyNode(t)},t.prototype.destroy=function(){this.delegate.destroy()},t.prototype.createElement=function(t,e){var n=this.delegate.createElement(t,e),r=this.createDebugContext(n);if(r){var i=new md(n,null,r);i.name=t,Od(i)}return n},t.prototype.createComment=function(t){var e=this.delegate.createComment(t),n=this.createDebugContext(e);return n&&Od(new yd(e,null,n)),e},t.prototype.createText=function(t){var e=this.delegate.createText(t),n=this.createDebugContext(e);return n&&Od(new yd(e,null,n)),e},t.prototype.appendChild=function(t,e){var n=Dd(t),r=Dd(e);n&&r&&n instanceof md&&n.addChild(r),this.delegate.appendChild(t,e)},t.prototype.insertBefore=function(t,e,n){var r=Dd(t),i=Dd(e),o=Dd(n);r&&i&&r instanceof md&&r.insertBefore(o,i),this.delegate.insertBefore(t,e,n)},t.prototype.removeChild=function(t,e){var n=Dd(t),r=Dd(e);n&&r&&n instanceof md&&n.removeChild(r),this.delegate.removeChild(t,e)},t.prototype.selectRootElement=function(t,e){var n=this.delegate.selectRootElement(t,e),r=Sg();return r&&Od(new md(n,null,r)),n},t.prototype.setAttribute=function(t,e,n,r){var i=Dd(t);i&&i instanceof md&&(i.attributes[r?r+":"+e:e]=n),this.delegate.setAttribute(t,e,n,r)},t.prototype.removeAttribute=function(t,e,n){var r=Dd(t);r&&r instanceof md&&(r.attributes[n?n+":"+e:e]=null),this.delegate.removeAttribute(t,e,n)},t.prototype.addClass=function(t,e){var n=Dd(t);n&&n instanceof md&&(n.classes[e]=!0),this.delegate.addClass(t,e)},t.prototype.removeClass=function(t,e){var n=Dd(t);n&&n instanceof md&&(n.classes[e]=!1),this.delegate.removeClass(t,e)},t.prototype.setStyle=function(t,e,n,r){var i=Dd(t);i&&i instanceof md&&(i.styles[e]=n),this.delegate.setStyle(t,e,n,r)},t.prototype.removeStyle=function(t,e,n){var r=Dd(t);r&&r instanceof md&&(r.styles[e]=null),this.delegate.removeStyle(t,e,n)},t.prototype.setProperty=function(t,e,n){var r=Dd(t);r&&r instanceof md&&(r.properties[e]=n),this.delegate.setProperty(t,e,n)},t.prototype.listen=function(t,e,n){if("string"!=typeof t){var r=Dd(t);r&&r.listeners.push(new dd(e,n))}return this.delegate.listen(t,e,n)},t.prototype.parentNode=function(t){return this.delegate.parentNode(t)},t.prototype.nextSibling=function(t){return this.delegate.nextSibling(t)},t.prototype.setValue=function(t,e){return this.delegate.setValue(t,e)},t}();function Tg(t){return Hv(),ly.overrideProvider(t)}function Ag(t,e){return Hv(),ly.overrideComponentView(t,e)}function Ig(){return Hv(),ly.clearOverrides()}function xg(t,e,n){return new kg(t,e,n)}var kg=function(t){function e(e,n,r){var i=t.call(this)||this;return i.moduleType=e,i._bootstrapComponents=n,i._ngModuleDefFactory=r,i}return Object(r.__extends)(e,t),e.prototype.create=function(t){Hv();var e=function(t){var e=Array.from(t.providers),n=Array.from(t.modules),r={};for(var i in t.providersByKey)r[i]=t.providersByKey[i];return{factory:t.factory,isRoot:t.isRoot,providers:e,modules:n,providersByKey:r}}(By(this._ngModuleDefFactory));return ly.createNgModuleRef(this.moduleType,t||ds.NULL,this._bootstrapComponents,e)},e}(uu)},Cwc5:function(t,e,n){var r=n("NKxu"),i=n("Npjl");t.exports=function(t,e){var n=i(t,e);return r(n)?n:void 0}},DKTb:function(t,e,n){"use strict";function r(t){setTimeout(function(){throw t})}n.d(e,"a",function(){return r})},DSRE:function(t,e,n){(function(t){var r=n("Kz5y"),i=n("B8du"),o=e&&!e.nodeType&&e,a=o&&"object"==typeof t&&t&&!t.nodeType&&t,s=a&&a.exports===o?r.Buffer:void 0;t.exports=(s?s.isBuffer:void 0)||i}).call(this,n("YuTi")(t))},"Dw+G":function(t,e,n){var r=n("juv8"),i=n("mTTR");t.exports=function(t,e){return t&&r(e,i(e),t)}},E2jh:function(t,e,n){var r,i=n("2gN3"),o=(r=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";t.exports=function(t){return!!o&&o in t}},EA7m:function(t,e,n){var r=n("zZ0H"),i=n("Ioao"),o=n("wclG");t.exports=function(t,e){return o(i(t,e,r),t+"")}},EEGq:function(t,e,n){var r=n("juv8"),i=n("oCl/");t.exports=function(t,e){return r(t,i(t),e)}},Ehmk:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r,i=n("eihs");function o(){try{return r.apply(this,arguments)}catch(t){return i.a.e=t,i.a}}function a(t){return r=t,o}},Em2t:function(t,e,n){var r=n("bahg"),i=n("quyA"),o=n("0JQy");t.exports=function(t){return i(t)?o(t):r(t)}},"En8+":function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",function(){return i});var i=r()},EpBk:function(t,e){t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},ExA7:function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t}},FFOo:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("mrSG"),i=n("2Bdj"),o=n("6ahw"),a=n("pugT"),s=n("L/V9"),u=n("iLxQ"),c=n("DKTb"),l=function(t){function e(n,r,i){var a=t.call(this)||this;switch(a.syncErrorValue=null,a.syncErrorThrown=!1,a.syncErrorThrowable=!1,a.isStopped=!1,a._parentSubscription=null,arguments.length){case 0:a.destination=o.a;break;case 1:if(!n){a.destination=o.a;break}if("object"==typeof n){n instanceof e?(a.syncErrorThrowable=n.syncErrorThrowable,a.destination=n,n.add(a)):(a.syncErrorThrowable=!0,a.destination=new f(a,n));break}default:a.syncErrorThrowable=!0,a.destination=new f(a,n,r,i)}return a}return r.__extends(e,t),e.prototype[s.a]=function(){return this},e.create=function(t,n,r){var i=new e(t,n,r);return i.syncErrorThrowable=!1,i},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parent,e=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=t,this._parents=e,this._parentSubscription=null,this},e}(a.a),f=function(t){function e(e,n,r,a){var s,u=t.call(this)||this;u._parentSubscriber=e;var c=u;return Object(i.a)(n)?s=n:n&&(s=n.next,r=n.error,a=n.complete,n!==o.a&&(c=Object.create(n),Object(i.a)(c.unsubscribe)&&u.add(c.unsubscribe.bind(c)),c.unsubscribe=u.unsubscribe.bind(u))),u._context=c,u._next=s,u._error=r,u._complete=a,u}return r.__extends(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;u.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,n=u.a.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(c.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(c.a)(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};u.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),u.a.useDeprecatedSynchronousErrorHandling)throw n;Object(c.a)(n)}},e.prototype.__tryOrSetError=function(t,e,n){if(!u.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return u.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(c.a)(r),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(l)},Fxb1:function(t,e,n){"use strict";n.d(e,"a",function(){return p});var r=n("6blF"),i=n("+tJ4"),o=n("S5XQ"),a=n("u67D"),s=n("JcRv"),u=n("2ePl"),c=n("/WYv"),l=n("McSo"),f=n("En8+"),h=n("xTla"),p=function(t){if(t instanceof r.a)return function(e){return t._isScalar?(e.next(t.value),void e.complete()):t.subscribe(e)};if(t&&"function"==typeof t[h.a])return Object(s.a)(t);if(Object(u.a)(t))return Object(i.a)(t);if(Object(c.a)(t))return Object(o.a)(t);if(t&&"function"==typeof t[f.a])return Object(a.a)(t);var e=Object(l.a)(t)?"an invalid object":"'"+t+"'";throw new TypeError("You provided "+e+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")}},G6z8:function(t,e,n){var r=n("fR/l"),i=n("oCl/"),o=n("mTTR");t.exports=function(t){return r(t,o,i)}},GU7I:function(t,e,n){var r;r=function(t,e,n,r,i,o,a,s,u,c,l,f,h,p){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,(function(e){return t[e]}).bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s="./src/namespace/cloudinary-core.js")}({"./src/cloudinary.js":function(t,e,n){"use strict";n.r(e);var r,i,o,a,s,u,c=n("./src/configuration.js"),l=n("./src/tags/htmltag.js"),f=n("./src/tags/imagetag.js"),h=n("./src/tags/picturetag.js"),p=n("./src/tags/sourcetag.js"),d=n("./src/transformation.js"),y=n("./src/url.js"),m=n("./src/tags/videotag.js"),v=n("./src/constants.js"),g=n("./src/util/lodash.js");function b(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}o=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return e*Math.ceil(t/e)},i=function(t,e){var n;for(n=t.length-2;n>=0&&t[n]>=e;)n--;return t[n+1]},r=function(t,e,n,r){var i,o,a,s;return!(s=null!=(i=null!=(o=null!=(a=r.responsive_use_breakpoints)?a:r.responsive_use_stoppoints)?o:this.config("responsive_use_breakpoints"))?i:this.config("responsive_use_stoppoints"))||"resize"===s&&!r.resizing?e:this.calc_breakpoint(t,e,n)},a=function(t){var e,n;for(e=0;(t=null!=t?t.parentNode:void 0)instanceof Element&&!e;)n=window.getComputedStyle(t),/^inline/.test(n.display)||(e=Object(g.width)(t));return e},u=function(t,e){return t.replace(/\bdpr_(1\.0|auto)\b/g,"dpr_"+this.device_pixel_ratio(e))},s=function(t,e){var n;return t>(n=Object(g.getData)(e,"width")||0)&&(n=t,Object(g.setData)(e,"width",t)),n};var _=function(){function t(e){var n;!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this.devicePixelRatioCache={},this.responsiveConfig={},this.responsiveResizeInitialized=!1,n=new c.default(e),this.config=function(t,e){return n.config(t,e)},this.fromDocument=function(){return n.fromDocument(),this},this.fromEnvironment=function(){return n.fromEnvironment(),this},this.init=function(){return n.init(),this}}var e,n,_;return e=t,_=[{key:"new",value:function(t){return new this(t)}}],(n=[{key:"url",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(y.default)(t,e,this.config())}},{key:"video_url",value:function(t,e){return e=Object(g.assign)({resource_type:"video"},e),this.url(t,e)}},{key:"video_thumbnail_url",value:function(t,e){return e=Object(g.assign)({},v.DEFAULT_POSTER_OPTIONS,e),this.url(t,e)}},{key:"transformation_string",value:function(t){return new d.default(t).serialize()}},{key:"image",value:function(t){var e,n,r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n=this.imageTag(t,i),e=null!=(r=null!=i.client_hints?i.client_hints:this.config("client_hints"))&&r,null!=i.src||e||n.setAttr("src",""),n=n.toDOM(),e||(Object(g.setData)(n,"src-cache",this.url(t,i)),this.cloudinary_update(n,i)),n}},{key:"imageTag",value:function(t,e){var n;return(n=new f.default(t,this.config())).transformation().fromOptions(e),n}},{key:"pictureTag",value:function(t,e){var n;return(n=new h.default(t,this.config())).transformation().fromOptions(e),n}},{key:"sourceTag",value:function(t,e){var n;return(n=new p.default(t,this.config())).transformation().fromOptions(e),n}},{key:"video_thumbnail",value:function(t,e){return this.image(t,Object(g.merge)({},v.DEFAULT_POSTER_OPTIONS,e))}},{key:"facebook_profile_image",value:function(t,e){return this.image(t,Object(g.assign)({type:"facebook"},e))}},{key:"twitter_profile_image",value:function(t,e){return this.image(t,Object(g.assign)({type:"twitter"},e))}},{key:"twitter_name_profile_image",value:function(t,e){return this.image(t,Object(g.assign)({type:"twitter_name"},e))}},{key:"gravatar_image",value:function(t,e){return this.image(t,Object(g.assign)({type:"gravatar"},e))}},{key:"fetch_image",value:function(t,e){return this.image(t,Object(g.assign)({type:"fetch"},e))}},{key:"video",value:function(t){return this.videoTag(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).toHtml()}},{key:"videoTag",value:function(t,e){return e=Object(g.defaults)({},e,this.config()),new m.default(t,e)}},{key:"sprite_css",value:function(t,e){return e=Object(g.assign)({type:"sprite"},e),t.match(/.css$/)||(e.format="css"),this.url(t,e)}},{key:"responsive",value:function(t){var e,n,r,i,o,a=this,s=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.responsiveConfig=Object(g.merge)(this.responsiveConfig||{},t),i=null!=(e=this.responsiveConfig.responsive_class)?e:this.config("responsive_class"),s&&this.cloudinary_update("img.".concat(i,", img.cld-hidpi"),this.responsiveConfig),(null==(n=null!=(r=this.responsiveConfig.responsive_resize)?r:this.config("responsive_resize"))||n)&&!this.responsiveResizeInitialized)return this.responsiveConfig.resizing=this.responsiveResizeInitialized=!0,o=null,window.addEventListener("resize",function(){var t,e,n,r,s,u;return t=null!=(e=null!=(n=a.responsiveConfig.responsive_debounce)?n:a.config("responsive_debounce"))?e:100,r=function(){if(o)return clearTimeout(o),o=null},s=function(){return a.cloudinary_update("img.".concat(i),a.responsiveConfig)},u=function(){return r(),s()},t?(r(),o=setTimeout(u,t)):s()})}},{key:"calc_breakpoint",value:function(t,e,n){var r=Object(g.getData)(t,"breakpoints")||Object(g.getData)(t,"stoppoints")||this.config("breakpoints")||this.config("stoppoints")||o;return Object(g.isFunction)(r)?r(e,n):(Object(g.isString)(r)&&(r=r.split(",").map(function(t){return parseInt(t)}).sort(function(t,e){return t-e})),i(r,e))}},{key:"calc_stoppoint",value:function(t,e,n){return this.calc_breakpoint(t,e,n)}},{key:"device_pixel_ratio",value:function(t){t=null==t||t;var e=("undefined"!=typeof window&&null!==window?window.devicePixelRatio:void 0)||1;t&&(e=Math.ceil(e)),(e<=0||NaN===e)&&(e=1);var n=e.toString();return n.match(/^\d+$/)&&(n+=".0"),n}},{key:"processImageTags",value:function(t,e){if(Object(g.isEmpty)(t))return this;e=Object(g.defaults)({},e||{},this.config());var n=t.filter(function(t){return/^img$/i.test(t.tagName)}).map(function(t){var n=Object(g.assign)({width:t.getAttribute("width"),height:t.getAttribute("height"),src:t.getAttribute("src")},e),r=n.source||n.src;delete n.source,delete n.src;var i=new d.default(n).toHtmlAttributes();return Object(g.setData)(t,"src-cache",Object(y.default)(r,n)),t.setAttribute("width",i.width),t.setAttribute("height",i.height),t});return this.cloudinary_update(n,e),this}},{key:"cloudinary_update",value:function(t,e){var n,i,o,c,f=this;if(null===t)return this;null==e&&(e={});var h,p=null!=e.responsive?e.responsive:this.config("responsive");t=function(){switch(!1){case!Object(g.isArray)(t):case"NodeList"!==t.constructor.name:return t;case!Object(g.isString)(t):return document.querySelectorAll(t);default:return[t]}}(),h=this.responsiveConfig&&null!=this.responsiveConfig.responsive_class?this.responsiveConfig.responsive_class:null!=e.responsive_class?e.responsive_class:this.config("responsive_class");var d=null!=e.round_dpr?e.round_dpr:this.config("round_dpr");return t.forEach(function(t){if(/img/i.test(t.tagName)){var y=!0;if(p&&Object(g.addClass)(t,h),i=Object(g.getData)(t,"src-cache")||Object(g.getData)(t,"src"),!Object(g.isEmpty)(i)){if(i=u.call(f,i,d),l.default.isResponsive(t,h))if(0!==(n=a(t))){switch(!1){case!/w_auto:breakpoints/.test(i):c=s(n,t),i=i.replace(/w_auto:breakpoints([_0-9]*)(:[0-9]+)?/,"w_auto:breakpoints$1:".concat(c));break;case!(o=/w_auto(:(\d+))?/.exec(i)):c=r.call(f,t,n,o[2],e),c=s(c,t),i=i.replace(/w_auto[^,\/]*/g,"w_".concat(c))}Object(g.removeAttribute)(t,"width"),e.responsive_preserve_height||Object(g.removeAttribute)(t,"height")}else y=!1;y&&Object(g.setAttribute)(t,"src",i)}}}),this}},{key:"transformation",value:function(t){return d.default.new(this.config()).fromOptions(t).setParent(this)}}])&&b(e.prototype,n),_&&b(e,_),t}();Object(g.assign)(_,v),e.default=_},"./src/condition.js":function(t,e,n){"use strict";n.r(e);var r=n("./src/expression.js");function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}e.default=function(t){function e(t){return function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this,!(n=o(e).call(this,t))||"object"!==i(n)&&"function"!=typeof n?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(this):n;var n}var n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(e,r.default),(n=[{key:"height",value:function(t,e){return this.predicate("h",t,e)}},{key:"width",value:function(t,e){return this.predicate("w",t,e)}},{key:"aspectRatio",value:function(t,e){return this.predicate("ar",t,e)}},{key:"pageCount",value:function(t,e){return this.predicate("pc",t,e)}},{key:"faceCount",value:function(t,e){return this.predicate("fc",t,e)}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),e}()},"./src/configuration.js":function(t,e,n){"use strict";n.r(e);var r=n("./src/util/lodash.js");var i=function(){function t(e){!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this.configuration=null==e?{}:Object(r.cloneDeep)(e),Object(r.defaults)(this.configuration,o)}var e;return(e=[{key:"init",value:function(){return this.fromEnvironment(),this.fromDocument(),this}},{key:"set",value:function(t,e){return this.configuration[t]=e,this}},{key:"get",value:function(t){return this.configuration[t]}},{key:"merge",value:function(t){return Object(r.assign)(this.configuration,Object(r.cloneDeep)(t)),this}},{key:"fromDocument",value:function(){var t,e,n,r;if(r="undefined"!=typeof document&&null!==document?document.querySelectorAll('meta[name^="cloudinary_"]'):void 0)for(e=0,n=r.length;e<n;e++)this.configuration[(t=r[e]).getAttribute("name").replace("cloudinary_","")]=t.getAttribute("content");return this}},{key:"fromEnvironment",value:function(){var t,e,n,r=this;return"undefined"!=typeof process&&null!==process&&process.env&&process.env.CLOUDINARY_URL&&(t=process.env.CLOUDINARY_URL,(n=/cloudinary:\/\/(?:(\w+)(?:\:([\w-]+))?@)?([\w\.-]+)(?:\/([^?]*))?(?:\?(.+))?/.exec(t))&&(null!=n[3]&&(this.configuration.cloud_name=n[3]),null!=n[1]&&(this.configuration.api_key=n[1]),null!=n[2]&&(this.configuration.api_secret=n[2]),null!=n[4]&&(this.configuration.private_cdn=null!=n[4]),null!=n[4]&&(this.configuration.secure_distribution=n[4]),null!=(e=n[5])&&e.split("&").forEach(function(t){var e,n=(2,function(t){if(Array.isArray(t))return t}(e=t.split("="))||function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),2!==n.length);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()),i=n[1];null==i&&(i=!0),r.configuration[n[0]]=i}))),this}},{key:"config",value:function(t,e){switch(!1){case void 0===e:return this.set(t,e),this.configuration;case!Object(r.isString)(t):return this.get(t);case!Object(r.isPlainObject)(t):return this.merge(t),this.configuration;default:return this.configuration}}},{key:"toOptions",value:function(){return Object(r.cloneDeep)(this.configuration)}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(t.prototype,e),t}(),o={responsive_class:"cld-responsive",responsive_use_breakpoints:!0,round_dpr:!0,secure:"https:"===("undefined"!=typeof window&&null!==window&&window.location?window.location.protocol:void 0)};i.CONFIG_PARAMS=["api_key","api_secret","callback","cdn_subdomain","cloud_name","cname","private_cdn","protocol","resource_type","responsive","responsive_class","responsive_use_breakpoints","responsive_width","round_dpr","secure","secure_cdn_subdomain","secure_distribution","shorten","type","upload_preset","url_suffix","use_root_path","version"],e.default=i},"./src/constants.js":function(t,e,n){"use strict";n.r(e),n.d(e,"VERSION",function(){return r}),n.d(e,"CF_SHARED_CDN",function(){return i}),n.d(e,"OLD_AKAMAI_SHARED_CDN",function(){return o}),n.d(e,"AKAMAI_SHARED_CDN",function(){return a}),n.d(e,"SHARED_CDN",function(){return s}),n.d(e,"DEFAULT_POSTER_OPTIONS",function(){return u}),n.d(e,"DEFAULT_VIDEO_SOURCE_TYPES",function(){return c}),n.d(e,"SEO_TYPES",function(){return l}),n.d(e,"DEFAULT_IMAGE_PARAMS",function(){return f}),n.d(e,"DEFAULT_VIDEO_PARAMS",function(){return h});var r="2.5.0",i="d3jpl91pxevbkh.cloudfront.net",o="cloudinary-a.akamaihd.net",a="res.cloudinary.com",s=a,u={format:"jpg",resource_type:"video"},c=["webm","mp4","ogv"],l={"image/upload":"images","image/private":"private_images","image/authenticated":"authenticated_images","raw/upload":"files","video/upload":"videos"},f={resource_type:"image",transformation:[],type:"upload"},h={fallback_content:"",resource_type:"video",source_transformation:{},source_types:c,transformation:[],type:"upload"}},"./src/crc32.js":function(t,e,n){"use strict";n.r(e);var r=n("./src/utf8_encode.js");e.default=function(t){var e,n,i,o;for(e=0,o=0,e^=-1,n=0,i=(t=Object(r.default)(t)).length;n<i;)o=255&(e^t.charCodeAt(n)),e=e>>>8^"0x"+"00000000 77073096 EE0E612C 990951BA 076DC419 706AF48F E963A535 9E6495A3 0EDB8832 79DCB8A4 E0D5E91E 97D2D988 09B64C2B 7EB17CBD E7B82D07 90BF1D91 1DB71064 6AB020F2 F3B97148 84BE41DE 1ADAD47D 6DDDE4EB F4D4B551 83D385C7 136C9856 646BA8C0 FD62F97A 8A65C9EC 14015C4F 63066CD9 FA0F3D63 8D080DF5 3B6E20C8 4C69105E D56041E4 A2677172 3C03E4D1 4B04D447 D20D85FD A50AB56B 35B5A8FA 42B2986C DBBBC9D6 ACBCF940 32D86CE3 45DF5C75 DCD60DCF ABD13D59 26D930AC 51DE003A C8D75180 BFD06116 21B4F4B5 56B3C423 CFBA9599 B8BDA50F 2802B89E 5F058808 C60CD9B2 B10BE924 2F6F7C87 58684C11 C1611DAB B6662D3D 76DC4190 01DB7106 98D220BC EFD5102A 71B18589 06B6B51F 9FBFE4A5 E8B8D433 7807C9A2 0F00F934 9609A88E E10E9818 7F6A0DBB 086D3D2D 91646C97 E6635C01 6B6B51F4 1C6C6162 856530D8 F262004E 6C0695ED 1B01A57B 8208F4C1 F50FC457 65B0D9C6 12B7E950 8BBEB8EA FCB9887C 62DD1DDF 15DA2D49 8CD37CF3 FBD44C65 4DB26158 3AB551CE A3BC0074 D4BB30E2 4ADFA541 3DD895D7 A4D1C46D D3D6F4FB 4369E96A 346ED9FC AD678846 DA60B8D0 44042D73 33031DE5 AA0A4C5F DD0D7CC9 5005713C 270241AA BE0B1010 C90C2086 5768B525 206F85B3 B966D409 CE61E49F 5EDEF90E 29D9C998 B0D09822 C7D7A8B4 59B33D17 2EB40D81 B7BD5C3B C0BA6CAD EDB88320 9ABFB3B6 03B6E20C 74B1D29A EAD54739 9DD277AF 04DB2615 73DC1683 E3630B12 94643B84 0D6D6A3E 7A6A5AA8 E40ECF0B 9309FF9D 0A00AE27 7D079EB1 F00F9344 8708A3D2 1E01F268 6906C2FE F762575D 806567CB 196C3671 6E6B06E7 FED41B76 89D32BE0 10DA7A5A 67DD4ACC F9B9DF6F 8EBEEFF9 17B7BE43 60B08ED5 D6D6A3E8 A1D1937E 38D8C2C4 4FDFF252 D1BB67F1 A6BC5767 3FB506DD 48B2364B D80D2BDA AF0A1B4C 36034AF6 41047A60 DF60EFC3 A867DF55 316E8EEF 4669BE79 CB61B38C BC66831A 256FD2A0 5268E236 CC0C7795 BB0B4703 220216B9 5505262F C5BA3BBE B2BD0B28 2BB45A92 5CB36A04 C2D7FFA7 B5D0CF31 2CD99E8B 5BDEAE1D 9B64C2B0 EC63F226 756AA39C 026D930A 9C0906A9 EB0E363F 72076785 05005713 95BF4A82 E2B87A14 7BB12BAE 0CB61B38 92D28E9B E5D5BE0D 7CDCEFB7 0BDBDF21 86D3D2D4 F1D4E242 68DDB3F8 1FDA836E 81BE16CD F6B9265B 6FB077E1 18B74777 88085AE6 FF0F6A70 66063BCA 11010B5C 8F659EFF F862AE69 616BFFD3 166CCF45 A00AE278 D70DD2EE 4E048354 3903B3C2 A7672661 D06016F7 4969474D 3E6E77DB AED16A4A D9D65ADC 40DF0B66 37D83BF0 A9BCAE53 DEBB9EC5 47B2CF7F 30B5FFE9 BDBDF21C CABAC28A 53B39330 24B4A3A6 BAD03605 CDD70693 54DE5729 23D967BF B3667A2E C4614AB8 5D681B02 2A6F2B94 B40BBE37 C30C8EA1 5A05DF1B 2D02EF8D".substr(9*o,8),n++;return(e^=-1)<0&&(e+=4294967296),e}},"./src/expression.js":function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}n.r(e);var i=function(){function t(e){!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this.expressions=[],null!=e&&this.expressions.push(t.normalize(e))}var e,n,i;return e=t,i=[{key:"new",value:function(t){return new this(t)}},{key:"normalize",value:function(e){var n,r;return null==e?e:(e=String(e),n="((\\|\\||>=|<=|&&|!=|>|=|<|/|-|\\+|\\*)(?=[ _])|"+Object.keys(t.PREDEFINED_VARS).join("|")+")",r=new RegExp(n,"g"),(e=e.replace(r,function(e){return t.OPERATORS[e]||t.PREDEFINED_VARS[e]})).replace(/[ _]+/g,"_"))}},{key:"variable",value:function(t,e){return new this(t).value(e)}},{key:"width",value:function(){return new this("width")}},{key:"height",value:function(){return new this("height")}},{key:"initialWidth",value:function(){return new this("initialWidth")}},{key:"initialHeight",value:function(){return new this("initialHeight")}},{key:"aspectRatio",value:function(){return new this("aspectRatio")}},{key:"initialAspectRatio",value:function(){return new this("initialAspectRatio")}},{key:"pageCount",value:function(){return new this("pageCount")}},{key:"faceCount",value:function(){return new this("faceCount")}},{key:"currentPage",value:function(){return new this("currentPage")}},{key:"tags",value:function(){return new this("tags")}},{key:"pageX",value:function(){return new this("pageX")}},{key:"pageY",value:function(){return new this("pageY")}}],(n=[{key:"serialize",value:function(){return t.normalize(this.expressions.join("_"))}},{key:"toString",value:function(){return this.serialize()}},{key:"getParent",value:function(){return this.parent}},{key:"setParent",value:function(t){return this.parent=t,this}},{key:"predicate",value:function(e,n,r){return null!=t.OPERATORS[n]&&(n=t.OPERATORS[n]),this.expressions.push("".concat(e,"_").concat(n,"_").concat(r)),this}},{key:"and",value:function(){return this.expressions.push("and"),this}},{key:"or",value:function(){return this.expressions.push("or"),this}},{key:"then",value:function(){return this.getParent().if(this.toString())}},{key:"height",value:function(t,e){return this.predicate("h",t,e)}},{key:"width",value:function(t,e){return this.predicate("w",t,e)}},{key:"aspectRatio",value:function(t,e){return this.predicate("ar",t,e)}},{key:"pageCount",value:function(t,e){return this.predicate("pc",t,e)}},{key:"faceCount",value:function(t,e){return this.predicate("fc",t,e)}},{key:"value",value:function(t){return this.expressions.push(t),this}}])&&r(e.prototype,n),i&&r(e,i),t}();i.OPERATORS={"=":"eq","!=":"ne","<":"lt",">":"gt","<=":"lte",">=":"gte","&&":"and","||":"or","*":"mul","/":"div","+":"add","-":"sub"},i.PREDEFINED_VARS={aspect_ratio:"ar",aspectRatio:"ar",current_page:"cp",currentPage:"cp",face_count:"fc",faceCount:"fc",height:"h",initial_aspect_ratio:"iar",initial_height:"ih",initial_width:"iw",initialAspectRatio:"iar",initialHeight:"ih",initialWidth:"iw",page_count:"pc",page_x:"px",page_y:"py",pageCount:"pc",pageX:"px",pageY:"py",tags:"tags",width:"w"},i.BOUNDRY="[ _]+",e.default=i},"./src/layer/fetchlayer.js":function(t,e,n){"use strict";n.r(e);var r=n("./src/layer/layer.js"),i=n("./src/util/lodash.js");function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}e.default=function(t){function e(t){var n,r;return function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this,n=!(r=a(e).call(this,t))||"object"!==o(r)&&"function"!=typeof r?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(this):r,Object(i.isString)(t)?n.options.url=t:(null!=t?t.url:void 0)&&(n.options.url=t.url),n}var n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,r.default),(n=[{key:"url",value:function(t){return this.options.url=t,this}},{key:"toString",value:function(){return"fetch:".concat(Object(i.base64EncodeURL)(this.options.url))}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),e}()},"./src/layer/layer.js":function(t,e,n){"use strict";n.r(e);var r=n("./src/util/lodash.js");e.default=function(){function t(e){var n=this;!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this.options={},null!=e&&["resourceType","type","publicId","format"].forEach(function(t){var i;return n.options[t]=null!=(i=e[t])?i:e[Object(r.snakeCase)(t)]})}var e;return(e=[{key:"resourceType",value:function(t){return this.options.resourceType=t,this}},{key:"type",value:function(t){return this.options.type=t,this}},{key:"publicId",value:function(t){return this.options.publicId=t,this}},{key:"getPublicId",value:function(){var t;return null!=(t=this.options.publicId)?t.replace(/\//g,":"):void 0}},{key:"getFullPublicId",value:function(){return null!=this.options.format?this.getPublicId()+"."+this.options.format:this.getPublicId()}},{key:"format",value:function(t){return this.options.format=t,this}},{key:"toString",value:function(){var t;if(t=[],null==this.options.publicId)throw"Must supply publicId";return"image"!==this.options.resourceType&&t.push(this.options.resourceType),"upload"!==this.options.type&&t.push(this.options.type),t.push(this.getFullPublicId()),Object(r.compact)(t).join(":")}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(t.prototype,e),t}()},"./src/layer/subtitleslayer.js":function(t,e,n){"use strict";n.r(e);var r=n("./src/layer/textlayer.js");function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}e.default=function(t){function e(t){var n,r;return function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),(this,r=o(e).call(this,t),n=!r||"object"!==i(r)&&"function"!=typeof r?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(this):r).options.resourceType="subtitles",n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(e,r.default),e}()},"./src/layer/textlayer.js":function(t,e,n){"use strict";n.r(e);var r=n("./src/layer/layer.js"),i=n("./src/util/lodash.js");function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}e.default=function(t){function e(t){var n,r;return function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this,r=a(e).call(this,t),n=!r||"object"!==o(r)&&"function"!=typeof r?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(this):r,null!=t&&["resourceType","resourceType","fontFamily","fontSize","fontWeight","fontStyle","textDecoration","textAlign","stroke","letterSpacing","lineSpacing","text"].forEach(function(e){var r;return n.options[e]=null!=(r=t[e])?r:t[Object(i.snakeCase)(e)]}),n.options.resourceType="text",n}var n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,r.default),(n=[{key:"resourceType",value:function(t){throw"Cannot modify resourceType for text layers"}},{key:"type",value:function(t){throw"Cannot modify type for text layers"}},{key:"format",value:function(t){throw"Cannot modify format for text layers"}},{key:"fontFamily",value:function(t){return this.options.fontFamily=t,this}},{key:"fontSize",value:function(t){return this.options.fontSize=t,this}},{key:"fontWeight",value:function(t){return this.options.fontWeight=t,this}},{key:"fontStyle",value:function(t){return this.options.fontStyle=t,this}},{key:"textDecoration",value:function(t){return this.options.textDecoration=t,this}},{key:"textAlign",value:function(t){return this.options.textAlign=t,this}},{key:"stroke",value:function(t){return this.options.stroke=t,this}},{key:"letterSpacing",value:function(t){return this.options.letterSpacing=t,this}},{key:"lineSpacing",value:function(t){return this.options.lineSpacing=t,this}},{key:"text",value:function(t){return this.options.text=t,this}},{key:"toString",value:function(){var t,e,n,r,o,a,s,u,c,l;if(u=this.textStyleIdentifier(),null!=this.options.publicId&&(r=this.getFullPublicId()),null!=this.options.text){if(e=!Object(i.isEmpty)(r),n=!Object(i.isEmpty)(u),e&&n||!e&&!n)throw"Must supply either style parameters or a public_id when providing text parameter in a text overlay/underlay, but not both!";for(o=/\$\([a-zA-Z]\w*\)/g,s=0,l=Object(i.smartEscape)(this.options.text,/[,\/]/g),c="";a=o.exec(l);)c+=Object(i.smartEscape)(l.slice(s,a.index)),c+=a[0],s=a.index+a[0].length;c+=Object(i.smartEscape)(l.slice(s))}return t=[this.options.resourceType,u,r,c],Object(i.compact)(t).join(":")}},{key:"textStyleIdentifier",value:function(){var t;if(t=[],"normal"!==this.options.fontWeight&&t.push(this.options.fontWeight),"normal"!==this.options.fontStyle&&t.push(this.options.fontStyle),"none"!==this.options.textDecoration&&t.push(this.options.textDecoration),t.push(this.options.textAlign),"none"!==this.options.stroke&&t.push(this.options.stroke),Object(i.isEmpty)(this.options.letterSpacing)&&!Object(i.isNumberLike)(this.options.letterSpacing)||t.push("letter_spacing_"+this.options.letterSpacing),Object(i.isEmpty)(this.options.lineSpacing)&&!Object(i.isNumberLike)(this.options.lineSpacing)||t.push("line_spacing_"+this.options.lineSpacing),!Object(i.isEmpty)(Object(i.compact)(t))){if(Object(i.isEmpty)(this.options.fontFamily))throw"Must supply fontFamily. ".concat(t);if(Object(i.isEmpty)(this.options.fontSize)&&!Object(i.isNumberLike)(this.options.fontSize))throw"Must supply fontSize."}return t.unshift(this.options.fontFamily,this.options.fontSize),Object(i.compact)(t).join("_")}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),e}()},"./src/namespace/cloudinary-core.js":function(t,e,n){"use strict";n.r(e);var r=n("./src/utf8_encode.js");n.d(e,"utf8_encode",function(){return r.default});var i=n("./src/crc32.js");n.d(e,"crc32",function(){return i.default});var o=n("./src/util/lodash.js");n.d(e,"Util",function(){return o});var a=n("./src/transformation.js");n.d(e,"Transformation",function(){return a.default});var s=n("./src/condition.js");n.d(e,"Condition",function(){return s.default});var u=n("./src/configuration.js");n.d(e,"Configuration",function(){return u.default});var c=n("./src/tags/htmltag.js");n.d(e,"HtmlTag",function(){return c.default});var l=n("./src/tags/imagetag.js");n.d(e,"ImageTag",function(){return l.default});var f=n("./src/tags/picturetag.js");n.d(e,"PictureTag",function(){return f.default});var h=n("./src/tags/videotag.js");n.d(e,"VideoTag",function(){return h.default});var p=n("./src/tags/clienthintsmetatag.js");n.d(e,"ClientHintsMetaTag",function(){return p.default});var d=n("./src/layer/layer.js");n.d(e,"Layer",function(){return d.default});var y=n("./src/layer/fetchlayer.js");n.d(e,"FetchLayer",function(){return y.default});var m=n("./src/layer/textlayer.js");n.d(e,"TextLayer",function(){return m.default});var v=n("./src/layer/subtitleslayer.js");n.d(e,"SubtitlesLayer",function(){return v.default});var g=n("./src/cloudinary.js");n.d(e,"Cloudinary",function(){return g.default}),e.default={ClientHintsMetaTag:p.default,Cloudinary:g.default,Condition:s.default,Configuration:u.default,crc32:i.default,FetchLayer:y.default,HtmlTag:c.default,ImageTag:l.default,Layer:d.default,PictureTag:f.default,SubtitlesLayer:v.default,TextLayer:m.default,Transformation:a.default,utf8_encode:r.default,Util:o,VideoTag:h.default}},"./src/parameters.js":function(t,e,n){"use strict";n.r(e),n.d(e,"Param",function(){return g}),n.d(e,"ArrayParam",function(){return b}),n.d(e,"TransformationParam",function(){return _}),n.d(e,"RangeParam",function(){return w}),n.d(e,"RawParam",function(){return E}),n.d(e,"LayerParam",function(){return C}),n.d(e,"ExpressionParam",function(){return S});var r=n("./src/expression.js"),i=n("./src/transformation.js"),o=n("./src/util/lodash.js"),a=n("./src/layer/layer.js"),s=n("./src/layer/textlayer.js"),u=n("./src/layer/subtitleslayer.js"),c=n("./src/layer/fetchlayer.js");function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(t,e){return!e||"object"!==l(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function h(t,e,n){return(h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=p(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function y(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function v(t,e,n){return e&&m(t.prototype,e),n&&m(t,n),t}var g=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.identity;y(this,t),this.name=e,this.shortName=n,this.process=r}return v(t,[{key:"set",value:function(t){return this.origValue=t,this}},{key:"serialize",value:function(){var t,e;return t=this.value(),e=Object(o.isArray)(t)||Object(o.isPlainObject)(t)||Object(o.isString)(t)?!Object(o.isEmpty)(t):null!=t,null!=this.shortName&&e?"".concat(this.shortName,"_").concat(t):""}},{key:"value",value:function(){return this.process(this.origValue)}},{key:"build_array",value:function(t){return null==t?[]:Object(o.isArray)(t)?t:[t]}}],[{key:"norm_color",value:function(t){return null!=t?t.replace(/^#/,"rgb:"):void 0}},{key:"process_video_params",value:function(t){var e;switch(t.constructor){case Object:return e="","codec"in t&&(e=t.codec,"profile"in t&&(e+=":"+t.profile,"level"in t&&(e+=":"+t.level))),e;case String:return t;default:return null}}}]),t}(),b=function(t){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".",o=arguments.length>3?arguments[3]:void 0;return y(this,e),(r=f(this,p(e).call(this,t,n,o))).sep=i,r}return d(e,g),v(e,[{key:"serialize",value:function(){if(null!=this.shortName){var t=this.value();if(Object(o.isEmpty)(t))return"";if(Object(o.isString)(t))return"".concat(this.shortName,"_").concat(t);var e=t.map(function(t){return Object(o.isFunction)(t.serialize)?t.serialize():t}).join(this.sep);return"".concat(this.shortName,"_").concat(e)}return""}},{key:"value",value:function(){var t=this;return Object(o.isArray)(this.origValue)?this.origValue.map(function(e){return t.process(e)}):this.process(this.origValue)}},{key:"set",value:function(t){return null==t||Object(o.isArray)(t)?h(p(e.prototype),"set",this).call(this,t):h(p(e.prototype),"set",this).call(this,[t])}}]),e}(),_=function(t){function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"t",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".",o=arguments.length>3?arguments[3]:void 0;return y(this,e),(n=f(this,p(e).call(this,t,r,o))).sep=i,n}return d(e,g),v(e,[{key:"serialize",value:function(){var t=this;if(Object(o.isEmpty)(this.value()))return"";if(Object(o.allStrings)(this.value())){var e=this.value().join(this.sep);return Object(o.isEmpty)(e)?"":"".concat(this.shortName,"_").concat(e)}return this.value().map(function(e){return Object(o.isString)(e)&&!Object(o.isEmpty)(e)?"".concat(t.shortName,"_").concat(e):Object(o.isFunction)(e.serialize)?e.serialize():Object(o.isPlainObject)(e)&&!Object(o.isEmpty)(e)?new i.default(e).serialize():void 0}).filter(function(t){return t})}},{key:"set",value:function(t){return this.origValue=t,Object(o.isArray)(this.origValue)?h(p(e.prototype),"set",this).call(this,this.origValue):h(p(e.prototype),"set",this).call(this,[this.origValue])}}]),e}(),w=function(t){function e(t,n,r){var i;return y(this,e),(i=f(this,p(e).call(this,t,n,r))).process||(i.process=i.norm_range_value),i}return d(e,g),v(e,null,[{key:"norm_range_value",value:function(t){var e;return(e=String(t).match(new RegExp("^"+offset_any_pattern+"$")))&&(t=(e[1]||e[4])+(null!=e[5]?"p":"")),t}}]),e}(),E=function(t){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.identity;return y(this,e),f(this,p(e).call(this,t,n,r))}return d(e,g),v(e,[{key:"serialize",value:function(){return this.value()}}]),e}(),C=function(t){function e(){return y(this,e),f(this,p(e).apply(this,arguments))}return d(e,g),v(e,[{key:"value",value:function(){var t=this.origValue;return Object(o.isPlainObject)(t)?"text"===(t=Object(o.withCamelCaseKeys)(t)).resourceType||null!=t.text?new s.default(t).toString():"subtitles"===t.resourceType?new u.default(t).toString():"fetch"===t.resourceType||null!=t.url?new c.default(t).toString():new a.default(t).toString():Object(o.isString)(t)&&/^fetch:.+/.test(t)?new c.default(t.substr(6)).toString():t}},{key:"textStyle",value:function(t){return new s.default(t).textStyleIdentifier()}}]),e}(),S=function(t){function e(){return y(this,e),f(this,p(e).apply(this,arguments))}return d(e,g),v(e,[{key:"serialize",value:function(){return r.default.normalize(h(p(e.prototype),"serialize",this).call(this))}}]),e}()},"./src/tags/clienthintsmetatag.js":function(t,e,n){"use strict";n.r(e);var r=n("./src/tags/htmltag.js"),i=n("./src/util/lodash.js");function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}e.default=function(t){function e(t){return function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this,!(n=a(e).call(this,"meta",void 0,Object(i.assign)({"http-equiv":"Accept-CH",content:"DPR, Viewport-Width, Width"},t)))||"object"!==o(n)&&"function"!=typeof n?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(this):n;var n}var n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,r.default),(n=[{key:"closeTag",value:function(){return""}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),e}()},"./src/tags/htmltag.js":function(t,e,n){"use strict";n.r(e);var r=n("./src/util/lodash.js"),i=n("./src/transformation.js");function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return e?!0===e?t:"".concat(t,'="').concat(e,'"'):void 0}function s(t){return Object(r.isString)(t)?t.replace('"',"&#34;").replace("'","&#39;"):t}e.default=function(){function t(e,n,o){var a;!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this.name=e,this.publicId=n,null==o&&(Object(r.isPlainObject)(n)?(o=n,this.publicId=void 0):o={}),(a=new i.default(o)).setParent(this),this.transformation=function(){return a}}var e,n,u;return e=t,u=[{key:"new",value:function(t,e,n){return new this(t,e,n)}},{key:"isResponsive",value:function(t,e){var n;return n=Object(r.getData)(t,"src-cache")||Object(r.getData)(t,"src"),Object(r.hasClass)(t,e)&&/\bw_auto\b/.exec(n)}}],(n=[{key:"htmlAttrs",value:function(t){var e,n;return function(){var r;for(e in r=[],t)(n=s(t[e]))&&r.push(a(e,n));return r}().sort().join(" ")}},{key:"getOptions",value:function(){return this.transformation().toOptions()}},{key:"getOption",value:function(t){return this.transformation().getValue(t)}},{key:"attributes",value:function(){var t=this.transformation().toHtmlAttributes();return Object.keys(t).forEach(function(e){Object(r.isPlainObject)(t[e])&&delete t[e]}),t.attributes&&(Object(r.merge)(t,t.attributes),delete t.attributes),t}},{key:"setAttr",value:function(t,e){return this.transformation().set("html_".concat(t),e),this}},{key:"getAttr",value:function(t){return this.attributes()["html_".concat(t)]||this.attributes()[t]}},{key:"removeAttr",value:function(t){var e;return null!=(e=this.transformation().remove("html_".concat(t)))?e:this.transformation().remove(t)}},{key:"content",value:function(){return""}},{key:"openTag",value:function(){var t="<"+this.name,e=this.htmlAttrs(this.attributes());return e&&e.length>0&&(t+=" "+e),t+">"}},{key:"closeTag",value:function(){return"</".concat(this.name,">")}},{key:"toHtml",value:function(){return this.openTag()+this.content()+this.closeTag()}},{key:"toDOM",value:function(){var t,e,n;if(!Object(r.isFunction)("undefined"!=typeof document&&null!==document?document.createElement:void 0))throw"Can't create DOM if document is not present!";for(e in t=document.createElement(this.name),n=this.attributes())t.setAttribute(e,n[e]);return t}}])&&o(e.prototype,n),u&&o(e,u),t}()},"./src/tags/imagetag.js":function(t,e,n){"use strict";n.r(e);var r=n("./src/tags/htmltag.js"),i=n("./src/url.js"),o=n("./src/util/lodash.js"),a=n("./src/util/srcsetUtils.js");function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=c(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}e.default=function(t){function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this,!(n=c(e).call(this,"img",t,r))||"object"!==s(n)&&"function"!=typeof n?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(this):n}var n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,r.default),(n=[{key:"closeTag",value:function(){return""}},{key:"attributes",value:function(){var t,n,r;t=u(c(e.prototype),"attributes",this).call(this)||{},n=this.getOptions();var s=this.getOption("srcset"),l=this.getOption("attributes")||{},f={};return Object(o.isString)(s)?f.srcset=s:f=Object(a.generateImageResponsiveAttributes)(this.publicId,l,s,n),Object(o.isEmpty)(f)||(delete n.width,delete n.height),Object(o.merge)(t,f),null==t[r=n.responsive&&!n.client_hints?"data-src":"src"]&&(t[r]=Object(i.default)(this.publicId,this.getOptions())),t}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),e}()},"./src/tags/picturetag.js":function(t,e,n){"use strict";n.r(e);var r=n("./src/tags/htmltag.js"),i=n("./src/tags/imagetag.js"),o=n("./src/transformation.js"),a=n("./src/tags/sourcetag.js"),s=n("./src/util/lodash.js");function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e,n){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=l(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}e.default=function(t){function e(t){var n,r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2?arguments[2]:void 0;return function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),(this,r=l(e).call(this,"picture",t,i),n=!r||"object"!==u(r)&&"function"!=typeof r?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(this):r).widthList=o,n}var n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(e,r.default),(n=[{key:"content",value:function(){var t=this;return this.widthList.map(function(e){var n=e.min_width,r=e.max_width,i=e.transformation,u=t.getOptions(),c=new o.default(u);return c.chain().fromOptions("string"==typeof i?{raw_transformation:i}:i),(u=Object(s.extractUrlParams)(u)).media={min_width:n,max_width:r},u.transformation=c,new a.default(t.publicId,u).toHtml()}).join("")+new i.default(this.publicId,this.getOptions()).toHtml()}},{key:"attributes",value:function(){var t=c(l(e.prototype),"attributes",this).call(this);return delete t.width,delete t.height,t}},{key:"closeTag",value:function(){return"</"+this.name+">"}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),e}()},"./src/tags/sourcetag.js":function(t,e,n){"use strict";n.r(e);var r=n("./src/util/srcsetUtils.js"),i=n("./src/util/lodash.js"),o=n("./src/url.js"),a=n("./src/tags/htmltag.js");function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=c(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}e.default=function(t){function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this,!(n=c(e).call(this,"source",t,r))||"object"!==s(n)&&"function"!=typeof n?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(this):n}var n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,a.default),(n=[{key:"closeTag",value:function(){return""}},{key:"attributes",value:function(){var t=this.getOption("srcset"),n=u(c(e.prototype),"attributes",this).call(this)||{},a=this.getOptions();return Object(i.merge)(n,Object(r.generateImageResponsiveAttributes)(this.publicId,n,t,a)),n.srcset||(n.srcset=Object(o.default)(this.publicId,a)),!n.media&&a.media&&(n.media=Object(r.generateMediaAttr)(a.media)),n}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),e}()},"./src/tags/videotag.js":function(t,e,n){"use strict";n.r(e);var r=n("./src/constants.js"),i=n("./src/url.js"),o=n("./src/util/lodash.js"),a=n("./src/tags/htmltag.js");function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=c(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var f=["source_types","source_transformation","fallback_content","poster"],h={format:"jpg",resource_type:"video"};e.default=function(t){function e(t){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),i=Object(o.defaults)({},i,r.DEFAULT_VIDEO_PARAMS),this,!(n=c(e).call(this,"video",t.replace(/\.(mp4|ogv|webm)$/,""),i))||"object"!==s(n)&&"function"!=typeof n?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(this):n}var n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,a.default),(n=[{key:"setSourceTransformation",value:function(t){return this.transformation().sourceTransformation(t),this}},{key:"setSourceTypes",value:function(t){return this.transformation().sourceTypes(t),this}},{key:"setPoster",value:function(t){return this.transformation().poster(t),this}},{key:"setFallbackContent",value:function(t){return this.transformation().fallbackContent(t),this}},{key:"content",value:function(){var t,e,n,r,a,s,u;if(r=this.transformation().getValue("source_types"),n=this.transformation().getValue("source_transformation"),t=this.transformation().getValue("fallback_content"),Object(o.isArray)(r)){var c=this.getOptions();e=(function(){var t,e,l;for(l=[],t=0,e=r.length;t<e;t++)u=n[s=r[t]]||{},a=Object(i.default)("".concat(this.publicId),Object(o.defaults)({},u,{resource_type:"video",format:s},c)),l.push("<source ".concat(this.htmlAttrs({src:a,type:"video/"+("ogv"===s?"ogg":s)}),">"));return l}).call(this)}else e=[];return e.join("")+t}},{key:"attributes",value:function(){var t,n,a,s,l,p,d,y,m;for(m=this.getOption("source_types"),p=null!=(d=this.getOption("poster"))?d:{},Object(o.isPlainObject)(p)&&(a=null!=p.public_id?r.DEFAULT_IMAGE_PARAMS:h,p=Object(i.default)(null!=(y=p.public_id)?y:this.publicId,Object(o.defaults)({},p,a,this.getOptions()))),s=0,l=(n=u(c(e.prototype),"attributes",this).call(this)||[]).length;s<l;s++)t=n[s],Object(o.contains)(f)||(n=t);return Object(o.isArray)(m)||(n.src=Object(i.default)(this.publicId,this.getOptions(),{resource_type:"video",format:m})),null!=p&&(n.poster=p),n}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),e}()},"./src/transformation.js":function(t,e,n){"use strict";n.r(e);var r=n("./src/expression.js"),i=n("./src/condition.js"),o=n("./src/configuration.js"),a=n("./src/util/lodash.js"),s=n("./src/parameters.js");function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function d(t,e,n){return e&&p(t.prototype,e),n&&p(t,n),t}function y(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return n.forEach(function(e){Object.keys(e).forEach(function(n){null!=e[n]&&(t[n]=e[n])})}),t}var m=function(){function t(e){var n,r;h(this,t),n=void 0,r={},this.toOptions=function(t){var e={};if(null==t&&(t=!0),Object.keys(r).forEach(function(t){return e[t]=r[t].origValue}),y(e,this.otherOptions),t&&!Object(a.isEmpty)(this.chained)){var n=this.chained.map(function(t){return t.toOptions()});n.push(e),y(e={},this.otherOptions),e.transformation=n}return e},this.setParent=function(t){return n=t,null!=t&&this.fromOptions("function"==typeof t.toOptions?t.toOptions():void 0),this},this.getParent=function(){return n},this.param=function(t,e,n,i,o){return null==o&&(o=Object(a.isFunction)(i)?i:a.identity),r[e]=new s.Param(e,n,o).set(t),this},this.rawParam=function(t,e,n,i){var o;return o=g(arguments),r[e]=new s.RawParam(e,n,o).set(t),this},this.rangeParam=function(t,e,n,i){var o;return o=g(arguments),r[e]=new s.RangeParam(e,n,o).set(t),this},this.arrayParam=function(t,e,n){var i,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:":";return i=g(arguments),r[e]=new s.ArrayParam(e,n,o,i).set(t),this},this.transformationParam=function(t,e,n){var i,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:".";return i=g(arguments),r[e]=new s.TransformationParam(e,n,o,i).set(t),this},this.layerParam=function(t,e,n){return r[e]=new s.LayerParam(e,n).set(t),this},this.getValue=function(t){var e=r[t]&&r[t].value();return null!=e?e:this.otherOptions[t]},this.get=function(t){return r[t]},this.remove=function(t){var e;switch(!1){case null==r[t]:return e=r[t],delete r[t],e.origValue;case null==this.otherOptions[t]:return e=this.otherOptions[t],delete this.otherOptions[t],e;default:return null}},this.keys=function(){var t;return function(){var e;for(t in e=[],r)null!=t&&e.push(t.match(v)?t:Object(a.snakeCase)(t));return e}().sort()},this.toPlainObject=function(){var t,e,n;for(e in t={},r)t[e]=r[e].value(),Object(a.isPlainObject)(t[e])&&(t[e]=Object(a.cloneDeep)(t[e]));return Object(a.isEmpty)(this.chained)||((n=this.chained.map(function(t){return t.toPlainObject()})).push(t),t={transformation:n}),t},this.chain=function(){var t;return 0!==Object.getOwnPropertyNames(r).length&&(t=new this.constructor(this.toOptions(!1)),this.resetTransformations(),this.chained.push(t)),this},this.resetTransformations=function(){return r={},this},this.otherOptions={},this.chained=[],this.fromOptions(e)}return d(t,[{key:"fromOptions",value:function(e){if(!Object(a.isEmpty)(e))if(e instanceof t)this.fromTransformation(e);else for(var n in e||(e={}),(Object(a.isString)(e)||Object(a.isArray)(e))&&(e={transformation:e}),(e=Object(a.cloneDeep)(e,function(e){if(e instanceof t)return new e.constructor(e.toOptions())})).if&&(this.set("if",e.if),delete e.if),e){var r=e[n];n.match(v)?"$attr"!==n&&this.set("variable",n,r):this.set(n,r)}return this}},{key:"fromTransformation",value:function(e){var n=this;return e instanceof t&&e.keys().forEach(function(t){return n.set(t,e.get(t).origValue)}),this}},{key:"set",value:function(t){var e;e=Object(a.camelCase)(t);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return Object(a.contains)(b.methods,e)?this[e].apply(this,r):this.otherOptions[t]=r[0],this}},{key:"hasLayer",value:function(){return this.getValue("overlay")||this.getValue("underlay")}},{key:"serialize",value:function(){var t,e,n,i,o,s,u,c,l,h,p,d,y,m,g,b,_;for(h=this.chained.map(function(t){return t.serialize()}),i=this.keys(),m=null!=(o=this.get("transformation"))?o.serialize():void 0,t=null!=(s=this.get("if"))?s.serialize():void 0,b=function(t){var e,n,i,o;if(Object(a.isArray)(t)){for(i=[],e=0,n=t.length;e<n;e++){var s=f(t[e],2);o=s[1],i.push("".concat(s[0],"_").concat(r.default.normalize(o)))}return i}return t}(null!=(u=this.get("variables"))?u.value():void 0),i=Object(a.difference)(i,["transformation","if","variables"]),_=[],d=[],e=0,n=i.length;e<n;e++)(p=i[e]).match(v)?_.push(p+"_"+r.default.normalize(null!=(c=this.get(p))?c.value():void 0)):d.push(null!=(l=this.get(p))?l.serialize():void 0);switch(!1){case!Object(a.isString)(m):d.push(m);break;case!Object(a.isArray)(m):h=h.concat(m)}return d=function(){var t,e,n;for(n=[],t=0,e=d.length;t<e;t++)g=d[t],(Object(a.isArray)(g)&&!Object(a.isEmpty)(g)||!Object(a.isArray)(g)&&g)&&n.push(g);return n}(),d=_.sort().concat(b).concat(d.sort()),"if_end"===t?d.push(t):Object(a.isEmpty)(t)||d.unshift(t),y=Object(a.compact)(d).join(this.param_separator),Object(a.isEmpty)(y)||h.push(y),Object(a.compact)(h).join(this.trans_separator)}},{key:"listNames",value:function(){return b.methods}},{key:"toHtmlAttributes",value:function(){var t,e,n,r,i,o,s,u,c=this;for(n in r={},this.otherOptions)s=this.otherOptions[n],Object(a.contains)(b.PARAM_NAMES,Object(a.snakeCase)(n))||(t=/^html_/.test(n)?n.slice(5):n,r[t]=s);return this.keys().forEach(function(t){/^html_/.test(t)&&(r[Object(a.camelCase)(t.slice(5))]=c.getValue(t))}),this.hasLayer()||this.getValue("angle")||Object(a.contains)(["fit","limit","lfill"],this.getValue("crop"))||(u=null!=(i=this.get("width"))?i.origValue:void 0,e=null!=(o=this.get("height"))?o.origValue:void 0,parseFloat(u)>=1&&null==r.width&&(r.width=u),parseFloat(e)>=1&&null==r.height&&(r.height=e)),r}},{key:"isValidParamName",value:function(t){return b.methods.indexOf(Object(a.camelCase)(t))>=0}},{key:"toHtml",value:function(){var t;return null!=(t=this.getParent())&&"function"==typeof t.toHtml?t.toHtml():void 0}},{key:"toString",value:function(){return this.serialize()}}]),t}(),v=/^\$[a-zA-Z0-9]+$/;function g(t){var e;return e=null!=t?t[t.length-1]:void 0,Object(a.isFunction)(e)?e:void 0}m.prototype.trans_separator="/",m.prototype.param_separator=",";var b=function(t){function e(t){return h(this,e),this,!(n=c(e).call(this,t))||"object"!==u(n)&&"function"!=typeof n?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(this):n;var n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,m),d(e,[{key:"angle",value:function(t){return this.arrayParam(t,"angle","a",".",r.default.normalize)}},{key:"audioCodec",value:function(t){return this.param(t,"audio_codec","ac")}},{key:"audioFrequency",value:function(t){return this.param(t,"audio_frequency","af")}},{key:"aspectRatio",value:function(t){return this.param(t,"aspect_ratio","ar",r.default.normalize)}},{key:"background",value:function(t){return this.param(t,"background","b",s.Param.norm_color)}},{key:"bitRate",value:function(t){return this.param(t,"bit_rate","br")}},{key:"border",value:function(t){return this.param(t,"border","bo",function(t){return Object(a.isPlainObject)(t)?(t=Object(a.assign)({},{color:"black",width:2},t),"".concat(t.width,"px_solid_").concat(s.Param.norm_color(t.color))):t})}},{key:"color",value:function(t){return this.param(t,"color","co",s.Param.norm_color)}},{key:"colorSpace",value:function(t){return this.param(t,"color_space","cs")}},{key:"crop",value:function(t){return this.param(t,"crop","c")}},{key:"defaultImage",value:function(t){return this.param(t,"default_image","d")}},{key:"delay",value:function(t){return this.param(t,"delay","dl")}},{key:"density",value:function(t){return this.param(t,"density","dn")}},{key:"duration",value:function(t){return this.rangeParam(t,"duration","du")}},{key:"dpr",value:function(t){return this.param(t,"dpr","dpr",function(t){return(null!=(t=t.toString())?t.match(/^\d+$/):void 0)?t+".0":r.default.normalize(t)})}},{key:"effect",value:function(t){return this.arrayParam(t,"effect","e",":",r.default.normalize)}},{key:"else",value:function(){return this.if("else")}},{key:"endIf",value:function(){return this.if("end")}},{key:"endOffset",value:function(t){return this.rangeParam(t,"end_offset","eo")}},{key:"fallbackContent",value:function(t){return this.param(t,"fallback_content")}},{key:"fetchFormat",value:function(t){return this.param(t,"fetch_format","f")}},{key:"format",value:function(t){return this.param(t,"format")}},{key:"flags",value:function(t){return this.arrayParam(t,"flags","fl",".")}},{key:"gravity",value:function(t){return this.param(t,"gravity","g")}},{key:"fps",value:function(t){return this.param(t,"fps","fps",function(t){return Object(a.isString)(t)?t:Object(a.isArray)(t)?t.join("-"):t})}},{key:"height",value:function(t){var e=this;return this.param(t,"height","h",function(){return e.getValue("crop")||e.getValue("overlay")||e.getValue("underlay")?r.default.normalize(t):null})}},{key:"htmlHeight",value:function(t){return this.param(t,"html_height")}},{key:"htmlWidth",value:function(t){return this.param(t,"html_width")}},{key:"if",value:function(){var t,n,r,o,a,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";switch(s){case"else":return this.chain(),this.param(s,"if","if");case"end":for(this.chain(),t=r=this.chained.length-1;r>=0&&"end"!==(n=this.chained[t].getValue("if"))&&(null==n||(o=e.new().if(n),this.chained[t].remove("if"),a=this.chained[t],this.chained[t]=e.new().transformation([o,a]),"else"===n));t=r+=-1);return this.param(s,"if","if");case"":return i.default.new().setParent(this);default:return this.param(s,"if","if",function(t){return i.default.new(t).toString()})}}},{key:"keyframeInterval",value:function(t){return this.param(t,"keyframe_interval","ki")}},{key:"offset",value:function(t){var e,n,r=f(Object(a.isFunction)(null!=t?t.split:void 0)?t.split(".."):Object(a.isArray)(t)?t:[null,null],2);if(e=r[1],null!=(n=r[0])&&this.startOffset(n),null!=e)return this.endOffset(e)}},{key:"opacity",value:function(t){return this.param(t,"opacity","o",r.default.normalize)}},{key:"overlay",value:function(t){return this.layerParam(t,"overlay","l")}},{key:"page",value:function(t){return this.param(t,"page","pg")}},{key:"poster",value:function(t){return this.param(t,"poster")}},{key:"prefix",value:function(t){return this.param(t,"prefix","p")}},{key:"quality",value:function(t){return this.param(t,"quality","q",r.default.normalize)}},{key:"radius",value:function(t){return this.arrayParam(t,"radius","r",":",r.default.normalize)}},{key:"rawTransformation",value:function(t){return this.rawParam(t,"raw_transformation")}},{key:"size",value:function(t){var e;if(Object(a.isFunction)(null!=t?t.split:void 0)){var n=f(t.split("x"),2);return e=n[1],this.width(n[0]),this.height(e)}}},{key:"sourceTypes",value:function(t){return this.param(t,"source_types")}},{key:"sourceTransformation",value:function(t){return this.param(t,"source_transformation")}},{key:"startOffset",value:function(t){return this.rangeParam(t,"start_offset","so")}},{key:"streamingProfile",value:function(t){return this.param(t,"streaming_profile","sp")}},{key:"transformation",value:function(t){return this.transformationParam(t,"transformation","t")}},{key:"underlay",value:function(t){return this.layerParam(t,"underlay","u")}},{key:"variable",value:function(t,e){return this.param(e,t,t)}},{key:"variables",value:function(t){return this.arrayParam(t,"variables")}},{key:"videoCodec",value:function(t){return this.param(t,"video_codec","vc",s.Param.process_video_params)}},{key:"videoSampling",value:function(t){return this.param(t,"video_sampling","vs")}},{key:"width",value:function(t){var e=this;return this.param(t,"width","w",function(){return e.getValue("crop")||e.getValue("overlay")||e.getValue("underlay")?r.default.normalize(t):null})}},{key:"x",value:function(t){return this.param(t,"x","x",r.default.normalize)}},{key:"y",value:function(t){return this.param(t,"y","y",r.default.normalize)}},{key:"zoom",value:function(t){return this.param(t,"zoom","z",r.default.normalize)}}],[{key:"new",value:function(t){return new e(t)}}]),e}();b.methods=["angle","audioCodec","audioFrequency","aspectRatio","background","bitRate","border","color","colorSpace","crop","defaultImage","delay","density","duration","dpr","effect","else","endIf","endOffset","fallbackContent","fetchFormat","format","flags","gravity","fps","height","htmlHeight","htmlWidth","if","keyframeInterval","offset","opacity","overlay","page","poster","prefix","quality","radius","rawTransformation","size","sourceTypes","sourceTransformation","startOffset","streamingProfile","transformation","underlay","variable","variables","videoCodec","videoSampling","width","x","y","zoom"],b.PARAM_NAMES=b.methods.map(a.snakeCase).concat(o.default.CONFIG_PARAMS),e.default=b},"./src/url.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return s});var r=n("./src/transformation.js"),i=n("./src/constants.js"),o=n("./src/util/lodash.js"),a=n("./src/crc32.js");function s(t){var e,n,s,u,c,l,f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},h=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t)return t;if(f instanceof r.default&&(f=f.toOptions()),"fetch"===(f=Object(o.defaults)({},f,h,i.DEFAULT_IMAGE_PARAMS)).type&&(f.fetch_format=f.fetch_format||f.format,t=function(t){var e;return t.match(/^https?:\//)||(e=document.location.protocol+"//"+document.location.host,"?"===t[0]?e+=document.location.pathname:"/"!==t[0]&&(e+=document.location.pathname.replace(/\/[^\/]*$/,"/")),t=e+t),t}(t)),u=new r.default(f).serialize(),!f.cloud_name)throw"Unknown cloud_name";if(t.search("/")>=0&&!t.match(/^v[0-9]+/)&&!t.match(/^https?:\//)&&!(null!=(n=f.version)?n.toString():void 0)&&(f.version=1),t.match(/^https?:/))"upload"===f.type||"asset"===f.type?c=t:t=encodeURIComponent(t).replace(/%3A/g,":").replace(/%2F/g,"/");else{try{t=decodeURIComponent(t)}catch(p){}if(t=encodeURIComponent(t).replace(/%3A/g,":").replace(/%2F/g,"/"),f.url_suffix){if(f.url_suffix.match(/[\.\/]/))throw"url_suffix should not include . or /";t=t+"/"+f.url_suffix}f.format&&(f.trust_public_id||(t=t.replace(/\.(jpg|png|gif|webp)$/,"")),t=t+"."+f.format)}return e=function(t,e){var n,r,o,s,u,c;return 0===(null!=(u=e.cloud_name)?u.indexOf("/"):void 0)?"/res"+e.cloud_name:(s="http://",n="",c="res",r=".cloudinary.com",o="/"+e.cloud_name,e.protocol&&(s=e.protocol+"//"),e.private_cdn&&(n=e.cloud_name+"-",o=""),e.cdn_subdomain&&(c="res-"+function(t){return Object(a.default)(t)%5+1}(t)),e.secure?(s="https://",!1===e.secure_cdn_subdomain&&(c="res"),null!=e.secure_distribution&&e.secure_distribution!==i.OLD_AKAMAI_SHARED_CDN&&e.secure_distribution!==i.SHARED_CDN&&(n="",c="",r=e.secure_distribution)):e.cname&&(s="http://",n="",c=e.cdn_subdomain?"a"+(Object(a.default)(t)%5+1)+".":"",r=e.cname),[s,n,c,r,o].join(""))}(t,f),s=function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"image",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"upload",r=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0;if(e=null==e?"image":e,n=null==n?"upload":n,Object(o.isPlainObject)(e)&&(e=(t=e).resource_type,n=t.type,r=t.url_suffix,a=t.use_root_path,s=t.shorten),null==n&&(n="upload"),null!=r&&(e=i.SEO_TYPES["".concat(e,"/").concat(n)],n=null,null==e))throw new Error("URL Suffix only supported for ".concat(Object.keys(i.SEO_TYPES).join(", ")));if(a){if(("image"!==e||"upload"!==n)&&"images"!==e)throw new Error("Root path only supported for image/upload");e=null,n=null}return s&&"image"===e&&"upload"===n&&(e="iu",n=null),[e,n].join("/")}(f.resource_type,f.type,f.url_suffix,f.use_root_path,f.shorten),l=f.version?"v"+f.version:"",c||Object(o.compact)([e,s,u,l,t]).join("/").replace(/([^:])\/+/g,"$1/")}},"./src/utf8_encode.js":function(t,e,n){"use strict";n.r(e),e.default=function(t){var e,n,r,i,o,a,s,u;if(null==t)return"";for(u="",o=void 0,r=void 0,o=r=0,s=(a=t+"").length,i=0;i<s;)n=null,(e=a.charCodeAt(i))<128?r++:n=e>127&&e<2048?String.fromCharCode(e>>6|192,63&e|128):String.fromCharCode(e>>12|224,e>>6&63|128,63&e|128),null!==n&&(r>o&&(u+=a.slice(o,r)),u+=n,o=r=i+1),i++;return r>o&&(u+=a.slice(o,s)),u}},"./src/util/baseutil.js":function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}n.r(e),n.d(e,"allStrings",function(){return i}),n.d(e,"without",function(){return o}),n.d(e,"isNumberLike",function(){return a}),n.d(e,"smartEscape",function(){return s}),n.d(e,"defaults",function(){return u}),n.d(e,"objectProto",function(){return c}),n.d(e,"objToString",function(){return l}),n.d(e,"isObject",function(){return f}),n.d(e,"funcTag",function(){return h}),n.d(e,"isFunction",function(){return p}),n.d(e,"reWords",function(){return d}),n.d(e,"camelCase",function(){return y}),n.d(e,"snakeCase",function(){return m}),n.d(e,"convertKeys",function(){return v}),n.d(e,"withCamelCaseKeys",function(){return g}),n.d(e,"withSnakeCaseKeys",function(){return b}),n.d(e,"base64Encode",function(){return _}),n.d(e,"base64EncodeURL",function(){return w}),n.d(e,"extractUrlParams",function(){return C}),n.d(e,"patchFetchFormat",function(){return S}),n.d(e,"optionConsume",function(){return D}),n.d(e,"isEmpty",function(){return O});var i=function(t){return t.length&&t.every(function(t){return"string"==typeof t})},o=function(t,e){return t.filter(function(t){return t!==e})},a=function(t){return null!=t&&!isNaN(parseFloat(t))},s=function(t){return t.replace(arguments.length>1&&void 0!==arguments[1]?arguments[1]:/([^a-zA-Z0-9_.\-\/:]+)/g,function(t){return t.split("").map(function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()}).join("")})},u=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return n.reduce(function(t,e){var n;for(n in e)void 0===t[n]&&(t[n]=e[n]);return t},t)},c=Object.prototype,l=c.toString,f=function(t){var e;return e=r(t),!!t&&("object"===e||"function"===e)},h="[object Function]",p=function(t){return f(t)&&l.call(t)===h},d=RegExp("[A-Z]+(?=[A-Z][a-z]+)|[A-Z]?[a-z]+|[A-Z]+|[0-9]+","g"),y=function(t){var e=t.match(d);return(e=e.map(function(t){return t.charAt(0).toLocaleUpperCase()+t.slice(1).toLocaleLowerCase()}))[0]=e[0].toLocaleLowerCase(),e.join("")},m=function(t){var e=t.match(d);return(e=e.map(function(t){return t.toLocaleLowerCase()})).join("_")},v=function(t,e){var n,r;for(var i in n={},t)r=t[i],e&&(i=e(i)),O(i)||(n[i]=r);return n},g=function(t){return v(t,y)},b=function(t){return v(t,m)},_="undefined"!=typeof btoa&&p(btoa)?btoa:"undefined"!=typeof Buffer&&p(Buffer)?function(t){return t instanceof Buffer||(t=new Buffer.from(String(t),"binary")),t.toString("base64")}:function(t){throw new Error("No base64 encoding function found")},w=function(t){try{t=decodeURI(t)}finally{t=encodeURI(t)}return _(t)},E=["api_secret","auth_token","cdn_subdomain","cloud_name","cname","format","private_cdn","resource_type","secure","secure_cdn_subdomain","secure_distribution","shorten","sign_url","ssl_detected","type","url_suffix","use_root_path","version"];function C(t){return E.reduce(function(e,n){return null!=t[n]&&(e[n]=t[n]),e},{})}function S(t){null==t&&(t={}),"fetch"===t.type&&null==t.fetch_format&&(t.fetch_format=D(t,"format"))}function D(t,e,n){var r=t[e];return delete t[e],null!=r?r:n}function O(t){if(null==t)return!0;if("number"==typeof t.length)return 0===t.length;if("number"==typeof t.size)return 0===t.size;if("object"==r(t)){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}return!0}},"./src/util/generateBreakpoints.js":function(t,e,n){"use strict";function r(t){var e=t.breakpoints||[];if(e.length)return e;var n,r=(3,function(t){if(Array.isArray(t))return t}(n=[t.min_width,t.max_width,t.max_images].map(Number))||function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),3!==n.length);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()),i=r[0],o=r[1],a=r[2];if([i,o,a].some(isNaN))throw"Either (min_width, max_width, max_images) or breakpoints must be provided to the image srcset attribute";if(i>o)throw"min_width must be less than max_width";if(a<=0)throw"max_images must be a positive integer";1===a&&(i=o);for(var s=Math.ceil((o-i)/Math.max(a-1,1)),u=i;u<o;u+=s)e.push(u);return e.push(o),e}n.r(e),n.d(e,"default",function(){return r})},"./src/util/lodash.js":function(t,e,n){"use strict";n.r(e),n.d(e,"getData",function(){return x}),n.d(e,"setData",function(){return k}),n.d(e,"getAttribute",function(){return R}),n.d(e,"setAttribute",function(){return P}),n.d(e,"removeAttribute",function(){return N}),n.d(e,"setAttributes",function(){return j}),n.d(e,"hasClass",function(){return M}),n.d(e,"addClass",function(){return F}),n.d(e,"getStyles",function(){return L}),n.d(e,"cssExpand",function(){return B}),n.d(e,"domStyle",function(){return V}),n.d(e,"curCSS",function(){return U}),n.d(e,"cssValue",function(){return q}),n.d(e,"augmentWidthOrHeight",function(){return z}),n.d(e,"getWidthOrHeight",function(){return Q}),n.d(e,"width",function(){return K});var r=n("lodash/assign"),i=n.n(r);n.d(e,"assign",function(){return i.a});var o=n("lodash/cloneDeep"),a=n.n(o);n.d(e,"cloneDeep",function(){return a.a});var s=n("lodash/compact"),u=n.n(s);n.d(e,"compact",function(){return u.a});var c=n("lodash/difference"),l=n.n(c);n.d(e,"difference",function(){return l.a});var f=n("lodash/functions"),h=n.n(f);n.d(e,"functions",function(){return h.a});var p=n("lodash/identity"),d=n.n(p);n.d(e,"identity",function(){return d.a});var y=n("lodash/includes"),m=n.n(y);n.d(e,"includes",function(){return m.a});var v=n("lodash/isArray"),g=n.n(v);n.d(e,"isArray",function(){return g.a});var b=n("lodash/isPlainObject"),_=n.n(b);n.d(e,"isPlainObject",function(){return _.a});var w=n("lodash/isString"),E=n.n(w);n.d(e,"isString",function(){return E.a});var C=n("lodash/merge"),S=n.n(C);n.d(e,"merge",function(){return S.a}),n.d(e,"contains",function(){return m.a});var D=n("lodash/isElement");n.d(e,"isElement",function(){return D});var O=n("lodash/isFunction");n.d(e,"isFunction",function(){return O});var T=n("lodash/trim");n.d(e,"trim",function(){return T});var A,I=n("./src/util/baseutil.js");n.d(e,"allStrings",function(){return I.allStrings}),n.d(e,"without",function(){return I.without}),n.d(e,"isNumberLike",function(){return I.isNumberLike}),n.d(e,"smartEscape",function(){return I.smartEscape}),n.d(e,"defaults",function(){return I.defaults}),n.d(e,"objectProto",function(){return I.objectProto}),n.d(e,"objToString",function(){return I.objToString}),n.d(e,"isObject",function(){return I.isObject}),n.d(e,"funcTag",function(){return I.funcTag}),n.d(e,"reWords",function(){return I.reWords}),n.d(e,"camelCase",function(){return I.camelCase}),n.d(e,"snakeCase",function(){return I.snakeCase}),n.d(e,"convertKeys",function(){return I.convertKeys}),n.d(e,"withCamelCaseKeys",function(){return I.withCamelCaseKeys}),n.d(e,"withSnakeCaseKeys",function(){return I.withSnakeCaseKeys}),n.d(e,"base64Encode",function(){return I.base64Encode}),n.d(e,"base64EncodeURL",function(){return I.base64EncodeURL}),n.d(e,"extractUrlParams",function(){return I.extractUrlParams}),n.d(e,"patchFetchFormat",function(){return I.patchFetchFormat}),n.d(e,"optionConsume",function(){return I.optionConsume}),n.d(e,"isEmpty",function(){return I.isEmpty});var x=function(t,e){switch(!1){case!(null==t):return;case!O(t.getAttribute):return t.getAttribute("data-".concat(e));case!O(t.getAttr):return t.getAttr("data-".concat(e));case!O(t.data):return t.data(e);case!(O("undefined"!=typeof jQuery&&jQuery.fn&&jQuery.fn.data)&&D(t)):return jQuery(t).data(e)}},k=function(t,e,n){switch(!1){case!(null==t):return;case!O(t.setAttribute):return t.setAttribute("data-".concat(e),n);case!O(t.setAttr):return t.setAttr("data-".concat(e),n);case!O(t.data):return t.data(e,n);case!(O("undefined"!=typeof jQuery&&jQuery.fn&&jQuery.fn.data)&&D(t)):return jQuery(t).data(e,n)}},R=function(t,e){switch(!1){case!(null==t):return;case!O(t.getAttribute):return t.getAttribute(e);case!O(t.attr):return t.attr(e);case!O(t.getAttr):return t.getAttr(e)}},P=function(t,e,n){switch(!1){case!(null==t):return;case!O(t.setAttribute):return t.setAttribute(e,n);case!O(t.attr):return t.attr(e,n);case!O(t.setAttr):return t.setAttr(e,n)}},N=function(t,e){switch(!1){case!(null==t):return;case!O(t.removeAttribute):return t.removeAttribute(e);default:return P(t,void 0)}},j=function(t,e){var n,r,i;for(n in r=[],e)r.push(null!=(i=e[n])?P(t,n,i):N(t,n));return r},M=function(t,e){if(D(t))return t.className.match(new RegExp("\\b".concat(e,"\\b")))},F=function(t,e){if(!t.className.match(new RegExp("\\b".concat(e,"\\b"))))return t.className=T("".concat(t.className," ").concat(e))},L=function(t){return t.ownerDocument.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):window.getComputedStyle(t,null)},B=["Top","Right","Bottom","Left"];A=function(t,e){var n;return t===(n=e&&e.parentNode)||!(!n||1!==n.nodeType||!(9===t.nodeType?t.documentElement:t).contains(n))};var V=function(t,e){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style)return t.style[e]},U=function(t,e,n){var r,i,o,a,s,u;return a=/^margin/,u=void 0,i=void 0,r=void 0,o=void 0,s=t.style,(n=n||L(t))&&(o=n.getPropertyValue(e)||n[e]),n&&(""!==o||A(t.ownerDocument,t)||(o=V(t,e)),H.test(o)&&a.test(e)&&(u=s.width,i=s.minWidth,r=s.maxWidth,s.minWidth=s.maxWidth=s.width=o,o=n.width,s.width=u,s.minWidth=i,s.maxWidth=r)),void 0!==o?o+"":o},q=function(t,e,n,r){var i;return i=U(t,e,r),n?parseFloat(i):i},z=function(t,e,n,r,i){var o,a,s,u,c;if(n===(r?"border":"content"))return 0;for(c=0,o=0,a=(u="width"===e?["Right","Left"]:["Top","Bottom"]).length;o<a;o++)s=u[o],"margin"===n&&(c+=q(t,n+s,!0,i)),r?("content"===n&&(c-=q(t,"padding".concat(s),!0,i)),"margin"!==n&&(c-=q(t,"border".concat(s,"Width"),!0,i))):(c+=q(t,"padding".concat(s),!0,i),"padding"!==n&&(c+=q(t,"border".concat(s,"Width"),!0,i)));return c},H=new RegExp("^("+/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source+")(?!px)[a-z%]+$","i"),Q=function(t,e,n){var r,i,o,a;if(a=!0,o="width"===e?t.offsetWidth:t.offsetHeight,i=L(t),r="border-box"===q(t,"boxSizing",!1,i),o<=0||null==o){if(((o=U(t,e,i))<0||null==o)&&(o=t.style[e]),H.test(o))return o;a=r&&o===t.style[e],o=parseFloat(o)||0}return o+z(t,e,n||(r?"border":"content"),a,i)},K=function(t){return Q(t,"width","content")}},"./src/util/srcsetUtils.js":function(t,e,n){"use strict";n.r(e),n.d(e,"scaledUrl",function(){return u}),n.d(e,"getOrGenerateBreakpoints",function(){return c}),n.d(e,"generateSrcsetAttribute",function(){return l}),n.d(e,"generateSizesAttribute",function(){return f}),n.d(e,"generateImageResponsiveAttributes",function(){return h}),n.d(e,"generateMediaAttr",function(){return p}),n.d(e,"srcsetUrl",function(){return d});var r=n("./src/util/lodash.js"),i=n("./src/util/generateBreakpoints.js"),o=n("./src/transformation.js"),a=n("./src/url.js"),s=r.isEmpty;function u(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=r.extractUrlParams(i);return s.raw_transformation=new o.default([r.merge({},n=n||i),{crop:"scale",width:e}]).toString(),Object(a.default)(t,s)}function c(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(i.default)(e)}function l(t,e,n,i){return i=r.cloneDeep(i),r.patchFetchFormat(i),e.map(function(e){return"".concat(u(t,e,n,i)," ").concat(e,"w")}).join(", ")}function f(t){return null==t?"":t.map(function(t){return"(max-width: ".concat(t,"px) ").concat(t,"px")}).join(", ")}function h(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i={};if(s(n))return i;var o=!e.sizes&&!0===n.sizes,a=!e.srcset;if(a||o){var u=c(t,n,r);if(a){var h=l(t,u,n.transformation,r);s(h)||(i.srcset=h)}if(o){var p=f(u);s(p)||(i.sizes=p)}}return i}function p(t){var e=[];return null!=t&&(null!=t.min_width&&e.push("(min-width: ".concat(t.min_width,"px)")),null!=t.max_width&&e.push("(max-width: ".concat(t.max_width,"px)"))),e.join(" and ")}var d=u},"lodash/assign":function(e,n){e.exports=t},"lodash/cloneDeep":function(t,n){t.exports=e},"lodash/compact":function(t,e){t.exports=n},"lodash/difference":function(t,e){t.exports=r},"lodash/functions":function(t,e){t.exports=i},"lodash/identity":function(t,e){t.exports=o},"lodash/includes":function(t,e){t.exports=a},"lodash/isArray":function(t,e){t.exports=s},"lodash/isElement":function(t,e){t.exports=u},"lodash/isFunction":function(t,e){t.exports=c},"lodash/isPlainObject":function(t,e){t.exports=l},"lodash/isString":function(t,e){t.exports=f},"lodash/merge":function(t,e){t.exports=h},"lodash/trim":function(t,e){t.exports=p}})},t.exports=r(n("3OWR"),n("BkRI"),n("wig9"),n("zqxM"),n("+yVr"),n("zZ0H"),n("ijCd"),n("Z0cm"),n("iP1z"),n("lSCD"),n("YO3V"),n("4qC0"),n("QkVN"),n("Zsd2"))},Gi0A:function(t,e,n){var r=n("QqLw"),i=n("ExA7");t.exports=function(t){return i(t)&&"[object Map]"==r(t)}},GoyQ:function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},H8j4:function(t,e,n){var r=n("QkVE");t.exports=function(t,e){var n=r(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}},HOxn:function(t,e,n){var r=n("Cwc5")(n("Kz5y"),"Promise");t.exports=r},Hvzi:function(t,e){t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},IUTb:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("6blF"),i=n("pugT"),o=n("+tJ4");function a(t,e){return new r.a(e?function(n){var r=new i.a,o=0;return r.add(e.schedule(function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()})),r}:Object(o.a)(t))}},Ioao:function(t,e,n){var r=n("heNW"),i=Math.max;t.exports=function(t,e,n){return e=i(void 0===e?t.length-1:e,0),function(){for(var o=arguments,a=-1,s=i(o.length-e,0),u=Array(s);++a<s;)u[a]=o[e+a];a=-1;for(var c=Array(e+1);++a<e;)c[a]=o[a];return c[e]=n(u),r(t,this,c)}}},Ip0R:function(t,e,n){"use strict";n.r(e),n.d(e,"\u0275angular_packages_common_common_e",function(){return Xt}),n.d(e,"\u0275angular_packages_common_common_d",function(){return Q}),n.d(e,"\u0275angular_packages_common_common_a",function(){return It}),n.d(e,"\u0275angular_packages_common_common_b",function(){return Pt}),n.d(e,"\u0275angular_packages_common_common_g",function(){return we}),n.d(e,"\u0275angular_packages_common_common_f",function(){return ze}),n.d(e,"\u0275registerLocaleData",function(){return m}),n.d(e,"registerLocaleData",function(){return m}),n.d(e,"formatDate",function(){return et}),n.d(e,"formatCurrency",function(){return St}),n.d(e,"formatNumber",function(){return Ot}),n.d(e,"formatPercent",function(){return Dt}),n.d(e,"NgLocaleLocalization",function(){return Rt}),n.d(e,"NgLocalization",function(){return xt}),n.d(e,"Plural",function(){return b}),n.d(e,"NumberFormatStyle",function(){return g}),n.d(e,"FormStyle",function(){return _}),n.d(e,"TranslationWidth",function(){return w}),n.d(e,"FormatWidth",function(){return E}),n.d(e,"NumberSymbol",function(){return C}),n.d(e,"WeekDay",function(){return S}),n.d(e,"getNumberOfCurrencyDigits",function(){return W}),n.d(e,"getCurrencySymbol",function(){return K}),n.d(e,"getLocaleDayPeriods",function(){return O}),n.d(e,"getLocaleDayNames",function(){return T}),n.d(e,"getLocaleMonthNames",function(){return A}),n.d(e,"getLocaleId",function(){return D}),n.d(e,"getLocaleEraNames",function(){return I}),n.d(e,"getLocaleWeekEndRange",function(){return k}),n.d(e,"getLocaleFirstDayOfWeek",function(){return x}),n.d(e,"getLocaleDateFormat",function(){return R}),n.d(e,"getLocaleDateTimeFormat",function(){return N}),n.d(e,"getLocaleExtraDayPeriodRules",function(){return U}),n.d(e,"getLocaleExtraDayPeriods",function(){return q}),n.d(e,"getLocalePluralCase",function(){return B}),n.d(e,"getLocaleTimeFormat",function(){return P}),n.d(e,"getLocaleNumberSymbol",function(){return j}),n.d(e,"getLocaleNumberFormat",function(){return M}),n.d(e,"getLocaleCurrencyName",function(){return L}),n.d(e,"getLocaleCurrencySymbol",function(){return F}),n.d(e,"\u0275parseCookieValue",function(){return Nt}),n.d(e,"CommonModule",function(){return He}),n.d(e,"DeprecatedI18NPipesModule",function(){return Qe}),n.d(e,"NgClass",function(){return jt}),n.d(e,"NgForOf",function(){return Lt}),n.d(e,"NgForOfContext",function(){return Ft}),n.d(e,"NgIf",function(){return Vt}),n.d(e,"NgIfContext",function(){return Ut}),n.d(e,"NgPlural",function(){return Gt}),n.d(e,"NgPluralCase",function(){return Wt}),n.d(e,"NgStyle",function(){return Yt}),n.d(e,"NgSwitch",function(){return Ht}),n.d(e,"NgSwitchCase",function(){return Qt}),n.d(e,"NgSwitchDefault",function(){return Kt}),n.d(e,"NgTemplateOutlet",function(){return Zt}),n.d(e,"NgComponentOutlet",function(){return Mt}),n.d(e,"DOCUMENT",function(){return Ke}),n.d(e,"AsyncPipe",function(){return De}),n.d(e,"DatePipe",function(){return xe}),n.d(e,"I18nPluralPipe",function(){return Re}),n.d(e,"I18nSelectPipe",function(){return Pe}),n.d(e,"JsonPipe",function(){return Ne}),n.d(e,"LowerCasePipe",function(){return Oe}),n.d(e,"CurrencyPipe",function(){return Be}),n.d(e,"DecimalPipe",function(){return Fe}),n.d(e,"PercentPipe",function(){return Le}),n.d(e,"SlicePipe",function(){return qe}),n.d(e,"UpperCasePipe",function(){return Ie}),n.d(e,"TitleCasePipe",function(){return Ae}),n.d(e,"KeyValuePipe",function(){return je}),n.d(e,"DeprecatedDatePipe",function(){return ye}),n.d(e,"DeprecatedCurrencyPipe",function(){return _e}),n.d(e,"DeprecatedDecimalPipe",function(){return ge}),n.d(e,"DeprecatedPercentPipe",function(){return be}),n.d(e,"\u0275PLATFORM_BROWSER_ID",function(){return Ge}),n.d(e,"\u0275PLATFORM_SERVER_ID",function(){return We}),n.d(e,"\u0275PLATFORM_WORKER_APP_ID",function(){return Ye}),n.d(e,"\u0275PLATFORM_WORKER_UI_ID",function(){return Ze}),n.d(e,"isPlatformBrowser",function(){return Xe}),n.d(e,"isPlatformServer",function(){return Je}),n.d(e,"isPlatformWorkerApp",function(){return $e}),n.d(e,"isPlatformWorkerUi",function(){return tn}),n.d(e,"VERSION",function(){return en}),n.d(e,"ViewportScroller",function(){return nn}),n.d(e,"\u0275NullViewportScroller",function(){return on}),n.d(e,"PlatformLocation",function(){return o}),n.d(e,"LOCATION_INITIALIZED",function(){return a}),n.d(e,"LocationStrategy",function(){return s}),n.d(e,"APP_BASE_HREF",function(){return u}),n.d(e,"HashLocationStrategy",function(){return f}),n.d(e,"PathLocationStrategy",function(){return h}),n.d(e,"Location",function(){return c});var r=n("CcnG"),i=n("mrSG"),o=function(){return function(){}}(),a=new r.InjectionToken("Location Initialized"),s=function(){return function(){}}(),u=new r.InjectionToken("appBaseHref"),c=function(){function t(t){var n=this;this._subject=new r.EventEmitter,this._platformStrategy=t;var i=this._platformStrategy.getBaseHref();this._baseHref=e.stripTrailingSlash(l(i)),this._platformStrategy.onPopState(function(t){n._subject.emit({url:n.path(!0),pop:!0,state:t.state,type:t.type})})}var e;return e=t,t.prototype.path=function(t){return void 0===t&&(t=!1),this.normalize(this._platformStrategy.path(t))},t.prototype.isCurrentPathEqualTo=function(t,n){return void 0===n&&(n=""),this.path()==this.normalize(t+e.normalizeQueryParams(n))},t.prototype.normalize=function(t){return e.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,l(t)))},t.prototype.prepareExternalUrl=function(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)},t.prototype.go=function(t,e,n){void 0===e&&(e=""),void 0===n&&(n=null),this._platformStrategy.pushState(n,"",t,e)},t.prototype.replaceState=function(t,e,n){void 0===e&&(e=""),void 0===n&&(n=null),this._platformStrategy.replaceState(n,"",t,e)},t.prototype.forward=function(){this._platformStrategy.forward()},t.prototype.back=function(){this._platformStrategy.back()},t.prototype.subscribe=function(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})},t.normalizeQueryParams=function(t){return t&&"?"!==t[0]?"?"+t:t},t.joinWithSlash=function(t,e){if(0==t.length)return e;if(0==e.length)return t;var n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e},t.stripTrailingSlash=function(t){var e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)},t}();function l(t){return t.replace(/\/index.html$/,"")}var f=function(t){function e(e,n){var r=t.call(this)||this;return r._platformLocation=e,r._baseHref="",null!=n&&(r._baseHref=n),r}return Object(i.__extends)(e,t),e.prototype.onPopState=function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)},e.prototype.getBaseHref=function(){return this._baseHref},e.prototype.path=function(t){void 0===t&&(t=!1);var e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e},e.prototype.prepareExternalUrl=function(t){var e=c.joinWithSlash(this._baseHref,t);return e.length>0?"#"+e:e},e.prototype.pushState=function(t,e,n,r){var i=this.prepareExternalUrl(n+c.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)},e.prototype.replaceState=function(t,e,n,r){var i=this.prepareExternalUrl(n+c.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)},e.prototype.forward=function(){this._platformLocation.forward()},e.prototype.back=function(){this._platformLocation.back()},e}(s),h=function(t){function e(e,n){var r=t.call(this)||this;if(r._platformLocation=e,null==n&&(n=r._platformLocation.getBaseHrefFromDOM()),null==n)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return r._baseHref=n,r}return Object(i.__extends)(e,t),e.prototype.onPopState=function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)},e.prototype.getBaseHref=function(){return this._baseHref},e.prototype.prepareExternalUrl=function(t){return c.joinWithSlash(this._baseHref,t)},e.prototype.path=function(t){void 0===t&&(t=!1);var e=this._platformLocation.pathname+c.normalizeQueryParams(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?""+e+n:e},e.prototype.pushState=function(t,e,n,r){var i=this.prepareExternalUrl(n+c.normalizeQueryParams(r));this._platformLocation.pushState(t,e,i)},e.prototype.replaceState=function(t,e,n,r){var i=this.prepareExternalUrl(n+c.normalizeQueryParams(r));this._platformLocation.replaceState(t,e,i)},e.prototype.forward=function(){this._platformLocation.forward()},e.prototype.back=function(){this._platformLocation.back()},e}(s),p=void 0,d=["en",[["a","p"],["AM","PM"],p],[["AM","PM"],p,p],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],p,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],p,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",p,"{1} 'at' {0}",p],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"$","US Dollar",{},function(t){var e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}],y={};function m(t,e,n){"string"!=typeof e&&(n=e,e=t[0]),e=e.toLowerCase().replace(/_/g,"-"),y[e]=t,n&&(y[e][19]=n)}var v={ADP:[void 0,void 0,0],AFN:[void 0,void 0,0],ALL:[void 0,void 0,0],AMD:[void 0,void 0,0],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",0],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",0],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",0],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",0],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",0],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:[void 0,"\u20b1"],PKR:[void 0,"Rs",0],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,0],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UZS:[void 0,void 0,0],VEF:[void 0,"Bs"],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["CFA",void 0,0],XPF:["CFPF",void 0,0],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},g=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}({}),b=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({}),_=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}({}),w=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}({}),E=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}({}),C=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t[1/0]=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}({}),S=function(t){return t[t.Sunday=0]="Sunday",t[t.Monday=1]="Monday",t[t.Tuesday=2]="Tuesday",t[t.Wednesday=3]="Wednesday",t[t.Thursday=4]="Thursday",t[t.Friday=5]="Friday",t[t.Saturday=6]="Saturday",t}({});function D(t){return Q(t)[0]}function O(t,e,n){var r=Q(t),i=z([r[1],r[2]],e);return z(i,n)}function T(t,e,n){var r=Q(t),i=z([r[3],r[4]],e);return z(i,n)}function A(t,e,n){var r=Q(t),i=z([r[5],r[6]],e);return z(i,n)}function I(t,e){return z(Q(t)[7],e)}function x(t){return Q(t)[8]}function k(t){return Q(t)[9]}function R(t,e){return z(Q(t)[10],e)}function P(t,e){return z(Q(t)[11],e)}function N(t,e){return z(Q(t)[12],e)}function j(t,e){var n=Q(t),r=n[13][e];if(void 0===r){if(e===C.CurrencyDecimal)return n[13][C.Decimal];if(e===C.CurrencyGroup)return n[13][C.Group]}return r}function M(t,e){return Q(t)[14][e]}function F(t){return Q(t)[15]||null}function L(t){return Q(t)[16]||null}function B(t){return Q(t)[18]}function V(t){if(!t[19])throw new Error('Missing extra locale data for the locale "'+t[0]+'". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.')}function U(t){var e=Q(t);return V(e),(e[19][2]||[]).map(function(t){return"string"==typeof t?H(t):[H(t[0]),H(t[1])]})}function q(t,e,n){var r=Q(t);V(r);var i=z([r[19][0],r[19][1]],e)||[];return z(i,n)||[]}function z(t,e){for(var n=e;n>-1;n--)if(void 0!==t[n])return t[n];throw new Error("Locale data API: locale data undefined")}function H(t){var e=Object(i.__read)(t.split(":"),2);return{hours:+e[0],minutes:+e[1]}}function Q(t){var e=t.toLowerCase().replace(/_/g,"-"),n=y[e];if(n)return n;var r=e.split("-")[0];if(n=y[r])return n;if("en"===r)return d;throw new Error('Missing locale data for the locale "'+t+'".')}function K(t,e,n){void 0===n&&(n="en");var r=function(t){return Q(t)[17]}(n)[t]||v[t]||[],i=r[1];return"narrow"===e&&"string"==typeof i?i:r[0]||t}var G=2;function W(t){var e,n=v[t];return n&&(e=n[2]),"number"==typeof e?e:G}var Y=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Z={},X=/((?:[^GyMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,J=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}({}),$=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}({}),tt=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}({});function et(t,e,n,r){var o=function(t){if(pt(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){t=t.trim();var e,n=parseFloat(t);if(!isNaN(t-n))return new Date(n);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(t)){var r=Object(i.__read)(t.split("-").map(function(t){return+t}),3);return new Date(r[0],r[1]-1,r[2])}if(e=t.match(Y))return ht(e)}var o=new Date(t);if(!pt(o))throw new Error('Unable to convert "'+t+'" into a date');return o}(t);e=function t(e,n){var r=D(e);if(Z[r]=Z[r]||{},Z[r][n])return Z[r][n];var i="";switch(n){case"shortDate":i=R(e,E.Short);break;case"mediumDate":i=R(e,E.Medium);break;case"longDate":i=R(e,E.Long);break;case"fullDate":i=R(e,E.Full);break;case"shortTime":i=P(e,E.Short);break;case"mediumTime":i=P(e,E.Medium);break;case"longTime":i=P(e,E.Long);break;case"fullTime":i=P(e,E.Full);break;case"short":var o=t(e,"shortTime"),a=t(e,"shortDate");i=nt(N(e,E.Short),[o,a]);break;case"medium":var s=t(e,"mediumTime"),u=t(e,"mediumDate");i=nt(N(e,E.Medium),[s,u]);break;case"long":var c=t(e,"longTime"),l=t(e,"longDate");i=nt(N(e,E.Long),[c,l]);break;case"full":var f=t(e,"fullTime"),h=t(e,"fullDate");i=nt(N(e,E.Full),[f,h])}return i&&(Z[r][n]=i),i}(n,e)||e;for(var a,s=[];e;){if(!(a=X.exec(e))){s.push(e);break}var u=(s=s.concat(a.slice(1))).pop();if(!u)break;e=u}var c=o.getTimezoneOffset();r&&(c=ft(r,c),o=function(t,e,n){var r=t.getTimezoneOffset();return function(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,-1*(ft(e,r)-r))}(o,r));var l="";return s.forEach(function(t){var e=function(t){if(lt[t])return lt[t];var e;switch(t){case"G":case"GG":case"GGG":e=ot(tt.Eras,w.Abbreviated);break;case"GGGG":e=ot(tt.Eras,w.Wide);break;case"GGGGG":e=ot(tt.Eras,w.Narrow);break;case"y":e=it($.FullYear,1,0,!1,!0);break;case"yy":e=it($.FullYear,2,0,!0,!0);break;case"yyy":e=it($.FullYear,3,0,!1,!0);break;case"yyyy":e=it($.FullYear,4,0,!1,!0);break;case"M":case"L":e=it($.Month,1,1);break;case"MM":case"LL":e=it($.Month,2,1);break;case"MMM":e=ot(tt.Months,w.Abbreviated);break;case"MMMM":e=ot(tt.Months,w.Wide);break;case"MMMMM":e=ot(tt.Months,w.Narrow);break;case"LLL":e=ot(tt.Months,w.Abbreviated,_.Standalone);break;case"LLLL":e=ot(tt.Months,w.Wide,_.Standalone);break;case"LLLLL":e=ot(tt.Months,w.Narrow,_.Standalone);break;case"w":e=ct(1);break;case"ww":e=ct(2);break;case"W":e=ct(1,!0);break;case"d":e=it($.Date,1);break;case"dd":e=it($.Date,2);break;case"E":case"EE":case"EEE":e=ot(tt.Days,w.Abbreviated);break;case"EEEE":e=ot(tt.Days,w.Wide);break;case"EEEEE":e=ot(tt.Days,w.Narrow);break;case"EEEEEE":e=ot(tt.Days,w.Short);break;case"a":case"aa":case"aaa":e=ot(tt.DayPeriods,w.Abbreviated);break;case"aaaa":e=ot(tt.DayPeriods,w.Wide);break;case"aaaaa":e=ot(tt.DayPeriods,w.Narrow);break;case"b":case"bb":case"bbb":e=ot(tt.DayPeriods,w.Abbreviated,_.Standalone,!0);break;case"bbbb":e=ot(tt.DayPeriods,w.Wide,_.Standalone,!0);break;case"bbbbb":e=ot(tt.DayPeriods,w.Narrow,_.Standalone,!0);break;case"B":case"BB":case"BBB":e=ot(tt.DayPeriods,w.Abbreviated,_.Format,!0);break;case"BBBB":e=ot(tt.DayPeriods,w.Wide,_.Format,!0);break;case"BBBBB":e=ot(tt.DayPeriods,w.Narrow,_.Format,!0);break;case"h":e=it($.Hours,1,-12);break;case"hh":e=it($.Hours,2,-12);break;case"H":e=it($.Hours,1);break;case"HH":e=it($.Hours,2);break;case"m":e=it($.Minutes,1);break;case"mm":e=it($.Minutes,2);break;case"s":e=it($.Seconds,1);break;case"ss":e=it($.Seconds,2);break;case"S":e=it($.FractionalSeconds,1);break;case"SS":e=it($.FractionalSeconds,2);break;case"SSS":e=it($.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=at(J.Short);break;case"ZZZZZ":e=at(J.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=at(J.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=at(J.Long);break;default:return null}return lt[t]=e,e}(t);l+=e?e(o,n,c):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function nt(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(t,n){return null!=e&&n in e?e[n]:t})),t}function rt(t,e,n,r,i){void 0===n&&(n="-");var o="";(t<0||i&&t<=0)&&(i?t=1-t:(t=-t,o=n));for(var a=String(t);a.length<e;)a="0"+a;return r&&(a=a.substr(a.length-e)),o+a}function it(t,e,n,r,i){return void 0===n&&(n=0),void 0===r&&(r=!1),void 0===i&&(i=!1),function(o,a){var s,u=function(t,e){switch(t){case $.FullYear:return e.getFullYear();case $.Month:return e.getMonth();case $.Date:return e.getDate();case $.Hours:return e.getHours();case $.Minutes:return e.getMinutes();case $.Seconds:return e.getSeconds();case $.FractionalSeconds:return e.getMilliseconds();case $.Day:return e.getDay();default:throw new Error('Unknown DateType value "'+t+'".')}}(t,o);if((n>0||u>-n)&&(u+=n),t===$.Hours)0===u&&-12===n&&(u=12);else if(t===$.FractionalSeconds)return s=e,rt(u,3).substr(0,s);var c=j(a,C.MinusSign);return rt(u,e,c,r,i)}}function ot(t,e,n,r){return void 0===n&&(n=_.Format),void 0===r&&(r=!1),function(i,o){return function(t,e,n,r,i,o){switch(n){case tt.Months:return A(e,i,r)[t.getMonth()];case tt.Days:return T(e,i,r)[t.getDay()];case tt.DayPeriods:var a=t.getHours(),s=t.getMinutes();if(o){var u,c=U(e),l=q(e,i,r);if(c.forEach(function(t,e){if(Array.isArray(t)){var n=t[0],r=t[1],i=r.hours;a>=n.hours&&s>=n.minutes&&(a<i||a===i&&s<r.minutes)&&(u=l[e])}else t.hours===a&&t.minutes===s&&(u=l[e])}),u)return u}return O(e,i,r)[a<12?0:1];case tt.Eras:return I(e,r)[t.getFullYear()<=0?0:1];default:throw new Error("unexpected translation type "+n)}}(i,o,t,e,n,r)}}function at(t){return function(e,n,r){var i=-1*r,o=j(n,C.MinusSign),a=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case J.Short:return(i>=0?"+":"")+rt(a,2,o)+rt(Math.abs(i%60),2,o);case J.ShortGMT:return"GMT"+(i>=0?"+":"")+rt(a,1,o);case J.Long:return"GMT"+(i>=0?"+":"")+rt(a,2,o)+":"+rt(Math.abs(i%60),2,o);case J.Extended:return 0===r?"Z":(i>=0?"+":"")+rt(a,2,o)+":"+rt(Math.abs(i%60),2,o);default:throw new Error('Unknown zone width "'+t+'"')}}}var st=0,ut=4;function ct(t,e){return void 0===e&&(e=!1),function(n,r){var i,o,a,s;if(e){var u=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,c=n.getDate();i=1+Math.floor((c+u)/7)}else{var l=(a=n.getFullYear(),s=new Date(a,st,1).getDay(),new Date(a,0,1+(s<=ut?ut:ut+7)-s)),f=(o=n,new Date(o.getFullYear(),o.getMonth(),o.getDate()+(ut-o.getDay()))).getTime()-l.getTime();i=1+Math.round(f/6048e5)}return rt(i,t,j(r,C.MinusSign))}}var lt={};function ft(t,e){t=t.replace(/:/g,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function ht(t){var e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));var a=Number(t[4]||0)-n,s=Number(t[5]||0)-r,u=Number(t[6]||0),c=Math.round(1e3*parseFloat("0."+(t[7]||0)));return o.call(e,a,s,u,c),e}function pt(t){return t instanceof Date&&!isNaN(t.valueOf())}var dt=/^(\d+)?\.((\d+)(-(\d+))?)?$/,yt=22,mt=".",vt="0",gt=";",bt=",",_t="#",wt="\xa4",Et="%";function Ct(t,e,n,r,i,o,a){void 0===a&&(a=!1);var s="",u=!1;if(isFinite(t)){var c=function(e){var n,r,i,o,a,s=Math.abs(t)+"",u=0;for((r=s.indexOf(mt))>-1&&(s=s.replace(mt,"")),(i=s.search(/e/i))>0?(r<0&&(r=i),r+=+s.slice(i+1),s=s.substring(0,i)):r<0&&(r=s.length),i=0;s.charAt(i)===vt;i++);if(i===(a=s.length))n=[0],r=1;else{for(a--;s.charAt(a)===vt;)a--;for(r-=i,n=[],o=0;i<=a;i++,o++)n[o]=Number(s.charAt(i))}return r>yt&&(n=n.splice(0,yt-1),u=r-1,r=1),{digits:n,exponent:u,integerLen:r}}();a&&(c=function(t){if(0===t.digits[0])return t;var e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2),t}(c));var l=e.minInt,f=e.minFrac,h=e.maxFrac;if(o){var p=o.match(dt);if(null===p)throw new Error(o+" is not a valid digit info");var d=p[1],y=p[3],m=p[5];null!=d&&(l=At(d)),null!=y&&(f=At(y)),null!=m?h=At(m):null!=y&&f>h&&(h=f)}!function(t,e,n){if(e>n)throw new Error("The minimum number of digits after fraction ("+e+") is higher than the maximum ("+n+").");var r=t.digits,i=r.length-t.integerLen,o=Math.min(Math.max(e,i),n),a=o+t.integerLen,s=r[a];if(a>0){r.splice(Math.max(t.integerLen,a));for(var u=a;u<r.length;u++)r[u]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,a=o+1),r[0]=0;for(var c=1;c<a;c++)r[c]=0}if(s>=5)if(a-1<0){for(var l=0;l>a;l--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[a-1]++;for(;i<Math.max(0,o);i++)r.push(0);var f=0!==o,h=e+t.integerLen,p=r.reduceRight(function(t,e,n,r){return r[n]=(e+=t)<10?e:e-10,f&&(0===r[n]&&n>=h?r.pop():f=!1),e>=10?1:0},0);p&&(r.unshift(p),t.integerLen++)}(c,f,h);var v=c.digits,g=c.integerLen,b=c.exponent,_=[];for(u=v.every(function(t){return!t});g<l;g++)v.unshift(0);for(;g<0;g++)v.unshift(0);g>0?_=v.splice(g,v.length):(_=v,v=[0]);var w=[];for(v.length>=e.lgSize&&w.unshift(v.splice(-e.lgSize,v.length).join(""));v.length>e.gSize;)w.unshift(v.splice(-e.gSize,v.length).join(""));v.length&&w.unshift(v.join("")),s=w.join(j(n,r)),_.length&&(s+=j(n,i)+_.join("")),b&&(s+=j(n,C.Exponential)+"+"+b)}else s=j(n,C.Infinity);return t<0&&!u?e.negPre+s+e.negSuf:e.posPre+s+e.posSuf}function St(t,e,n,r,i){var o=Tt(M(e,g.Currency),j(e,C.MinusSign));return o.minFrac=W(r),o.maxFrac=o.minFrac,Ct(t,o,e,C.CurrencyGroup,C.CurrencyDecimal,i).replace(wt,n).replace(wt,"")}function Dt(t,e,n){return Ct(t,Tt(M(e,g.Percent),j(e,C.MinusSign)),e,C.Group,C.Decimal,n,!0).replace(new RegExp(Et,"g"),j(e,C.PercentSign))}function Ot(t,e,n){return Ct(t,Tt(M(e,g.Decimal),j(e,C.MinusSign)),e,C.Group,C.Decimal,n)}function Tt(t,e){void 0===e&&(e="-");var n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(gt),i=r[0],o=r[1],a=-1!==i.indexOf(mt)?i.split(mt):[i.substring(0,i.lastIndexOf(vt)+1),i.substring(i.lastIndexOf(vt)+1)],s=a[0],u=a[1]||"";n.posPre=s.substr(0,s.indexOf(_t));for(var c=0;c<u.length;c++){var l=u.charAt(c);l===vt?n.minFrac=n.maxFrac=c+1:l===_t?n.maxFrac=c+1:n.posSuf+=l}var f=s.split(bt);if(n.gSize=f[1]?f[1].length:0,n.lgSize=f[2]||f[1]?(f[2]||f[1]).length:0,o){var h=i.length-n.posPre.length-n.posSuf.length,p=o.indexOf(_t);n.negPre=o.substr(0,p).replace(/'/g,""),n.negSuf=o.substr(p+h).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}function At(t){var e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}var It=new r.InjectionToken("UseV4Plurals"),xt=function(){return function(){}}();function kt(t,e,n,r){var i="="+t;if(e.indexOf(i)>-1)return i;if(i=n.getPluralCategory(t,r),e.indexOf(i)>-1)return i;if(e.indexOf("other")>-1)return"other";throw new Error('No plural message found for value "'+t+'"')}var Rt=function(t){function e(e,n){var r=t.call(this)||this;return r.locale=e,r.deprecatedPluralFn=n,r}return Object(i.__extends)(e,t),e.prototype.getPluralCategory=function(t,e){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(e||this.locale,t):B(e||this.locale)(t)){case b.Zero:return"zero";case b.One:return"one";case b.Two:return"two";case b.Few:return"few";case b.Many:return"many";default:return"other"}},e}(xt);function Pt(t,e){"string"==typeof e&&(e=parseInt(e,10));var n=e,r=n.toString().replace(/^[^.]*\.?/,""),i=Math.floor(Math.abs(n)),o=r.length,a=parseInt(r,10),s=parseInt(n.toString().replace(/^[^.]*\.?|0+$/g,""),10)||0;switch(t.split("-")[0].toLowerCase()){case"af":case"asa":case"az":case"bem":case"bez":case"bg":case"brx":case"ce":case"cgg":case"chr":case"ckb":case"ee":case"el":case"eo":case"es":case"eu":case"fo":case"fur":case"gsw":case"ha":case"haw":case"hu":case"jgo":case"jmc":case"ka":case"kk":case"kkj":case"kl":case"ks":case"ksb":case"ky":case"lb":case"lg":case"mas":case"mgo":case"ml":case"mn":case"nb":case"nd":case"ne":case"nn":case"nnh":case"nyn":case"om":case"or":case"os":case"ps":case"rm":case"rof":case"rwk":case"saq":case"seh":case"sn":case"so":case"sq":case"ta":case"te":case"teo":case"tk":case"tr":case"ug":case"uz":case"vo":case"vun":case"wae":case"xog":return 1===n?b.One:b.Other;case"ak":case"ln":case"mg":case"pa":case"ti":return n===Math.floor(n)&&n>=0&&n<=1?b.One:b.Other;case"am":case"as":case"bn":case"fa":case"gu":case"hi":case"kn":case"mr":case"zu":return 0===i||1===n?b.One:b.Other;case"ar":return 0===n?b.Zero:1===n?b.One:2===n?b.Two:n%100===Math.floor(n%100)&&n%100>=3&&n%100<=10?b.Few:n%100===Math.floor(n%100)&&n%100>=11&&n%100<=99?b.Many:b.Other;case"ast":case"ca":case"de":case"en":case"et":case"fi":case"fy":case"gl":case"it":case"nl":case"sv":case"sw":case"ur":case"yi":return 1===i&&0===o?b.One:b.Other;case"be":return n%10==1&&n%100!=11?b.One:n%10===Math.floor(n%10)&&n%10>=2&&n%10<=4&&!(n%100>=12&&n%100<=14)?b.Few:n%10==0||n%10===Math.floor(n%10)&&n%10>=5&&n%10<=9||n%100===Math.floor(n%100)&&n%100>=11&&n%100<=14?b.Many:b.Other;case"br":return n%10==1&&n%100!=11&&n%100!=71&&n%100!=91?b.One:n%10==2&&n%100!=12&&n%100!=72&&n%100!=92?b.Two:n%10===Math.floor(n%10)&&(n%10>=3&&n%10<=4||n%10==9)&&!(n%100>=10&&n%100<=19||n%100>=70&&n%100<=79||n%100>=90&&n%100<=99)?b.Few:0!==n&&n%1e6==0?b.Many:b.Other;case"bs":case"hr":case"sr":return 0===o&&i%10==1&&i%100!=11||a%10==1&&a%100!=11?b.One:0===o&&i%10===Math.floor(i%10)&&i%10>=2&&i%10<=4&&!(i%100>=12&&i%100<=14)||a%10===Math.floor(a%10)&&a%10>=2&&a%10<=4&&!(a%100>=12&&a%100<=14)?b.Few:b.Other;case"cs":case"sk":return 1===i&&0===o?b.One:i===Math.floor(i)&&i>=2&&i<=4&&0===o?b.Few:0!==o?b.Many:b.Other;case"cy":return 0===n?b.Zero:1===n?b.One:2===n?b.Two:3===n?b.Few:6===n?b.Many:b.Other;case"da":return 1===n||0!==s&&(0===i||1===i)?b.One:b.Other;case"dsb":case"hsb":return 0===o&&i%100==1||a%100==1?b.One:0===o&&i%100==2||a%100==2?b.Two:0===o&&i%100===Math.floor(i%100)&&i%100>=3&&i%100<=4||a%100===Math.floor(a%100)&&a%100>=3&&a%100<=4?b.Few:b.Other;case"ff":case"fr":case"hy":case"kab":return 0===i||1===i?b.One:b.Other;case"fil":return 0===o&&(1===i||2===i||3===i)||0===o&&i%10!=4&&i%10!=6&&i%10!=9||0!==o&&a%10!=4&&a%10!=6&&a%10!=9?b.One:b.Other;case"ga":return 1===n?b.One:2===n?b.Two:n===Math.floor(n)&&n>=3&&n<=6?b.Few:n===Math.floor(n)&&n>=7&&n<=10?b.Many:b.Other;case"gd":return 1===n||11===n?b.One:2===n||12===n?b.Two:n===Math.floor(n)&&(n>=3&&n<=10||n>=13&&n<=19)?b.Few:b.Other;case"gv":return 0===o&&i%10==1?b.One:0===o&&i%10==2?b.Two:0!==o||i%100!=0&&i%100!=20&&i%100!=40&&i%100!=60&&i%100!=80?0!==o?b.Many:b.Other:b.Few;case"he":return 1===i&&0===o?b.One:2===i&&0===o?b.Two:0!==o||n>=0&&n<=10||n%10!=0?b.Other:b.Many;case"is":return 0===s&&i%10==1&&i%100!=11||0!==s?b.One:b.Other;case"ksh":return 0===n?b.Zero:1===n?b.One:b.Other;case"kw":case"naq":case"se":case"smn":return 1===n?b.One:2===n?b.Two:b.Other;case"lag":return 0===n?b.Zero:0!==i&&1!==i||0===n?b.Other:b.One;case"lt":return n%10!=1||n%100>=11&&n%100<=19?n%10===Math.floor(n%10)&&n%10>=2&&n%10<=9&&!(n%100>=11&&n%100<=19)?b.Few:0!==a?b.Many:b.Other:b.One;case"lv":case"prg":return n%10==0||n%100===Math.floor(n%100)&&n%100>=11&&n%100<=19||2===o&&a%100===Math.floor(a%100)&&a%100>=11&&a%100<=19?b.Zero:n%10==1&&n%100!=11||2===o&&a%10==1&&a%100!=11||2!==o&&a%10==1?b.One:b.Other;case"mk":return 0===o&&i%10==1||a%10==1?b.One:b.Other;case"mt":return 1===n?b.One:0===n||n%100===Math.floor(n%100)&&n%100>=2&&n%100<=10?b.Few:n%100===Math.floor(n%100)&&n%100>=11&&n%100<=19?b.Many:b.Other;case"pl":return 1===i&&0===o?b.One:0===o&&i%10===Math.floor(i%10)&&i%10>=2&&i%10<=4&&!(i%100>=12&&i%100<=14)?b.Few:0===o&&1!==i&&i%10===Math.floor(i%10)&&i%10>=0&&i%10<=1||0===o&&i%10===Math.floor(i%10)&&i%10>=5&&i%10<=9||0===o&&i%100===Math.floor(i%100)&&i%100>=12&&i%100<=14?b.Many:b.Other;case"pt":return n===Math.floor(n)&&n>=0&&n<=2&&2!==n?b.One:b.Other;case"ro":return 1===i&&0===o?b.One:0!==o||0===n||1!==n&&n%100===Math.floor(n%100)&&n%100>=1&&n%100<=19?b.Few:b.Other;case"ru":case"uk":return 0===o&&i%10==1&&i%100!=11?b.One:0===o&&i%10===Math.floor(i%10)&&i%10>=2&&i%10<=4&&!(i%100>=12&&i%100<=14)?b.Few:0===o&&i%10==0||0===o&&i%10===Math.floor(i%10)&&i%10>=5&&i%10<=9||0===o&&i%100===Math.floor(i%100)&&i%100>=11&&i%100<=14?b.Many:b.Other;case"shi":return 0===i||1===n?b.One:n===Math.floor(n)&&n>=2&&n<=10?b.Few:b.Other;case"si":return 0===n||1===n||0===i&&1===a?b.One:b.Other;case"sl":return 0===o&&i%100==1?b.One:0===o&&i%100==2?b.Two:0===o&&i%100===Math.floor(i%100)&&i%100>=3&&i%100<=4||0!==o?b.Few:b.Other;case"tzm":return n===Math.floor(n)&&n>=0&&n<=1||n===Math.floor(n)&&n>=11&&n<=99?b.One:b.Other;default:return b.Other}}function Nt(t,e){var n,r;e=encodeURIComponent(e);try{for(var o=Object(i.__values)(t.split(";")),a=o.next();!a.done;a=o.next()){var s=a.value,u=s.indexOf("="),c=Object(i.__read)(-1==u?[s,""]:[s.slice(0,u),s.slice(u+1)],2),l=c[1];if(c[0].trim()===e)return decodeURIComponent(l)}}catch(f){n={error:f}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return null}var jt=function(){function t(t,e,n,r){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=r,this._initialClasses=[]}return Object.defineProperty(t.prototype,"klass",{set:function(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClass",{set:function(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Object(r["\u0275isListLikeIterable"])(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())},enumerable:!0,configurable:!0}),t.prototype.ngDoCheck=function(){if(this._iterableDiffer){var t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){var e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}},t.prototype._applyKeyValueChanges=function(t){var e=this;t.forEachAddedItem(function(t){return e._toggleClass(t.key,t.currentValue)}),t.forEachChangedItem(function(t){return e._toggleClass(t.key,t.currentValue)}),t.forEachRemovedItem(function(t){t.previousValue&&e._toggleClass(t.key,!1)})},t.prototype._applyIterableChanges=function(t){var e=this;t.forEachAddedItem(function(t){if("string"!=typeof t.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+Object(r["\u0275stringify"])(t.item));e._toggleClass(t.item,!0)}),t.forEachRemovedItem(function(t){return e._toggleClass(t.item,!1)})},t.prototype._applyClasses=function(t){var e=this;t&&(Array.isArray(t)||t instanceof Set?t.forEach(function(t){return e._toggleClass(t,!0)}):Object.keys(t).forEach(function(n){return e._toggleClass(n,!!t[n])}))},t.prototype._removeClasses=function(t){var e=this;t&&(Array.isArray(t)||t instanceof Set?t.forEach(function(t){return e._toggleClass(t,!1)}):Object.keys(t).forEach(function(t){return e._toggleClass(t,!1)}))},t.prototype._toggleClass=function(t,e){var n=this;(t=t.trim())&&t.split(/\s+/g).forEach(function(t){e?n._renderer.addClass(n._ngEl.nativeElement,t):n._renderer.removeClass(n._ngEl.nativeElement,t)})},t}(),Mt=function(){function t(t){this._viewContainerRef=t,this._componentRef=null,this._moduleRef=null}return t.prototype.ngOnChanges=function(t){if(this._viewContainerRef.clear(),this._componentRef=null,this.ngComponentOutlet){var e=this.ngComponentOutletInjector||this._viewContainerRef.parentInjector;if(t.ngComponentOutletNgModuleFactory)if(this._moduleRef&&this._moduleRef.destroy(),this.ngComponentOutletNgModuleFactory){var n=e.get(r.NgModuleRef);this._moduleRef=this.ngComponentOutletNgModuleFactory.create(n.injector)}else this._moduleRef=null;var i=(this._moduleRef?this._moduleRef.componentFactoryResolver:e.get(r.ComponentFactoryResolver)).resolveComponentFactory(this.ngComponentOutlet);this._componentRef=this._viewContainerRef.createComponent(i,this._viewContainerRef.length,e,this.ngComponentOutletContent)}},t.prototype.ngOnDestroy=function(){this._moduleRef&&this._moduleRef.destroy()},t}(),Ft=function(){function t(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}return Object.defineProperty(t.prototype,"first",{get:function(){return 0===this.index},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"last",{get:function(){return this.index===this.count-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"even",{get:function(){return this.index%2==0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"odd",{get:function(){return!this.even},enumerable:!0,configurable:!0}),t}(),Lt=function(){function t(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOfDirty=!0,this._differ=null}return Object.defineProperty(t.prototype,"ngForOf",{set:function(t){this._ngForOf=t,this._ngForOfDirty=!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngForTrackBy",{get:function(){return this._trackByFn},set:function(t){Object(r.isDevMode)()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn("trackBy must be a function, but received "+JSON.stringify(t)+". See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information."),this._trackByFn=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngForTemplate",{set:function(t){t&&(this._template=t)},enumerable:!0,configurable:!0}),t.prototype.ngDoCheck=function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(r){throw new Error("Cannot find a differ supporting object '"+t+"' of type '"+((e=t).name||typeof e)+"'. NgFor only supports binding to Iterables such as Arrays.")}}var e;if(this._differ){var n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}},t.prototype._applyChanges=function(t){var e=this,n=[];t.forEachOperation(function(t,r,i){if(null==t.previousIndex){var o=e._viewContainer.createEmbeddedView(e._template,new Ft(null,e._ngForOf,-1,-1),i),a=new Bt(t,o);n.push(a)}else null==i?e._viewContainer.remove(r):(o=e._viewContainer.get(r),e._viewContainer.move(o,i),a=new Bt(t,o),n.push(a))});for(var r=0;r<n.length;r++)this._perViewChange(n[r].view,n[r].record);r=0;for(var i=this._viewContainer.length;r<i;r++){var o=this._viewContainer.get(r);o.context.index=r,o.context.count=i,o.context.ngForOf=this._ngForOf}t.forEachIdentityChange(function(t){e._viewContainer.get(t.currentIndex).context.$implicit=t.item})},t.prototype._perViewChange=function(t,e){t.context.$implicit=e.item},t.ngTemplateContextGuard=function(t,e){return!0},t}(),Bt=function(){return function(t,e){this.record=t,this.view=e}}(),Vt=function(){function t(t,e){this._viewContainer=t,this._context=new Ut,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}return Object.defineProperty(t.prototype,"ngIf",{set:function(t){this._context.$implicit=this._context.ngIf=t,this._updateView()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngIfThen",{set:function(t){qt("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngIfElse",{set:function(t){qt("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()},enumerable:!0,configurable:!0}),t.prototype._updateView=function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))},t.ngTemplateGuard_ngIf=function(t,e){return!0},t}(),Ut=function(){return function(){this.$implicit=null,this.ngIf=null}}();function qt(t,e){if(e&&!e.createEmbeddedView)throw new Error(t+" must be a TemplateRef, but received '"+Object(r["\u0275stringify"])(e)+"'.")}var zt=function(){function t(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}return t.prototype.create=function(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)},t.prototype.destroy=function(){this._created=!1,this._viewContainerRef.clear()},t.prototype.enforceState=function(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()},t}(),Ht=function(){function t(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}return Object.defineProperty(t.prototype,"ngSwitch",{set:function(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)},enumerable:!0,configurable:!0}),t.prototype._addCase=function(){return this._caseCount++},t.prototype._addDefault=function(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)},t.prototype._matchCase=function(t){var e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e},t.prototype._updateDefaultCases=function(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(var e=0;e<this._defaultViews.length;e++)this._defaultViews[e].enforceState(t)}},t}(),Qt=function(){function t(t,e,n){this.ngSwitch=n,n._addCase(),this._view=new zt(t,e)}return t.prototype.ngDoCheck=function(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))},t}(),Kt=function(){return function(t,e,n){n._addDefault(new zt(t,e))}}(),Gt=function(){function t(t){this._localization=t,this._caseViews={}}return Object.defineProperty(t.prototype,"ngPlural",{set:function(t){this._switchValue=t,this._updateView()},enumerable:!0,configurable:!0}),t.prototype.addCase=function(t,e){this._caseViews[t]=e},t.prototype._updateView=function(){this._clearViews();var t=Object.keys(this._caseViews),e=kt(this._switchValue,t,this._localization);this._activateView(this._caseViews[e])},t.prototype._clearViews=function(){this._activeView&&this._activeView.destroy()},t.prototype._activateView=function(t){t&&(this._activeView=t,this._activeView.create())},t}(),Wt=function(){return function(t,e,n,r){this.value=t;var i=!isNaN(Number(t));r.addCase(i?"="+t:t,new zt(n,e))}}(),Yt=function(){function t(t,e,n){this._differs=t,this._ngEl=e,this._renderer=n}return Object.defineProperty(t.prototype,"ngStyle",{set:function(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())},enumerable:!0,configurable:!0}),t.prototype.ngDoCheck=function(){if(this._differ){var t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}},t.prototype._applyChanges=function(t){var e=this;t.forEachRemovedItem(function(t){return e._setStyle(t.key,null)}),t.forEachAddedItem(function(t){return e._setStyle(t.key,t.currentValue)}),t.forEachChangedItem(function(t){return e._setStyle(t.key,t.currentValue)})},t.prototype._setStyle=function(t,e){var n=Object(i.__read)(t.split("."),2),r=n[0],o=n[1];null!=(e=null!=e&&o?""+e+o:e)?this._renderer.setStyle(this._ngEl.nativeElement,r,e):this._renderer.removeStyle(this._ngEl.nativeElement,r)},t}(),Zt=function(){function t(t){this._viewContainerRef=t}return t.prototype.ngOnChanges=function(t){this._shouldRecreateView(t)?(this._viewRef&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._viewRef)),this.ngTemplateOutlet&&(this._viewRef=this._viewContainerRef.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext))):this._viewRef&&this.ngTemplateOutletContext&&this._updateExistingContext(this.ngTemplateOutletContext)},t.prototype._shouldRecreateView=function(t){var e=t.ngTemplateOutletContext;return!!t.ngTemplateOutlet||e&&this._hasContextShapeChanged(e)},t.prototype._hasContextShapeChanged=function(t){var e,n,r=Object.keys(t.previousValue||{}),o=Object.keys(t.currentValue||{});if(r.length===o.length){try{for(var a=Object(i.__values)(o),s=a.next();!s.done;s=a.next())if(-1===r.indexOf(s.value))return!0}catch(u){e={error:u}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}return!1}return!0},t.prototype._updateExistingContext=function(t){var e,n;try{for(var r=Object(i.__values)(Object.keys(t)),o=r.next();!o.done;o=r.next()){var a=o.value;this._viewRef.context[a]=this.ngTemplateOutletContext[a]}}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},t}(),Xt=[jt,Mt,Lt,Vt,Zt,Yt,Ht,Qt,Kt,Gt,Wt];function Jt(t,e){return Error("InvalidPipeArgument: '"+e+"' for pipe '"+Object(r["\u0275stringify"])(t)+"'")}var $t=function(){function t(){}return t.format=function(t,e,n,r){void 0===r&&(r={});var i=r.currency,o=r.currencyAsSymbol,a=void 0!==o&&o,s={minimumIntegerDigits:r.minimumIntegerDigits,minimumFractionDigits:r.minimumFractionDigits,maximumFractionDigits:r.maximumFractionDigits,style:g[n].toLowerCase()};return n==g.Currency&&(s.currency="string"==typeof i?i:void 0,s.currencyDisplay=a?"symbol":"code"),new Intl.NumberFormat(e,s).format(t)},t}(),te=/((?:[^yMLdHhmsazZEwGjJ']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|J+|j+|m+|s+|a|z|Z|G+|w+))(.*)/,ee={yMMMdjms:he(fe([ce("year",1),le("month",3),ce("day",1),ce("hour",1),ce("minute",1),ce("second",1)])),yMdjm:he(fe([ce("year",1),ce("month",1),ce("day",1),ce("hour",1),ce("minute",1)])),yMMMMEEEEd:he(fe([ce("year",1),le("month",4),le("weekday",4),ce("day",1)])),yMMMMd:he(fe([ce("year",1),le("month",4),ce("day",1)])),yMMMd:he(fe([ce("year",1),le("month",3),ce("day",1)])),yMd:he(fe([ce("year",1),ce("month",1),ce("day",1)])),jms:he(fe([ce("hour",1),ce("second",1),ce("minute",1)])),jm:he(fe([ce("hour",1),ce("minute",1)]))},ne={yyyy:he(ce("year",4)),yy:he(ce("year",2)),y:he(ce("year",1)),MMMM:he(le("month",4)),MMM:he(le("month",3)),MM:he(ce("month",2)),M:he(ce("month",1)),LLLL:he(le("month",4)),L:he(le("month",1)),dd:he(ce("day",2)),d:he(ce("day",1)),HH:re(oe(he(ue(ce("hour",2),!1)))),H:oe(he(ue(ce("hour",1),!1))),hh:re(oe(he(ue(ce("hour",2),!0)))),h:oe(he(ue(ce("hour",1),!0))),jj:he(ce("hour",2)),j:he(ce("hour",1)),mm:re(he(ce("minute",2))),m:he(ce("minute",1)),ss:re(he(ce("second",2))),s:he(ce("second",1)),sss:he(ce("second",3)),EEEE:he(le("weekday",4)),EEE:he(le("weekday",3)),EE:he(le("weekday",2)),E:he(le("weekday",1)),a:ie(he(ue(ce("hour",1),!0))),Z:se("short"),z:se("long"),ww:he({}),w:he({}),G:he(le("era",1)),GG:he(le("era",2)),GGG:he(le("era",3)),GGGG:he(le("era",4))};function re(t){return function(e,n){var r=t(e,n);return 1==r.length?"0"+r:r}}function ie(t){return function(e,n){return t(e,n).split(" ")[1]}}function oe(t){return function(e,n){return t(e,n).split(" ")[0]}}function ae(t,e,n){return new Intl.DateTimeFormat(e,n).format(t).replace(/[\u200e\u200f]/g,"")}function se(t){var e={hour:"2-digit",hour12:!1,timeZoneName:t};return function(t,n){var r=ae(t,n,e);return r?r.substring(3):""}}function ue(t,e){return t.hour12=e,t}function ce(t,e){var n={};return n[t]=2===e?"2-digit":"numeric",n}function le(t,e){var n={};return n[t]=e<4?e>1?"short":"narrow":"long",n}function fe(t){return t.reduce(function(t,e){return Object(i.__assign)({},t,e)},{})}function he(t){return function(e,n){return ae(e,n,t)}}var pe=new Map,de=function(){function t(){}return t.format=function(t,e,n){return function(t,e,n){var r=ee[t];if(r)return r(e,n);var i=t,o=pe.get(i);if(!o){o=[];var a=void 0;te.exec(t);for(var s=t;s;)(a=te.exec(s))?s=(o=o.concat(a.slice(1))).pop():(o.push(s),s=null);pe.set(i,o)}return o.reduce(function(t,r){var i=ne[r];return t+(i?i(e,n):function(t){return"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}(r))},"")}(n,t,e)},t}(),ye=function(){function t(t){this._locale=t}var e;return e=t,t.prototype.transform=function(t,n){if(void 0===n&&(n="mediumDate"),null==t||""===t||t!=t)return null;var r;if("string"==typeof t&&(t=t.trim()),me(t))r=t;else if(isNaN(t-parseFloat(t)))if("string"==typeof t&&/^(\d{4}-\d{1,2}-\d{1,2})$/.test(t)){var o=Object(i.__read)(t.split("-").map(function(t){return parseInt(t,10)}),3);r=new Date(o[0],o[1]-1,o[2])}else r=new Date(t);else r=new Date(parseFloat(t));if(!me(r)){var a=void 0;if("string"!=typeof t||!(a=t.match(Y)))throw Jt(e,t);r=ht(a)}return de.format(r,this._locale,e._ALIASES[n]||n)},t._ALIASES={medium:"yMMMdjms",short:"yMdjm",fullDate:"yMMMMEEEEd",longDate:"yMMMMd",mediumDate:"yMMMd",shortDate:"yMd",mediumTime:"jms",shortTime:"jm"},t}();function me(t){return t instanceof Date&&!isNaN(t.valueOf())}function ve(t,e,n,r,i,o,a){if(void 0===o&&(o=null),void 0===a&&(a=!1),null==n)return null;if("number"!=typeof(n="string"!=typeof n||isNaN(+n-parseFloat(n))?n:+n))throw Jt(t,n);var s,u,c;if(r!==g.Currency&&(s=1,u=0,c=3),i){var l=i.match(dt);if(null===l)throw new Error(i+" is not a valid digit info for number pipes");null!=l[1]&&(s=At(l[1])),null!=l[3]&&(u=At(l[3])),null!=l[5]&&(c=At(l[5]))}return $t.format(n,e,r,{minimumIntegerDigits:s,minimumFractionDigits:u,maximumFractionDigits:c,currency:o,currencyAsSymbol:a})}var ge=function(){function t(t){this._locale=t}var e;return e=t,t.prototype.transform=function(t,n){return ve(e,this._locale,t,g.Decimal,n)},t}(),be=function(){function t(t){this._locale=t}var e;return e=t,t.prototype.transform=function(t,n){return ve(e,this._locale,t,g.Percent,n)},t}(),_e=function(){function t(t){this._locale=t}var e;return e=t,t.prototype.transform=function(t,n,r,i){return void 0===n&&(n="USD"),void 0===r&&(r=!1),ve(e,this._locale,t,g.Currency,i,n,r)},t}(),we=[ge,be,_e,ye],Ee=function(){function t(){}return t.prototype.createSubscription=function(t,e){return t.subscribe({next:e,error:function(t){throw t}})},t.prototype.dispose=function(t){t.unsubscribe()},t.prototype.onDestroy=function(t){t.unsubscribe()},t}(),Ce=new(function(){function t(){}return t.prototype.createSubscription=function(t,e){return t.then(e,function(t){throw t})},t.prototype.dispose=function(t){},t.prototype.onDestroy=function(t){},t}()),Se=new Ee,De=function(){function t(t){this._ref=t,this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null,this._strategy=null}var e;return e=t,t.prototype.ngOnDestroy=function(){this._subscription&&this._dispose()},t.prototype.transform=function(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue===this._latestReturnedValue?this._latestReturnedValue:(this._latestReturnedValue=this._latestValue,r.WrappedValue.wrap(this._latestValue)):(t&&this._subscribe(t),this._latestReturnedValue=this._latestValue,this._latestValue)},t.prototype._subscribe=function(t){var e=this;this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,function(n){return e._updateLatestValue(t,n)})},t.prototype._selectStrategy=function(t){if(Object(r["\u0275isPromise"])(t))return Ce;if(Object(r["\u0275isObservable"])(t))return Se;throw Jt(e,t)},t.prototype._dispose=function(){this._strategy.dispose(this._subscription),this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null},t.prototype._updateLatestValue=function(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())},t}(),Oe=function(){function t(){}var e;return e=t,t.prototype.transform=function(t){if(!t)return t;if("string"!=typeof t)throw Jt(e,t);return t.toLowerCase()},t}(),Te=/(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D])\S*/g,Ae=function(){function t(){}var e;return e=t,t.prototype.transform=function(t){if(!t)return t;if("string"!=typeof t)throw Jt(e,t);return t.replace(Te,function(t){return t[0].toUpperCase()+t.substr(1).toLowerCase()})},t}(),Ie=function(){function t(){}var e;return e=t,t.prototype.transform=function(t){if(!t)return t;if("string"!=typeof t)throw Jt(e,t);return t.toUpperCase()},t}(),xe=function(){function t(t){this.locale=t}var e;return e=t,t.prototype.transform=function(t,n,r,i){if(void 0===n&&(n="mediumDate"),null==t||""===t||t!=t)return null;try{return et(t,n,i||this.locale,r)}catch(o){throw Jt(e,o.message)}},t}(),ke=/#/g,Re=function(){function t(t){this._localization=t}var e;return e=t,t.prototype.transform=function(t,n,r){if(null==t)return"";if("object"!=typeof n||null===n)throw Jt(e,n);return n[kt(t,Object.keys(n),this._localization,r)].replace(ke,t.toString())},t}(),Pe=function(){function t(){}var e;return e=t,t.prototype.transform=function(t,n){if(null==t)return"";if("object"!=typeof n||"string"!=typeof t)throw Jt(e,n);return n.hasOwnProperty(t)?n[t]:n.hasOwnProperty("other")?n.other:""},t}(),Ne=function(){function t(){}return t.prototype.transform=function(t){return JSON.stringify(t,null,2)},t}(),je=function(){function t(t){this.differs=t,this.keyValues=[]}return t.prototype.transform=function(t,e){var n=this;if(void 0===e&&(e=Me),!t||!(t instanceof Map)&&"object"!=typeof t)return null;this.differ||(this.differ=this.differs.find(t).create());var r=this.differ.diff(t);return r&&(this.keyValues=[],r.forEachItem(function(t){n.keyValues.push({key:t.key,value:t.currentValue})}),this.keyValues.sort(e)),this.keyValues},t}();function Me(t,e){var n=t.key,r=e.key;if(n===r)return 0;if(void 0===n)return 1;if(void 0===r)return-1;if(null===n)return 1;if(null===r)return-1;if("string"==typeof n&&"string"==typeof r)return n<r?-1:1;if("number"==typeof n&&"number"==typeof r)return n-r;if("boolean"==typeof n&&"boolean"==typeof r)return n<r?-1:1;var i=String(n),o=String(r);return i==o?0:i<o?-1:1}var Fe=function(){function t(t){this._locale=t}var e;return e=t,t.prototype.transform=function(t,n,r){if(Ve(t))return null;r=r||this._locale;try{return Ot(Ue(t),r,n)}catch(i){throw Jt(e,i.message)}},t}(),Le=function(){function t(t){this._locale=t}var e;return e=t,t.prototype.transform=function(t,n,r){if(Ve(t))return null;r=r||this._locale;try{return Dt(Ue(t),r,n)}catch(i){throw Jt(e,i.message)}},t}(),Be=function(){function t(t){this._locale=t}var e;return e=t,t.prototype.transform=function(t,n,r,i,o){if(void 0===r&&(r="symbol"),Ve(t))return null;o=o||this._locale,"boolean"==typeof r&&(console&&console.warn&&console.warn('Warning: the currency pipe has been changed in Angular v5. The symbolDisplay option (third parameter) is now a string instead of a boolean. The accepted values are "code", "symbol" or "symbol-narrow".'),r=r?"symbol":"code");var a=n||"USD";"code"!==r&&(a="symbol"===r||"symbol-narrow"===r?K(a,"symbol"===r?"wide":"narrow",o):r);try{return St(Ue(t),o,a,n,i)}catch(s){throw Jt(e,s.message)}},t}();function Ve(t){return null==t||""===t||t!=t}function Ue(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(t+" is not a number");return t}var qe=function(){function t(){}var e;return e=t,t.prototype.transform=function(t,n,r){if(null==t)return t;if(!this.supports(t))throw Jt(e,t);return t.slice(n,r)},t.prototype.supports=function(t){return"string"==typeof t||Array.isArray(t)},t}(),ze=[De,Ie,Oe,Ne,qe,Fe,Le,Ae,Be,xe,Re,Pe,je],He=function(){return function(){}}(),Qe=function(){return function(){}}(),Ke=new r.InjectionToken("DocumentToken"),Ge="browser",We="server",Ye="browserWorkerApp",Ze="browserWorkerUi";function Xe(t){return t===Ge}function Je(t){return t===We}function $e(t){return t===Ye}function tn(t){return t===Ze}var en=new r.Version("7.2.15"),nn=function(){function t(){}return t.ngInjectableDef=Object(r.defineInjectable)({providedIn:"root",factory:function(){return new rn(Object(r.inject)(Ke),window,Object(r.inject)(r.ErrorHandler))}}),t}(),rn=function(){function t(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=function(){return[0,0]}}return t.prototype.setOffset=function(t){this.offset=Array.isArray(t)?function(){return t}:t},t.prototype.getScrollPosition=function(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]},t.prototype.scrollToPosition=function(t){this.supportScrollRestoration()&&this.window.scrollTo(t[0],t[1])},t.prototype.scrollToAnchor=function(t){if(this.supportScrollRestoration()){t=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(t):t.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{var e=this.document.querySelector("#"+t);if(e)return void this.scrollToElement(e);var n=this.document.querySelector("[name='"+t+"']");if(n)return void this.scrollToElement(n)}catch(r){this.errorHandler.handleError(r)}}},t.prototype.setHistoryScrollRestoration=function(t){if(this.supportScrollRestoration()){var e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}},t.prototype.scrollToElement=function(t){var e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])},t.prototype.supportScrollRestoration=function(){try{return!!this.window&&!!this.window.scrollTo}catch(t){return!1}},t}(),on=function(){function t(){}return t.prototype.setOffset=function(t){},t.prototype.getScrollPosition=function(){return[0,0]},t.prototype.scrollToPosition=function(t){},t.prototype.scrollToAnchor=function(t){},t.prototype.setHistoryScrollRestoration=function(t){},t}()},JHRd:function(t,e,n){var r=n("Kz5y");t.exports=r.Uint8Array},JHgL:function(t,e,n){var r=n("QkVE");t.exports=function(t){return r(this,t).get(t)}},JSQU:function(t,e,n){var r=n("YESw");t.exports=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=r&&void 0===e?"__lodash_hash_undefined__":e,this}},JTzB:function(t,e,n){var r=n("NykK"),i=n("ExA7");t.exports=function(t){return i(t)&&"[object Arguments]"==r(t)}},JcRv:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("xTla"),i=function(t){return function(e){var n=t[r.a]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(e)}}},JmpY:function(t,e,n){var r=n("eUgh");t.exports=function(t,e){return r(e,function(e){return t[e]})}},K9Ia:function(t,e,n){"use strict";n.d(e,"b",function(){return l}),n.d(e,"a",function(){return f});var r=n("mrSG"),i=n("6blF"),o=n("FFOo"),a=n("pugT"),s=n("8g8A"),u=n("uMaO"),c=n("L/V9"),l=function(t){function e(e){var n=t.call(this,e)||this;return n.destination=e,n}return r.__extends(e,t),e}(o.a),f=function(t){function e(){var e=t.call(this)||this;return e.observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return r.__extends(e,t),e.prototype[c.a]=function(){return new l(this)},e.prototype.lift=function(t){var e=new h(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new s.a;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].next(t)},e.prototype.error=function(t){if(this.closed)throw new s.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new s.a;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new s.a;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new s.a;return this.hasError?(t.error(this.thrownError),a.a.EMPTY):this.isStopped?(t.complete(),a.a.EMPTY):(this.observers.push(t),new u.a(this,t))},e.prototype.asObservable=function(){var t=new i.a;return t.source=this,t},e.create=function(t,e){return new h(t,e)},e}(i.a),h=function(t){function e(e,n){var r=t.call(this)||this;return r.destination=e,r.source=n,r}return r.__extends(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):a.a.EMPTY},e}(f)},KMkd:function(t,e){t.exports=function(){this.__data__=[],this.size=0}},KfNM:function(t,e){var n=Object.prototype.toString;t.exports=function(t){return n.call(t)}},KwMD:function(t,e){t.exports=function(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}},KxBF:function(t,e){t.exports=function(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),(n=n>i?i:n)<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}},Kz5y:function(t,e,n){var r=n("WFqU"),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();t.exports=o},"L/V9":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},L8xA:function(t,e){t.exports=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}},LPhD:function(t,e,n){var r=n("R/W3");t.exports=function(t,e){for(var n=t.length;n--&&r(e,t[n],0)>-1;);return n}},LXxW:function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}},LcsW:function(t,e,n){var r=n("kekF")(Object.getPrototypeOf,Object);t.exports=r},LqpT:function(t,e,n){var r=n("1hJj"),i=n("jbM+"),o=n("Xt/L"),a=n("eUgh"),s=n("sEf8"),u=n("xYSL");t.exports=function(t,e,n,c){var l=-1,f=i,h=!0,p=t.length,d=[],y=e.length;if(!p)return d;n&&(e=a(e,s(n))),c?(f=o,h=!1):e.length>=200&&(f=u,h=!1,e=new r(e));t:for(;++l<p;){var m=t[l],v=null==n?m:n(m);if(m=c||0!==m?m:0,h&&v==v){for(var g=y;g--;)if(e[g]===v)continue t;d.push(m)}else f(e,v,c)||d.push(m)}return d}},LsHQ:function(t,e,n){var r=n("EA7m"),i=n("mv/X");t.exports=function(t){return r(function(e,n){var r=-1,o=n.length,a=o>1?n[o-1]:void 0,s=o>2?n[2]:void 0;for(a=t.length>3&&"function"==typeof a?(o--,a):void 0,s&&i(n[0],n[1],s)&&(a=o<3?void 0:a,o=1),e=Object(e);++r<o;){var u=n[r];u&&t(e,u,r,a)}return e})}},MGBS:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("mrSG"),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},e.prototype.notifyError=function(t,e){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(n("FFOo").a)},MMmD:function(t,e,n){var r=n("lSCD"),i=n("shjB");t.exports=function(t){return null!=t&&i(t.length)&&!r(t)}},McSo:function(t,e,n){"use strict";function r(t){return null!=t&&"object"==typeof t}n.d(e,"a",function(){return r})},MrPd:function(t,e,n){var r=n("hypo"),i=n("ljhN"),o=Object.prototype.hasOwnProperty;t.exports=function(t,e,n){var a=t[e];o.call(t,e)&&i(a,n)&&(void 0!==n||e in t)||r(t,e,n)}},MvSz:function(t,e,n){var r=n("LXxW"),i=n("0ycA"),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols;t.exports=a?function(t){return null==t?[]:(t=Object(t),r(a(t),function(e){return o.call(t,e)}))}:i},NKxu:function(t,e,n){var r=n("lSCD"),i=n("E2jh"),o=n("GoyQ"),a=n("3Fdi"),s=/^\[object .+?Constructor\]$/,u=Function.prototype,c=Object.prototype,l=RegExp("^"+u.toString.call(c.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!o(t)||i(t))&&(r(t)?l:s).test(a(t))}},NQJK:function(t,e,n){var r=n("mrSG").__decorate,i=n("mrSG").__metadata;Object.defineProperty(e,"__esModule",{value:!0});var o=n("CcnG"),a=(n("6QML"),n("BHEk")),s=n("6QML");e.CloudinaryImage=function(){function t(t,e){this.el=t,this.cloudinary=e,this.onLoad=new o.EventEmitter,this.onError=new o.EventEmitter}return t.prototype.ngOnInit=function(){var t=this;s.isBrowser()&&(this.observer=new MutationObserver(function(){t.loadImage()}),this.observer.observe(this.el.nativeElement,{attributes:!0,childList:!0}))},t.prototype.ngOnChanges=function(t){t.publicId&&!t.publicId.isFirstChange()&&this.loadImage()},t.prototype.ngOnDestroy=function(){this.observer&&this.observer.disconnect&&this.observer.disconnect()},t.prototype.ngAfterViewInit=function(){this.loadImage()},t.prototype.loadImage=function(){var t=this;if(s.isBrowser()){if(!this.publicId)throw new Error("You must set the public id of the image to load, e.g. <cl-image public-id={{photo.public_id}}...></cl-image>");var e=this.el.nativeElement,n=e.children[0];n.onload=function(e){t.onLoad.emit(e)},n.onerror=function(e){t.onError.emit(e)};var r=this.cloudinary.toCloudinaryAttributes(e.attributes,this.transformations),i=this.cloudinary.imageTag(this.publicId,r);this.setElementAttributes(n,i.attributes()),r.responsive&&this.cloudinary.responsive(n,r)}},t.prototype.setElementAttributes=function(t,e){Object.keys(e).forEach(function(n){t.setAttribute(n,e[n])})},r([o.Input("public-id"),i("design:type",String)],t.prototype,"publicId",void 0),r([o.ContentChildren(a.CloudinaryTransformationDirective),i("design:type",o.QueryList)],t.prototype,"transformations",void 0),r([o.Output(),i("design:type",o.EventEmitter)],t.prototype,"onLoad",void 0),r([o.Output(),i("design:type",o.EventEmitter)],t.prototype,"onError",void 0),r([o.Component({selector:"cl-image",template:"<img>"})],t)}()},Npjl:function(t,e){t.exports=function(t,e){return null==t?void 0:t[e]}},NykK:function(t,e,n){var r=n("nmnc"),i=n("AP2z"),o=n("KfNM"),a=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":a&&a in Object(t)?i(t):o(t)}},"O/bx":function(t,e,n){var r=n("mrSG").__decorate;Object.defineProperty(e,"__esModule",{value:!0});var i=n("CcnG"),o=n("6QML"),a=n("NQJK"),s=n("fylK"),u=n("BHEk"),c=n("6rTD"),l=n("mb0K"),f=n("NQJK");e.CloudinaryImage=f.CloudinaryImage;var h=n("fylK");e.CloudinaryVideo=h.CloudinaryVideo;var p=n("BHEk");e.CloudinaryTransformationDirective=p.CloudinaryTransformationDirective;var d=n("6rTD");e.CloudinaryImageSourceDirective=d.CloudinaryImageSourceDirective;var y=n("mb0K");e.CloudinaryBackgroundImageDirective=y.CloudinaryBackgroundImageDirective;var m=n("6QML");function v(t,e){return new o.Cloudinary(t,e)}e.Cloudinary=m.Cloudinary,e.provideCloudinary=m.provideCloudinary,e.CLOUDINARY_LIB=new i.InjectionToken("CLOUDINARY_LIB"),e.CLOUDINARY_CONFIGURATION=new i.InjectionToken("CLOUDINARY_CONFIGURATION"),e.createCloudinary=v,e.CloudinaryModule=function(){function t(){}return n=t,t.forRoot=function(t,r){return{ngModule:n,providers:[{provide:e.CLOUDINARY_LIB,useValue:t},{provide:e.CLOUDINARY_CONFIGURATION,useValue:r},{provide:o.Cloudinary,useFactory:v,deps:[e.CLOUDINARY_LIB,e.CLOUDINARY_CONFIGURATION]}]}},n=r([i.NgModule({declarations:[c.CloudinaryImageSourceDirective,l.CloudinaryBackgroundImageDirective,a.CloudinaryImage,s.CloudinaryVideo,u.CloudinaryTransformationDirective],exports:[c.CloudinaryImageSourceDirective,l.CloudinaryBackgroundImageDirective,a.CloudinaryImage,s.CloudinaryVideo,u.CloudinaryTransformationDirective]})],t);var n}()},O0oS:function(t,e,n){var r=n("Cwc5"),i=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch(e){}}();t.exports=i},OBhP:function(t,e,n){var r=n("fmRc"),i=n("gFfm"),o=n("MrPd"),a=n("WwFo"),s=n("Dw+G"),u=n("5Tg0"),c=n("Q1l4"),l=n("VOtZ"),f=n("EEGq"),h=n("qZTm"),p=n("G6z8"),d=n("QqLw"),y=n("yHx3"),m=n("wrZu"),v=n("+iFO"),g=n("Z0cm"),b=n("DSRE"),_=n("zEVN"),w=n("GoyQ"),E=n("1+5i"),C=n("7GkX"),S={};S["[object Arguments]"]=S["[object Array]"]=S["[object ArrayBuffer]"]=S["[object DataView]"]=S["[object Boolean]"]=S["[object Date]"]=S["[object Float32Array]"]=S["[object Float64Array]"]=S["[object Int8Array]"]=S["[object Int16Array]"]=S["[object Int32Array]"]=S["[object Map]"]=S["[object Number]"]=S["[object Object]"]=S["[object RegExp]"]=S["[object Set]"]=S["[object String]"]=S["[object Symbol]"]=S["[object Uint8Array]"]=S["[object Uint8ClampedArray]"]=S["[object Uint16Array]"]=S["[object Uint32Array]"]=!0,S["[object Error]"]=S["[object Function]"]=S["[object WeakMap]"]=!1,t.exports=function t(e,n,D,O,T,A){var I,x=1&n,k=2&n,R=4&n;if(D&&(I=T?D(e,O,T,A):D(e)),void 0!==I)return I;if(!w(e))return e;var P=g(e);if(P){if(I=y(e),!x)return c(e,I)}else{var N=d(e),j="[object Function]"==N||"[object GeneratorFunction]"==N;if(b(e))return u(e,x);if("[object Object]"==N||"[object Arguments]"==N||j&&!T){if(I=k||j?{}:v(e),!x)return k?f(e,s(I,e)):l(e,a(I,e))}else{if(!S[N])return T?e:{};I=m(e,N,x)}}A||(A=new r);var M=A.get(e);if(M)return M;A.set(e,I),E(e)?e.forEach(function(r){I.add(t(r,n,D,r,e,A))}):_(e)&&e.forEach(function(r,i){I.set(i,t(r,n,D,i,e,A))});var F=R?k?p:h:k?keysIn:C,L=P?void 0:F(e);return i(L||e,function(r,i){L&&(r=e[i=r]),o(I,i,t(r,n,D,i,e,A))}),I}},"Of+w":function(t,e,n){var r=n("Cwc5")(n("Kz5y"),"WeakMap");t.exports=r},"P/G1":function(t,e,n){var r=n("JmpY"),i=n("7GkX");t.exports=function(t){return null==t?[]:r(t,i(t))}},Q1l4:function(t,e){t.exports=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}},QcOe:function(t,e,n){var r=n("GoyQ"),i=n("6sVZ"),o=n("7Ix3"),a=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return o(t);var e=i(t),n=[];for(var s in t)("constructor"!=s||!e&&a.call(t,s))&&n.push(s);return n}},QkVE:function(t,e,n){var r=n("EpBk");t.exports=function(t,e){var n=t.__data__;return r(e)?n["string"==typeof e?"string":"hash"]:n.map}},QkVN:function(t,e,n){var r=n("+Qka"),i=n("LsHQ")(function(t,e,n){r(t,e,n)});t.exports=i},QqLw:function(t,e,n){var r=n("tadb"),i=n("ebwN"),o=n("HOxn"),a=n("yGk4"),s=n("Of+w"),u=n("NykK"),c=n("3Fdi"),l=c(r),f=c(i),h=c(o),p=c(a),d=c(s),y=u;(r&&"[object DataView]"!=y(new r(new ArrayBuffer(1)))||i&&"[object Map]"!=y(new i)||o&&"[object Promise]"!=y(o.resolve())||a&&"[object Set]"!=y(new a)||s&&"[object WeakMap]"!=y(new s))&&(y=function(t){var e=u(t),n="[object Object]"==e?t.constructor:void 0,r=n?c(n):"";if(r)switch(r){case l:return"[object DataView]";case f:return"[object Map]";case h:return"[object Promise]";case p:return"[object Set]";case d:return"[object WeakMap]"}return e}),t.exports=y},"R/W3":function(t,e,n){var r=n("KwMD"),i=n("2ajD"),o=n("CZoQ");t.exports=function(t,e,n){return e==e?o(t,e,n):r(t,i,n)}},S1nX:function(t,e,n){"use strict";var r=n("mrSG"),i=n("K9Ia"),o=n("6blF"),a=n("FFOo"),s=n("pugT");function u(){return function(t){return t.lift(new c(t))}}var c=function(){function t(t){this.connectable=t}return t.prototype.call=function(t,e){var n=this.connectable;n._refCount++;var r=new l(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i},t}(),l=function(t){function e(e,n){var r=t.call(this,e)||this;return r.connectable=n,r}return r.__extends(e,t),e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null},e}(a.a),f=function(t){function e(e,n){var r=t.call(this)||this;return r.source=e,r.subjectFactory=n,r._refCount=0,r._isComplete=!1,r}return r.__extends(e,t),e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new s.a).add(this.source.subscribe(new p(this.getSubject(),this))),t.closed?(this._connection=null,t=s.a.EMPTY):this._connection=t),t},e.prototype.refCount=function(){return u()(this)},e}(o.a).prototype,h={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:f._subscribe},_isComplete:{value:f._isComplete,writable:!0},getSubject:{value:f.getSubject},connect:{value:f.connect},refCount:{value:f.refCount}},p=function(t){function e(e,n){var r=t.call(this,e)||this;return r.connectable=n,r}return r.__extends(e,t),e.prototype._error=function(e){this._unsubscribe(),t.prototype._error.call(this,e)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}},e}(i.b);function d(){return new i.a}function y(){return function(t){return u()((e=d,function(t){var n;n="function"==typeof e?e:function(){return e};var r=Object.create(t,h);return r.source=t,r.subjectFactory=n,r})(t));var e}}n.d(e,"a",function(){return y})},S5XQ:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("DKTb"),i=function(t){return function(e){return t.then(function(t){e.closed||(e.next(t),e.complete())},function(t){return e.error(t)}).then(null,r.a),e}}},SfRM:function(t,e,n){var r=n("YESw");t.exports=function(){this.__data__=r?r(null):{},this.size=0}},Sxd8:function(t,e,n){var r=n("ZCgT");t.exports=function(t){var e=r(t),n=e%1;return e==e?n?e-n:e:0}},T1AV:function(t,e,n){var r=n("t2Dn"),i=n("5Tg0"),o=n("yP5f"),a=n("Q1l4"),s=n("+iFO"),u=n("03A+"),c=n("Z0cm"),l=n("3L66"),f=n("DSRE"),h=n("lSCD"),p=n("GoyQ"),d=n("YO3V"),y=n("c6wG"),m=n("itsj"),v=n("jeLo");t.exports=function(t,e,n,g,b,_,w){var E=m(t,n),C=m(e,n),S=w.get(C);if(S)r(t,n,S);else{var D=_?_(E,C,n+"",t,e,w):void 0,O=void 0===D;if(O){var T=c(C),A=!T&&f(C),I=!T&&!A&&y(C);D=C,T||A||I?c(E)?D=E:l(E)?D=a(E):A?(O=!1,D=i(C,!0)):I?(O=!1,D=o(C,!0)):D=[]:d(C)||u(C)?(D=E,u(E)?D=v(E):p(E)&&!h(E)||(D=s(C))):O=!1}O&&(w.set(C,D),b(D,C,g,_,w),w.delete(C)),r(t,n,D)}}},"UNi/":function(t,e){t.exports=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}},V6Ve:function(t,e,n){var r=n("kekF")(Object.keys,Object);t.exports=r},VOtZ:function(t,e,n){var r=n("juv8"),i=n("MvSz");t.exports=function(t,e){return r(t,i(t),e)}},VaNO:function(t,e){t.exports=function(t){return this.__data__.has(t)}},WFqU:function(t,e){var n="object"==typeof global&&global&&global.Object===Object&&global;t.exports=n},Wcq6:function(t,e,n){"use strict";var r,i=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r.default:r;t.exports=i},WwFo:function(t,e,n){var r=n("juv8"),i=n("7GkX");t.exports=function(t,e){return t&&r(e,i(e),t)}},XGnz:function(t,e,n){var r=n("CH3K"),i=n("BiGR");t.exports=function t(e,n,o,a,s){var u=-1,c=e.length;for(o||(o=i),s||(s=[]);++u<c;){var l=e[u];n>0&&o(l)?n>1?t(l,n-1,o,a,s):r(s,l):a||(s[s.length]=l)}return s}},XYm9:function(t,e,n){var r=n("+K+b");t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}},Xi7e:function(t,e,n){var r=n("KMkd"),i=n("adU4"),o=n("tMB7"),a=n("+6XX"),s=n("Z8oC");function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,t.exports=u},"Xt/L":function(t,e){t.exports=function(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}},YESw:function(t,e,n){var r=n("Cwc5")(Object,"create");t.exports=r},YO3V:function(t,e,n){var r=n("NykK"),i=n("LcsW"),o=n("ExA7"),a=Function.prototype,s=Object.prototype,u=a.toString,c=s.hasOwnProperty,l=u.call(Object);t.exports=function(t){if(!o(t)||"[object Object]"!=r(t))return!1;var e=i(t);if(null===e)return!0;var n=c.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&u.call(n)==l}},YuTi:function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},Z0cm:function(t,e){var n=Array.isArray;t.exports=n},Z8oC:function(t,e,n){var r=n("y1pI");t.exports=function(t,e){var n=this.__data__,i=r(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}},ZCgT:function(t,e,n){var r=n("tLB3");t.exports=function(t){return t?(t=r(t))===1/0||t===-1/0?1.7976931348623157e308*(t<0?-1:1):t==t?t:0:0===t?t:0}},Zn8D:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("psW0"),i=n("mChF");function o(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),Object(r.a)(i.a,t)}},Zsd2:function(t,e,n){var r=n("zoYe"),i=n("wy8a"),o=n("LPhD"),a=n("t4mE"),s=n("Em2t"),u=n("dt0z"),c=/^\s+|\s+$/g;t.exports=function(t,e,n){if((t=u(t))&&(n||void 0===e))return t.replace(c,"");if(!t||!(e=r(e)))return t;var l=s(t),f=s(e),h=a(l,f),p=o(l,f)+1;return i(l,h,p).join("")}},adU4:function(t,e,n){var r=n("y1pI"),i=Array.prototype.splice;t.exports=function(t){var e=this.__data__,n=r(e,t);return!(n<0||(n==e.length-1?e.pop():i.call(e,n,1),--this.size,0))}},b2z7:function(t,e){var n=/\w*$/;t.exports=function(t){var e=new t.constructor(t.source,n.exec(t));return e.lastIndex=t.lastIndex,e}},b80T:function(t,e,n){var r=n("UNi/"),i=n("03A+"),o=n("Z0cm"),a=n("DSRE"),s=n("wJg7"),u=n("c6wG"),c=Object.prototype.hasOwnProperty;t.exports=function(t,e){var n=o(t),l=!n&&i(t),f=!n&&!l&&a(t),h=!n&&!l&&!f&&u(t),p=n||l||f||h,d=p?r(t.length,String):[],y=d.length;for(var m in t)!e&&!c.call(t,m)||p&&("length"==m||f&&("offset"==m||"parent"==m)||h&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||s(m,y))||d.push(m);return d}},bahg:function(t,e){t.exports=function(t){return t.split("")}},c6wG:function(t,e,n){var r=n("dD9F"),i=n("sEf8"),o=n("mdPL"),a=o&&o.isTypedArray,s=a?i(a):r;t.exports=s},"cq/+":function(t,e,n){var r=n("mc0g")();t.exports=r},crnd:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="crnd"},cvCv:function(t,e){t.exports=function(t){return function(){return t}}},dD9F:function(t,e,n){var r=n("NykK"),i=n("shjB"),o=n("ExA7"),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,t.exports=function(t){return o(t)&&i(t.length)&&!!a[r(t)]}},dTAl:function(t,e,n){var r=n("GoyQ"),i=Object.create,o=function(){function t(){}return function(e){if(!r(e))return{};if(i)return i(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();t.exports=o},dt0z:function(t,e,n){var r=n("zoYe");t.exports=function(t){return null==t?"":r(t)}},e4Nc:function(t,e,n){var r=n("fGT3"),i=n("k+1r"),o=n("JHgL"),a=n("pSRY"),s=n("H8j4");function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,t.exports=u},eUgh:function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}},ebwN:function(t,e,n){var r=n("Cwc5")(n("Kz5y"),"Map");t.exports=r},eihs:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r={e:{}}},ekgI:function(t,e,n){var r=n("YESw"),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return r?void 0!==e[t]:i.call(e,t)}},fGT3:function(t,e,n){var r=n("4kuk"),i=n("Xi7e"),o=n("ebwN");t.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},"fR/l":function(t,e,n){var r=n("CH3K"),i=n("Z0cm");t.exports=function(t,e,n){var o=e(t);return i(t)?o:r(o,n(t))}},fmRc:function(t,e,n){var r=n("Xi7e"),i=n("77Zs"),o=n("L8xA"),a=n("gCq4"),s=n("VaNO"),u=n("0Cz8");function c(t){var e=this.__data__=new r(t);this.size=e.size}c.prototype.clear=i,c.prototype.delete=o,c.prototype.get=a,c.prototype.has=s,c.prototype.set=u,t.exports=c},ftKO:function(t,e){t.exports=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this}},fylK:function(t,e,n){var r=n("mrSG").__decorate,i=n("mrSG").__metadata;Object.defineProperty(e,"__esModule",{value:!0});var o=n("CcnG"),a=n("Ip0R"),s=(n("6QML"),n("BHEk"));e.CloudinaryVideo=function(){function t(t,e,n){this.el=t,this.cloudinary=e,this.platformId=n}return t.prototype.ngOnInit=function(){var t=this;"undefined"!=typeof MutationObserver&&(this.observer=new MutationObserver(function(){t.loadVideo(t.publicId)}),this.observer.observe(this.el.nativeElement,{attributes:!0,childList:!0}))},t.prototype.ngOnChanges=function(t){t.publicId&&!t.publicId.isFirstChange()&&this.loadVideo(t.publicId.currentValue)},t.prototype.ngOnDestroy=function(){this.observer&&this.observer.disconnect&&this.observer.disconnect()},t.prototype.ngAfterViewInit=function(){if(!this.publicId)throw new Error("You must set the public id of the video to load, e.g. <cl-video public-id={{video.public_id}}...></cl-video>");this.loadVideo(this.publicId)},t.prototype.loadVideo=function(t){if(a.isPlatformBrowser(this.platformId)){var e=this.el.nativeElement,n=e.children[0],r=this.cloudinary.toCloudinaryAttributes(e.attributes,this.transformations),i=this.cloudinary.videoTag(t,r);this.appendSourceElements(n,i.content()),this.setElementAttributes(n,i.attributes())}},t.prototype.setElementAttributes=function(t,e){Object.keys(e).forEach(function(n){t.setAttribute(n,e[n])})},t.prototype.appendSourceElements=function(t,e){var n=document.createDocumentFragment();for(t.innerHTML=e;t.childNodes[0];)n.appendChild(t.childNodes[0]);t.appendChild(n)},r([o.Input("public-id"),i("design:type",String)],t.prototype,"publicId",void 0),r([o.ContentChildren(s.CloudinaryTransformationDirective),i("design:type",o.QueryList)],t.prototype,"transformations",void 0),r([o.Component({selector:"cl-video",template:"<video></video>"})],t)}()},gCq4:function(t,e){t.exports=function(t){return this.__data__.get(t)}},gFfm:function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}},heNW:function(t,e){t.exports=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}},hypo:function(t,e,n){var r=n("O0oS");t.exports=function(t,e,n){"__proto__"==e&&r?r(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}},iLxQ:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=!1,i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},iP1z:function(t,e,n){var r=n("ExA7"),i=n("YO3V");t.exports=function(t){return r(t)&&1===t.nodeType&&!i(t)}},ijCd:function(t,e,n){var r=n("R/W3"),i=n("MMmD"),o=n("4qC0"),a=n("Sxd8"),s=n("P/G1"),u=Math.max;t.exports=function(t,e,n,c){t=i(t)?t:s(t),n=n&&!c?a(n):0;var l=t.length;return n<0&&(n=u(l+n,0)),o(t)?n<=l&&t.indexOf(e,n)>-1:!!l&&r(t,e,n)>-1}},isby:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=Array.isArray||function(t){return t&&"number"==typeof t.length}},itsj:function(t,e){t.exports=function(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}},"jbM+":function(t,e,n){var r=n("R/W3");t.exports=function(t,e){return!(null==t||!t.length)&&r(t,e,0)>-1}},jeLo:function(t,e,n){var r=n("juv8"),i=n("mTTR");t.exports=function(t){return r(t,i(t))}},juv8:function(t,e,n){var r=n("MrPd"),i=n("hypo");t.exports=function(t,e,n,o){var a=!n;n||(n={});for(var s=-1,u=e.length;++s<u;){var c=e[s],l=o?o(n[c],t[c],c,n,t):void 0;void 0===l&&(l=t[c]),a?i(n,c,l):r(n,c,l)}return n}},"k+1r":function(t,e,n){var r=n("QkVE");t.exports=function(t){var e=r(this,t).delete(t);return this.size-=e?1:0,e}},kekF:function(t,e){t.exports=function(t,e){return function(n){return t(e(n))}}},lSCD:function(t,e,n){var r=n("NykK"),i=n("GoyQ");t.exports=function(t){if(!i(t))return!1;var e=r(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},ljhN:function(t,e){t.exports=function(t,e){return t===e||t!=t&&e!=e}},mChF:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",function(){return r})},mTTR:function(t,e,n){var r=n("b80T"),i=n("QcOe"),o=n("MMmD");t.exports=function(t){return o(t)?r(t,!0):i(t)}},mb0K:function(t,e,n){var r=n("mrSG").__decorate,i=n("mrSG").__metadata;Object.defineProperty(e,"__esModule",{value:!0});var o=n("CcnG"),a=(n("6QML"),n("BHEk"));e.CloudinaryBackgroundImageDirective=function(){function t(t,e,n){this.renderer=t,this.el=e,this.cloudinary=n}return t.prototype.isBrowser=function(){return"undefined"!=typeof window},t.prototype.ngAfterViewInit=function(){if(this.isBrowser()){var t=this.el.nativeElement,e=this.cloudinary.toCloudinaryAttributes(t.attributes,this.transformations),n=this.cloudinary.url(this.clBackgroundImage,e);this.renderer.setStyle(t,"background-image","url('"+n+"')"),this.renderer.setStyle(t,"background-repeat","no-repeat"),this.renderer.setStyle(t,"background-position","center")}},r([o.Input(),i("design:type",String)],t.prototype,"clBackgroundImage",void 0),r([o.ContentChildren(a.CloudinaryTransformationDirective),i("design:type",o.QueryList)],t.prototype,"transformations",void 0),r([o.Directive({selector:"[clBackgroundImage]"})],t)}()},mc0g:function(t,e){t.exports=function(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var u=a[t?s:++i];if(!1===n(o[u],u,o))break}return e}}},mdPL:function(t,e,n){(function(t){var r=n("WFqU"),i=e&&!e.nodeType&&e,o=i&&"object"==typeof t&&t&&!t.nodeType&&t,a=o&&o.exports===i&&r.process,s=function(){try{return o&&o.require&&o.require("util").types||a&&a.binding&&a.binding("util")}catch(t){}}();t.exports=s}).call(this,n("YuTi")(t))},mrSG:function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",function(){return i}),n.d(e,"__assign",function(){return o}),n.d(e,"__rest",function(){return a}),n.d(e,"__decorate",function(){return s}),n.d(e,"__param",function(){return u}),n.d(e,"__metadata",function(){return c}),n.d(e,"__awaiter",function(){return l}),n.d(e,"__generator",function(){return f}),n.d(e,"__exportStar",function(){return h}),n.d(e,"__values",function(){return p}),n.d(e,"__read",function(){return d}),n.d(e,"__spread",function(){return y}),n.d(e,"__await",function(){return m}),n.d(e,"__asyncGenerator",function(){return v}),n.d(e,"__asyncDelegator",function(){return g}),n.d(e,"__asyncValues",function(){return b}),n.d(e,"__makeTemplateObject",function(){return _}),n.d(e,"__importStar",function(){return w}),n.d(e,"__importDefault",function(){return E});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function a(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&(n[r[i]]=t[r[i]])}return n}function s(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}function u(t,e){return function(n,r){e(n,r,t)}}function c(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function l(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})}function f(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function h(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function p(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function d(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function y(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(d(arguments[e]));return t}function m(t){return this instanceof m?(this.v=t,this):new m(t)}function v(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(t){i[t]&&(r[t]=function(e){return new Promise(function(n,r){o.push([t,e,n,r])>1||s(t,e)})})}function s(t,e){try{(n=i[t](e)).value instanceof m?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(r){l(o[0][3],r)}var n}function u(t){s("next",t)}function c(t){s("throw",t)}function l(t,e){t(e),o.shift(),o.length&&s(o[0][0],o[0][1])}}function g(t){var e,n;return e={},r("next"),r("throw",function(t){throw t}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:m(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function b(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=p(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise(function(r,i){!function(t,e,n,r){Promise.resolve(r).then(function(e){t({value:e,done:n})},e)}(r,i,(e=t[n](e)).done,e.value)})}}}function _(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function w(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function E(t){return t&&t.__esModule?t:{default:t}}},"mv/X":function(t,e,n){var r=n("ljhN"),i=n("MMmD"),o=n("wJg7"),a=n("GoyQ");t.exports=function(t,e,n){if(!a(n))return!1;var s=typeof e;return!!("number"==s?i(n)&&o(e,n.length):"string"==s&&e in n)&&r(n[e],t)}},nkY7:function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},nmnc:function(t,e,n){var r=n("Kz5y");t.exports=r.Symbol},"oCl/":function(t,e,n){var r=n("CH3K"),i=n("LcsW"),o=n("MvSz"),a=n("0ycA"),s=Object.getOwnPropertySymbols;t.exports=s?function(t){for(var e=[];t;)r(e,o(t)),t=i(t);return e}:a},"otv/":function(t,e,n){var r=n("nmnc"),i=r?r.prototype:void 0,o=i?i.valueOf:void 0;t.exports=function(t){return o?Object(o.call(t)):{}}},p0ib:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("6blF"),i=n("nkY7"),o=n("Zn8D"),a=n("IUTb");function s(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Number.POSITIVE_INFINITY,s=null,u=t[t.length-1];return Object(i.a)(u)?(s=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(n=t.pop())):"number"==typeof u&&(n=t.pop()),null===s&&1===t.length&&t[0]instanceof r.a?t[0]:Object(o.a)(n)(Object(a.a)(t,s))}},pFRH:function(t,e,n){var r=n("cvCv"),i=n("O0oS"),o=n("zZ0H");t.exports=i?function(t,e){return i(t,"toString",{configurable:!0,enumerable:!1,value:r(e),writable:!0})}:o},pSRY:function(t,e,n){var r=n("QkVE");t.exports=function(t){return r(this,t).has(t)}},psW0:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("mrSG"),i=n("zotm"),o=n("MGBS"),a=n("rPjj"),s=n("67Y/"),u=n("0/uQ");function c(t,e,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"==typeof e?function(r){return r.pipe(c(function(n,r){return Object(u.a)(t(n,r)).pipe(Object(s.a)(function(t,i){return e(n,t,r,i)}))},n))}:("number"==typeof e&&(n=e),function(e){return e.lift(new l(t,n))})}var l=function(){function t(t,e){void 0===e&&(e=Number.POSITIVE_INFINITY),this.project=t,this.concurrent=e}return t.prototype.call=function(t,e){return e.subscribe(new f(t,this.project,this.concurrent))},t}(),f=function(t){function e(e,n,r){void 0===r&&(r=Number.POSITIVE_INFINITY);var i=t.call(this,e)||this;return i.project=n,i.concurrent=r,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return r.__extends(e,t),e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){var r=new a.a(this,void 0,void 0);this.destination.add(r),Object(i.a)(this,t,e,n,r)},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(o.a)},pugT:function(t,e,n){"use strict";var r=n("isby"),i=n("McSo"),o=n("2Bdj"),a=n("Ehmk"),s=n("eihs");function u(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map(function(t,e){return e+1+") "+t.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}u.prototype=Object.create(Error.prototype);var c=u;n.d(e,"a",function(){return l});var l=function(){function t(t){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}var e;return t.prototype.unsubscribe=function(){var t,e=!1;if(!this.closed){var n=this._parent,u=this._parents,l=this._unsubscribe,h=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var p=-1,d=u?u.length:0;n;)n.remove(this),n=++p<d&&u[p]||null;if(Object(o.a)(l)&&Object(a.a)(l).call(this)===s.a&&(e=!0,t=t||(s.a.e instanceof c?f(s.a.e.errors):[s.a.e])),Object(r.a)(h))for(p=-1,d=h.length;++p<d;){var y=h[p];if(Object(i.a)(y)&&Object(a.a)(y.unsubscribe).call(y)===s.a){e=!0,t=t||[];var m=s.a.e;m instanceof c?t=t.concat(f(m.errors)):t.push(m)}}if(e)throw new c(t)}},t.prototype.add=function(e){if(!e||e===t.EMPTY)return t.EMPTY;if(e===this)return this;var n=e;switch(typeof e){case"function":n=new t(e);case"object":if(n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if("function"!=typeof n._addParent){var r=n;(n=new t)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}return(this._subscriptions||(this._subscriptions=[])).push(n),n._addParent(this),n},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}},t.prototype._addParent=function(t){var e=this._parent,n=this._parents;e&&e!==t?n?-1===n.indexOf(t)&&n.push(t):this._parents=[t]:this._parent=t},t.EMPTY=((e=new t).closed=!0,e),t}();function f(t){return t.reduce(function(t,e){return t.concat(e instanceof c?e.errors:e)},[])}},"q/0M":function(t,e,n){"use strict";n.r(e),n.d(e,"LogLevel",function(){return i}),n.d(e,"Logger",function(){return s}),n.d(e,"setLogLevel",function(){return u});var r=[],i=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),o=i.INFO,a=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var o=(new Date).toISOString();switch(e){case i.DEBUG:case i.VERBOSE:console.log.apply(console,["["+o+"]  "+t.name+":"].concat(n));break;case i.INFO:console.info.apply(console,["["+o+"]  "+t.name+":"].concat(n));break;case i.WARN:console.warn.apply(console,["["+o+"]  "+t.name+":"].concat(n));break;case i.ERROR:console.error.apply(console,["["+o+"]  "+t.name+":"].concat(n));break;default:throw new Error("Attempted to log a message with an invalid logType (value: "+e+")")}}},s=function(){function t(t){this.name=t,this._logLevel=o,this._logHandler=a,r.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in i))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!0,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,i.DEBUG].concat(t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,i.VERBOSE].concat(t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,i.INFO].concat(t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,i.WARN].concat(t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,i.ERROR].concat(t))},t}();function u(t){r.forEach(function(e){e.logLevel=t})}},qZTm:function(t,e,n){var r=n("fR/l"),i=n("MvSz"),o=n("7GkX");t.exports=function(t){return r(t,o,i)}},quyA:function(t,e){var n=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");t.exports=function(t){return n.test(t)}},r7kc:function(t,e,n){var r=n("LXxW"),i=n("lSCD");t.exports=function(t,e){return r(e,function(e){return i(t[e])})}},rPjj:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("mrSG"),i=function(t){function e(e,n,r){var i=t.call(this)||this;return i.parent=e,i.outerValue=n,i.outerIndex=r,i.index=0,i}return r.__extends(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(n("FFOo").a)},sEf8:function(t,e){t.exports=function(t){return function(e){return t(e)}}},shjB:function(t,e){t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},t2Dn:function(t,e,n){var r=n("hypo"),i=n("ljhN");t.exports=function(t,e,n){(void 0===n||i(t[e],n))&&(void 0!==n||e in t)||r(t,e,n)}},t4mE:function(t,e,n){var r=n("R/W3");t.exports=function(t,e){for(var n=-1,i=t.length;++n<i&&r(e,t[n],0)>-1;);return n}},tLB3:function(t,e,n){var r=n("GoyQ"),i=n("/9aa"),o=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(i(t))return NaN;if(r(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=r(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(o,"");var n=s.test(t);return n||u.test(t)?c(t.slice(2),n?2:8):a.test(t)?NaN:+t}},tMB7:function(t,e,n){var r=n("y1pI");t.exports=function(t){var e=this.__data__,n=r(e,t);return n<0?void 0:e[n][1]}},tadb:function(t,e,n){var r=n("Cwc5")(n("Kz5y"),"DataView");t.exports=r},u67D:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("En8+"),i=function(t){return function(e){for(var n=t[r.a]();;){var i=n.next();if(i.done){e.complete();break}if(e.next(i.value),e.closed)break}return"function"==typeof n.return&&e.add(function(){n.return&&n.return()}),e}}},u8Dt:function(t,e,n){var r=n("YESw"),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(r){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(e,t)?e[t]:void 0}},uMaO:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("mrSG"),i=function(t){function e(e,n){var r=t.call(this)||this;return r.subject=e,r.subscriber=n,r.closed=!1,r}return r.__extends(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},e}(n("pugT").a)},"w/wX":function(t,e,n){var r=n("QqLw"),i=n("ExA7");t.exports=function(t){return i(t)&&"[object Set]"==r(t)}},wJg7:function(t,e){var n=/^(?:0|[1-9]\d*)$/;t.exports=function(t,e){var r=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==r||"symbol"!=r&&n.test(t))&&t>-1&&t%1==0&&t<e}},wclG:function(t,e,n){var r=n("pFRH"),i=n("88Gu")(r);t.exports=i},wig9:function(t,e){t.exports=function(t){for(var e=-1,n=null==t?0:t.length,r=0,i=[];++e<n;){var o=t[e];o&&(i[r++]=o)}return i}},wj3C:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n("mrSG"),o=n("zVF4"),a=n("q/0M"),s=((r={})["no-app"]="No Firebase App '{$name}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$name}",r["duplicate-app"]="Firebase App named '{$name}' already exists",r["app-deleted"]="Firebase App named '{$name}' already deleted",r["duplicate-service"]="Firebase service named '{$name}' already registered",r["invalid-app-argument"]="firebase.{$name}() takes either no argument or a Firebase App instance.",r),u=new o.ErrorFactory("app","Firebase",s);function c(t,e){throw u.create(t,e)}var l="[DEFAULT]",f=[],h=function(){function t(t,e,n){this.firebase_=n,this.isDeleted_=!1,this.services_={},this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=o.deepCopy(t),this.INTERNAL={getUid:function(){return null},getToken:function(){return Promise.resolve(null)},addAuthTokenListener:function(t){f.push(t),setTimeout(function(){return t(null)},0)},removeAuthTokenListener:function(t){f=f.filter(function(e){return e!==t})}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){t.firebase_.INTERNAL.removeApp(t.name_);for(var e=[],n=0,r=Object.keys(t.services_);n<r.length;n++)for(var i=r[n],o=0,a=Object.keys(t.services_[i]);o<a.length;o++)e.push(t.services_[i][a[o]]);return Promise.all(e.map(function(t){return t.INTERNAL.delete()}))}).then(function(){t.isDeleted_=!0,t.services_={}})},t.prototype._getService=function(t,e){if(void 0===e&&(e=l),this.checkDestroyed_(),this.services_[t]||(this.services_[t]={}),!this.services_[t][e]){var n=e!==l?e:void 0,r=this.firebase_.INTERNAL.factories[t](this,this.extendApp.bind(this),n);this.services_[t][e]=r}return this.services_[t][e]},t.prototype.extendApp=function(t){var e=this;o.deepExtend(this,t),t.INTERNAL&&t.INTERNAL.addAuthTokenListener&&(f.forEach(function(t){e.INTERNAL.addAuthTokenListener(t)}),f=[])},t.prototype.checkDestroyed_=function(){this.isDeleted_&&c("app-deleted",{name:this.name_})},t}();function p(t,e){return Object.prototype.hasOwnProperty.call(t,e)}h.prototype.name&&h.prototype.options||h.prototype.delete||console.log("dc");var d=new a.Logger("@firebase/app");if(o.isBrowser()&&"firebase"in self){d.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var y=self.firebase.SDK_VERSION;y&&y.indexOf("LITE")>=0&&d.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var m=function t(){var e=function(t){var e={},n={},r={},i={__esModule:!0,initializeApp:function(n,r){void 0===r&&(r={}),("object"!=typeof r||null===r)&&(r={name:r});var o=r;void 0===o.name&&(o.name=l);var a=o.name;"string"==typeof a&&a||c("bad-app-name",{name:String(a)}),p(e,a)&&c("duplicate-app",{name:a});var s=new t(n,o,i);return e[a]=s,u(s,"create"),s},app:a,apps:null,SDK_VERSION:"6.0.2",INTERNAL:{registerService:function(e,u,l,f,h){function p(t){return void 0===t&&(t=a()),"function"!=typeof t[e]&&c("invalid-app-argument",{name:e}),t[e]()}return void 0===h&&(h=!1),n[e]&&c("duplicate-service",{name:e}),n[e]=u,f&&(r[e]=f,s().forEach(function(t){f("create",t)})),void 0!==l&&o.deepExtend(p,l),i[e]=p,t.prototype[e]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return this._getService.bind(this,e).apply(this,h?t:[])},p},removeApp:function(t){u(e[t],"delete"),delete e[t]},factories:n,useAsService:f}};function a(t){return p(e,t=t||l)||c("no-app",{name:t}),e[t]}function s(){return Object.keys(e).map(function(t){return e[t]})}function u(t,e){for(var i=0,o=Object.keys(n);i<o.length;i++){var a=f(0,o[i]);if(null===a)return;r[a]&&r[a](e,t)}}function f(t,e){return"serverAuth"===e?null:e}return o.patchProperty(i,"default",i),Object.defineProperty(i,"apps",{get:s}),o.patchProperty(a,"App",t),i}(h);return e.INTERNAL=i.__assign({},e.INTERNAL,{createFirebaseNamespace:t,extendNamespace:function(t){o.deepExtend(e,t)},createSubscribe:o.createSubscribe,ErrorFactory:o.ErrorFactory,deepExtend:o.deepExtend}),e}(),v=m.initializeApp;m.initializeApp=function(){return o.isNode()&&d.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and set "module"\n      to false and "main" to true:\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),v.apply(void 0,arguments)};var g=m;e.default=g,e.firebase=g},wrZu:function(t,e,n){var r=n("+K+b"),i=n("XYm9"),o=n("b2z7"),a=n("otv/"),s=n("yP5f");t.exports=function(t,e,n){var u=t.constructor;switch(e){case"[object ArrayBuffer]":return r(t);case"[object Boolean]":case"[object Date]":return new u(+t);case"[object DataView]":return i(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(t,n);case"[object Map]":return new u;case"[object Number]":case"[object String]":return new u(t);case"[object RegExp]":return o(t);case"[object Set]":return new u;case"[object Symbol]":return a(t)}}},wy8a:function(t,e,n){var r=n("KxBF");t.exports=function(t,e,n){var i=t.length;return n=void 0===n?i:n,!e&&n>=i?t:r(t,e,n)}},x7I3:function(t,e,n){"use strict";n.r(e),n.d(e,"ErrorCode",function(){return sr}),n.d(e,"EventType",function(){return ur}),n.d(e,"WebChannel",function(){return cr}),n.d(e,"XhrIo",function(){return lr}),n.d(e,"createWebChannelTransport",function(){return ar});var r,i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},o=o||{},a=i;function s(t){return"string"==typeof t}function u(t){return"number"==typeof t}function c(t,e){t=t.split("."),e=e||a;for(var n=0;n<t.length;n++)if(null==(e=e[t[n]]))return null;return e}function l(){}function f(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function h(t){return"array"==f(t)}function p(t){var e=f(t);return"array"==e||"object"==e&&"number"==typeof t.length}function d(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var y="closure_uid_"+(1e9*Math.random()>>>0),m=0;function v(t,e,n){return t.call.apply(t.bind,arguments)}function g(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function b(t,e,n){return(b=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?v:g).apply(null,arguments)}function _(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var w=Date.now||function(){return+new Date};function E(t,e){function n(){}n.prototype=e.prototype,t.N=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.yb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function C(){this.j=this.j,this.i=this.i}C.prototype.j=!1,C.prototype.la=function(){!this.j&&(this.j=!0,this.G(),0)&&(this[y]||(this[y]=++m))},C.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var S=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(s(t))return s(e)&&1==e.length?t.indexOf(e,0):-1;for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},D=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i=s(t)?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function O(t){return Array.prototype.concat.apply([],arguments)}function T(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function A(t){return/^[\s\xa0]*$/.test(t)}var I,x=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function k(t,e){return-1!=t.indexOf(e)}function R(t,e){return t<e?-1:t>e?1:0}t:{var P=a.navigator;if(P){var N=P.userAgent;if(N){I=N;break t}}I=""}function j(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function M(t){var e,n={};for(e in t)n[e]=t[e];return n}var F="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<F.length;o++)n=F[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function B(t){return B[" "](t),t}B[" "]=l;var V,U,q=k(I,"Opera"),z=k(I,"Trident")||k(I,"MSIE"),H=k(I,"Edge"),Q=H||z,K=k(I,"Gecko")&&!(k(I.toLowerCase(),"webkit")&&!k(I,"Edge"))&&!(k(I,"Trident")||k(I,"MSIE"))&&!k(I,"Edge"),G=k(I.toLowerCase(),"webkit")&&!k(I,"Edge");function W(){var t=a.document;return t?t.documentMode:void 0}t:{var Y="",Z=(U=I,K?/rv:([^\);]+)(\)|;)/.exec(U):H?/Edge\/([\d\.]+)/.exec(U):z?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(U):G?/WebKit\/(\S+)/.exec(U):q?/(?:Version)[ \/]?(\S+)/.exec(U):void 0);if(Z&&(Y=Z?Z[1]:""),z){var X=W();if(null!=X&&X>parseFloat(Y)){V=String(X);break t}}V=Y}var J,$={};function tt(t){return function(t,e){var n=$;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=x(String(V)).split("."),r=x(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=R(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||R(0==a[2].length,0==s[2].length)||R(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e})}var et=a.document;J=et&&z?W()||("CSS1Compat"==et.compatMode?parseInt(V,10):5):void 0;var nt=!z||9<=Number(J),rt=z&&!tt("9"),it=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{a.addEventListener("test",l,e),a.removeEventListener("test",l,e)}catch(n){}return t}();function ot(t,e){this.type=t,this.a=this.target=e,this.Ja=!0}function at(t,e){if(ot.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(K){t:{try{B(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=s(t.pointerType)?t.pointerType:st[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}ot.prototype.b=function(){this.Ja=!1},E(at,ot);var st={2:"touch",3:"pen",4:"mouse"};at.prototype.b=function(){at.N.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,rt)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var ut="closure_listenable_"+(1e6*Math.random()|0),ct=0;function lt(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.da=i,this.key=++ct,this.X=this.Z=!1}function ft(t){t.X=!0,t.listener=null,t.proxy=null,t.src=null,t.da=null}function ht(t){this.src=t,this.a={},this.b=0}function pt(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=S(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(ft(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function dt(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.X&&o.listener==e&&o.capture==!!n&&o.da==r)return i}return-1}ht.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=dt(t,e,r,i);return-1<a?(e=t[a],n||(e.Z=!1)):((e=new lt(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var yt="closure_lm_"+(1e6*Math.random()|0),mt={};function vt(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,o){if(h(n)){for(var a=0;a<n.length;a++)t(e,n[a],r,i,o);return null}return r=St(r),e&&e[ut]?e.Ba(n,r,d(i)?!!i.capture:!!i,o):gt(e,n,r,!0,i,o)}(t,e,n,r,i);if(h(e)){for(var o=0;o<e.length;o++)vt(t,e[o],n,r,i);return null}return n=St(n),t&&t[ut]?t.Aa(e,n,d(r)?!!r.capture:!!r,i):gt(t,e,n,!1,r,i)}function gt(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=d(i)?!!i.capture:!!i;if(a&&!nt)return null;var s=Et(t);if(s||(t[yt]=s=new ht(t)),(n=s.add(e,n,r,a,o)).proxy)return n;if(r=function(){var t=wt,e=nt?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)it||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(_t(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function bt(t){if(!u(t)&&t&&!t.X){var e=t.src;if(e&&e[ut])pt(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(_t(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Et(e))?(pt(n,t),0==n.b&&(n.src=null,e[yt]=null)):ft(t)}}}function _t(t){return t in mt?mt[t]:mt[t]="on"+t}function wt(t,e){return!!t.X||function(t,e){var n=t.listener,r=t.da||t.src;return t.Z&&bt(t),n.call(r,e)}(t,nt?new at(e,this):e=new at(e||c("window.event"),this))}function Et(t){return(t=t[yt])instanceof ht?t:null}var Ct="__closure_events_fn_"+(1e9*Math.random()>>>0);function St(t){return"function"==f(t)?t:(t[Ct]||(t[Ct]=function(e){return t.handleEvent(e)}),t[Ct])}function Dt(){C.call(this),this.c=new ht(this),this.J=this,this.B=null}function Ot(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.X&&a.capture==n){var s=a.listener,u=a.da||a.src;a.Z&&pt(t.c,a),i=!1!==s.call(u,r)&&i}}return i&&0!=r.Ja}E(Dt,C),Dt.prototype[ut]=!0,(r=Dt.prototype).addEventListener=function(t,e,n,r){vt(this,t,e,n,r)},r.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,o){if(h(n))for(var a=0;a<n.length;a++)t(e,n[a],r,i,o);else i=d(i)?!!i.capture:!!i,r=St(r),e&&e[ut]?(e=e.c,(n=String(n).toString())in e.a&&-1<(r=dt(a=e.a[n],r,i,o))&&(ft(a[r]),Array.prototype.splice.call(a,r,1),0==a.length&&(delete e.a[n],e.b--))):e&&(e=Et(e))&&(n=e.a[n.toString()],e=-1,n&&(e=dt(n,r,i,o)),(r=-1<e?n[e]:null)&&bt(r))}(this,t,e,n,r)},r.dispatchEvent=function(t){var e,n=this.B;if(n)for(e=[];n;n=n.B)e.push(n);n=this.J;var r=t.type||t;if(s(t))t=new ot(t,n);else if(t instanceof ot)t.target=t.target||n;else{var i=t;L(t=new ot(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var a=t.a=e[o];i=Ot(a,r,!0,t)&&i}if(i=Ot(a=t.a=n,r,!0,t)&&i,i=Ot(a,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=Ot(a=t.a=e[o],r,!1,t)&&i;return i},r.G=function(){if(Dt.N.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)ft(n[r]);delete e.a[t],e.b--}}this.B=null},r.Aa=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},r.Ba=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Tt=a.JSON.stringify;function At(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function It(){this.b=this.a=null}At.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var xt,kt=new At(function(){return new Pt},function(t){t.reset()});function Rt(){var t=Ft,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Pt(){this.next=this.b=this.a=null}function Nt(t){a.setTimeout(function(){throw t},0)}function jt(t,e){xt||function(){var t=a.Promise.resolve(void 0);xt=function(){t.then(Lt)}}(),Mt||(xt(),Mt=!0),Ft.add(t,e)}It.prototype.add=function(t,e){var n=kt.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Pt.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Pt.prototype.reset=function(){this.next=this.b=this.a=null};var Mt=!1,Ft=new It;function Lt(){for(var t;t=Rt();){try{t.a.call(t.b)}catch(n){Nt(n)}var e=kt;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Mt=!1}function Bt(t,e){Dt.call(this),this.b=t||1,this.a=e||a,this.f=b(this.gb,this),this.g=w()}function Vt(t){t.ba=!1,t.L&&(t.a.clearTimeout(t.L),t.L=null)}function Ut(t,e,n){if("function"==f(t))n&&(t=b(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=b(t.handleEvent,t)}return 2147483647<Number(e)?-1:a.setTimeout(t,e||0)}function qt(t,e,n){C.call(this),this.f=null!=n?b(t,n):t,this.c=e,this.b=b(this.ab,this),this.a=[]}function zt(t){t.U=Ut(t.b,t.c),t.f.apply(null,t.a)}function Ht(t){C.call(this),this.b=t,this.a={}}E(Bt,Dt),(r=Bt.prototype).ba=!1,r.L=null,r.gb=function(){if(this.ba){var t=w()-this.g;0<t&&t<.8*this.b?this.L=this.a.setTimeout(this.f,this.b-t):(this.L&&(this.a.clearTimeout(this.L),this.L=null),this.dispatchEvent("tick"),this.ba&&(Vt(this),this.start()))}},r.start=function(){this.ba=!0,this.L||(this.L=this.a.setTimeout(this.f,this.b),this.g=w())},r.G=function(){Bt.N.G.call(this),Vt(this),delete this.a},E(qt,C),(r=qt.prototype).ea=!1,r.U=null,r.Ua=function(t){this.a=arguments,this.U?this.ea=!0:zt(this)},r.G=function(){qt.N.G.call(this),this.U&&(a.clearTimeout(this.U),this.U=null,this.ea=!1,this.a=[])},r.ab=function(){this.U=null,this.ea&&(this.ea=!1,zt(this))},E(Ht,C);var Qt=[];function Kt(t,e,n,r){h(n)||(n&&(Qt[0]=n.toString()),n=Qt);for(var i=0;i<n.length;i++){var o=vt(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function Gt(t){j(t.a,function(t,e){this.a.hasOwnProperty(e)&&bt(t)},t),t.a={}}function Wt(){}Ht.prototype.G=function(){Ht.N.G.call(this),Gt(this)},Ht.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Yt=new Dt;function Zt(t){ot.call(this,"serverreachability",t)}function Xt(t){Yt.dispatchEvent(new Zt(Yt,t))}function Jt(t){ot.call(this,"statevent",t)}function $t(t){Yt.dispatchEvent(new Jt(Yt,t))}function te(t){ot.call(this,"timingevent",t)}function ee(t,e){if("function"!=f(t))throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){t()},e)}E(Zt,ot),E(Jt,ot),E(te,ot);var ne={NO_ERROR:0,hb:1,ob:2,nb:3,kb:4,mb:5,pb:6,Ma:7,TIMEOUT:8,sb:9},re={jb:"complete",wb:"success",Na:"error",Ma:"abort",ub:"ready",vb:"readystatechange",TIMEOUT:"timeout",qb:"incrementaldata",tb:"progress",lb:"downloadprogress",xb:"uploadprogress"};function ie(){}function oe(){}ie.prototype.a=null;var ae,se={OPEN:"a",ib:"b",Na:"c",rb:"d"};function ue(){ot.call(this,"d")}function ce(){ot.call(this,"c")}function le(){}function fe(t,e,n){this.g=t,this.W=e,this.V=n||1,this.I=new Ht(this),this.O=he,this.P=new Bt(t=Q?125:void 0),this.h=null,this.b=!1,this.l=this.D=this.f=this.F=this.v=this.R=this.i=null,this.j=[],this.a=null,this.A=0,this.c=this.w=null,this.o=-1,this.m=!1,this.J=0,this.B=null,this.s=this.S=this.H=!1}E(ue,ot),E(ce,ot),E(le,ie),ae=new le;var he=45e3,pe={},de={};function ye(t,e,n){t.F=1,t.f=Ve(Pe(e)),t.l=n,t.H=!0,ve(t,null)}function me(t,e,n,r){t.F=1,t.f=Ve(Pe(e)),t.l=null,t.H=n,ve(t,r)}function ve(t,e){t.v=w(),_e(t),t.D=Pe(t.f),Be(t.D,"t",t.V),t.A=0,t.a=t.g.$(t.g.Y()?e:null),0<t.J&&(t.B=new qt(b(t.Ka,t,t.a),t.J)),Kt(t.I,t.a,"readystatechange",t.eb),e=t.h?M(t.h):{},t.l?(t.w||(t.w="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ca(t.D,t.w,t.l,e)):(t.w="GET",t.a.ca(t.D,t.w,null,e)),Xt(1)}function ge(t,e,n){for(var r=!0;!t.m&&t.A<n.length;){var i=be(t,n);if(i==de){4==e&&(t.c=4,$t(14),r=!1);break}if(i==pe){t.c=4,$t(15),r=!1;break}De(t,i)}4==e&&0==n.length&&(t.c=1,$t(16),r=!1),t.b=t.b&&r,r||(Se(t),Ce(t))}function be(t,e){var n=t.A,r=e.indexOf("\n",n);return-1==r?de:(n=Number(e.substring(n,r)),isNaN(n)?pe:(r+=1)+n>e.length?de:(e=e.substr(r,n),t.A=r+n,e))}function _e(t){t.R=w()+t.O,we(t,t.O)}function we(t,e){if(null!=t.i)throw Error("WatchDog timer not null");t.i=ee(b(t.bb,t),e)}function Ee(t){t.i&&(a.clearTimeout(t.i),t.i=null)}function Ce(t){t.g.Da()||t.m||t.g.na(t)}function Se(t){Ee(t);var e=t.B;e&&"function"==typeof e.la&&e.la(),t.B=null,Vt(t.P),Gt(t.I),t.a&&(e=t.a,t.a=null,e.abort(),e.la())}function De(t,e){try{t.g.Ga(t,e),Xt(4)}catch(n){}}function Oe(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(p(t)||s(t))D(t,e,void 0);else{if(t.K&&"function"==typeof t.K)var n=t.K();else if(t.C&&"function"==typeof t.C)n=void 0;else if(p(t)||s(t)){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.C&&"function"==typeof t.C)return t.C();if(s(t))return t.split("");if(p(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Te(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Te)for(n=t.K(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Ae(t,e){xe(t.b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Ie(t))}function Ie(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];xe(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)xe(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function xe(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(r=fe.prototype).setTimeout=function(t){this.O=t},r.eb=function(t){t=t.target;var e=this.B;e&&3==Pn(t)?e.Ua():this.Ka(t)},r.Ka=function(t){try{if(t==this.a)t:{var e=Pn(this.a),n=this.a.ya(),r=this.a.T();if(!(3>e||3==e&&!Q&&!this.a.aa())){this.m||4!=e||7==n||Xt(8==n||0>=r?3:2),Ee(this);var i=this.a.T();this.o=i;var o=this.a.aa();if(this.b=200==i){if(this.S&&!this.s){e:{if(this.a){var a=Nn(this.a,"X-HTTP-Initial-Response");if(a&&!A(a)){var s=a;break e}}s=null}if(!s){this.b=!1,this.c=3,$t(12),Se(this),Ce(this);break t}this.s=!0,De(this,s)}this.H?(ge(this,e,o),Q&&this.b&&3==e&&(Kt(this.I,this.P,"tick",this.cb),this.P.start())):De(this,o),4==e&&Se(this),this.b&&!this.m&&(4==e?this.g.na(this):(this.b=!1,_e(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.c=3,$t(12)):(this.c=0,$t(13)),Se(this),Ce(this)}}}catch(u){}},r.cb=function(){if(this.a){var t=Pn(this.a),e=this.a.aa();this.A<e.length&&(Ee(this),ge(this,t,e),this.b&&4!=t&&_e(this))}},r.cancel=function(){this.m=!0,Se(this)},r.bb=function(){this.i=null;var t=w();0<=t-this.R?(2!=this.F&&(Xt(3),$t(17)),Se(this),this.c=2,Ce(this)):we(this,this.R-t)},(r=Te.prototype).C=function(){Ie(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},r.K=function(){return Ie(this),this.a.concat()},r.get=function(t,e){return xe(this.b,t)?this.b[t]:e},r.set=function(t,e){xe(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},r.forEach=function(t,e){for(var n=this.K(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var ke=/^(?:([^:\/?#.]+):)?(?:\/\/(?:([^\/?#]*)@)?([^\/#?]*?)(?::([0-9]+))?(?=[\/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Re(t,e){var n;this.b=this.j=this.f="",this.i=null,this.g=this.a="",this.h=!1,t instanceof Re?(this.h=void 0!==e?e:t.h,Ne(this,t.f),this.j=t.j,je(this,t.b),Me(this,t.i),this.a=t.a,Fe(this,tn(t.c)),this.g=t.g):t&&(n=String(t).match(ke))?(this.h=!!e,Ne(this,n[1]||"",!0),this.j=Ue(n[2]||""),je(this,n[3]||"",!0),Me(this,n[4]),this.a=Ue(n[5]||"",!0),Fe(this,n[6]||"",!0),this.g=Ue(n[7]||"")):(this.h=!!e,this.c=new Ye(null,this.h))}function Pe(t){return new Re(t)}function Ne(t,e,n){t.f=n?Ue(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function je(t,e,n){t.b=n?Ue(e,!0):e}function Me(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.i=e}else t.i=null}function Fe(t,e,n){e instanceof Ye?(t.c=e,function(t,e){e&&!t.f&&(Ze(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Xe(this,e),$e(this,n,t))},t)),t.f=e}(t.c,t.h)):(n||(e=qe(e,Ge)),t.c=new Ye(e,t.h))}function Le(t,e,n){t.c.set(e,n)}function Be(t,e,n){h(n)||(n=[String(n)]),$e(t.c,e,n)}function Ve(t){return Le(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^w()).toString(36)),t}function Ue(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function qe(t,e,n){return s(t)?(t=encodeURI(t).replace(e,ze),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function ze(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Re.prototype.toString=function(){var t=[],e=this.f;e&&t.push(qe(e,He,!0),":");var n=this.b;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(qe(e,He,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.i)&&t.push(":",String(n))),(n=this.a)&&(this.b&&"/"!=n.charAt(0)&&t.push("/"),t.push(qe(n,"/"==n.charAt(0)?Ke:Qe,!0))),(n=this.c.toString())&&t.push("?",n),(n=this.g)&&t.push("#",qe(n,We)),t.join("")},Re.prototype.resolve=function(t){var e=Pe(this),n=!!t.f;n?Ne(e,t.f):n=!!t.j,n?e.j=t.j:n=!!t.b,n?je(e,t.b):n=null!=t.i;var r=t.a;if(n)Me(e,t.i);else if(n=!!t.a){if("/"!=r.charAt(0))if(this.b&&!this.a)r="/"+r;else{var i=e.a.lastIndexOf("/");-1!=i&&(r=e.a.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(k(i,"./")||k(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?e.a=r:n=""!==t.c.toString(),n?Fe(e,tn(t.c)):n=!!t.g,n&&(e.g=t.g),e};var He=/[#\/\?@]/g,Qe=/[#\?:]/g,Ke=/[#\?]/g,Ge=/[#\?@]/g,We=/#/g;function Ye(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Ze(t){t.a||(t.a=new Te,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Xe(t,e){Ze(t),e=en(t,e),xe(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Ae(t.a,e))}function Je(t,e){return Ze(t),e=en(t,e),xe(t.a.b,e)}function $e(t,e,n){Xe(t,e),0<n.length&&(t.c=null,t.a.set(en(t,e),T(n)),t.b+=n.length)}function tn(t){var e=new Ye;return e.c=t.c,t.a&&(e.a=new Te(t.a),e.b=t.b),e}function en(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function nn(t){this.a=t,this.b=this.h=null,this.g=!1,this.i=null,this.c=-1,this.l=this.f=null}function rn(t){var e=t.a.F.a;if(null!=e)$t(4),e?($t(10),Kn(t.a,t,!1)):($t(11),Kn(t.a,t,!0));else{t.b=new fe(t,void 0,void 0),t.b.h=t.h,e=Xn(e=t.a,e.Y()?t.f:null,t.i),$t(4),Be(e,"TYPE","xmlhttp");var n=t.a.j,r=t.a.I;n&&r&&Le(e,n,r),me(t.b,e,!1,t.f)}}function on(){this.a=this.b=null}function an(){this.a=new Te}function sn(t){var e=typeof t;return"object"==e&&t||"function"==e?"o"+(t[y]||(t[y]=++m)):e.charAt(0)+t}function un(t,e){this.b=t,this.a=e}function cn(t){this.g=t||ln,t=a.PerformanceNavigationTiming?0<(t=a.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(a.ka&&a.ka.Ea&&a.ka.Ea()&&a.ka.Ea().zb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new an),this.b=null,this.c=[]}(r=Ye.prototype).add=function(t,e){Ze(this),this.c=null,t=en(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},r.forEach=function(t,e){Ze(this),this.a.forEach(function(n,r){D(n,function(n){t.call(e,n,r,this)},this)},this)},r.K=function(){Ze(this);for(var t=this.a.C(),e=this.a.K(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},r.C=function(t){Ze(this);var e=[];if(s(t))Je(this,t)&&(e=O(e,this.a.get(en(this,t))));else{t=this.a.C();for(var n=0;n<t.length;n++)e=O(e,t[n])}return e},r.set=function(t,e){return Ze(this),this.c=null,Je(this,t=en(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},r.get=function(t,e){return t&&0<(t=this.C(t)).length?String(t[0]):e},r.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.K(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.C(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")},E(function(){},function(){}),(r=nn.prototype).M=null,r.$=function(t){return this.a.$(t)},r.abort=function(){this.b&&(this.b.cancel(),this.b=null),this.c=-1},r.Da=function(){return!1},r.Ga=function(t,e){if(this.c=t.o,0==this.M){if(!this.a.o&&(t=t.a)){var n=Nn(t,"X-Client-Wire-Protocol");this.l=n||null,this.a.j&&(t=Nn(t,"X-HTTP-Session-Id"))&&(this.a.I=t)}if(e){try{var r=this.a.ja.a.parse(e)}catch(i){return(e=this.a).m=this.c,void Yn(e,2)}this.f=r[0]}else(e=this.a).m=this.c,Yn(e,2)}else 1==this.M&&(this.g?$t(6):"11111"==e?($t(5),this.g=!0,(!z||10<=Number(J))&&(this.c=200,this.b.cancel(),$t(11),Kn(this.a,this,!0))):($t(7),this.g=!1))},r.na=function(){if(this.c=this.b.o,this.b.b)0==this.M?(this.M=1,rn(this)):1==this.M&&(this.g?($t(11),Kn(this.a,this,!0)):($t(10),Kn(this.a,this,!1)));else{0==this.M?$t(8):1==this.M&&$t(9);var t=this.a;t.m=this.c,Yn(t,2)}},r.Y=function(){return this.a.Y()},r.ma=function(){return this.a.ma()},an.prototype.add=function(t){this.a.set(sn(t),t)},an.prototype.C=function(){return this.a.C()};var ln=10;function fn(t,e){!t.a&&(k(e,"spdy")||k(e,"quic")||k(e,"h2"))&&(t.f=t.g,t.a=new an,t.b&&(yn(t,t.b),t.b=null))}function hn(t){return!!t.b||!!t.a&&t.a.a.c>=t.f}function pn(t){return t.b?1:t.a?t.a.a.c:0}function dn(t,e){return t.b?t=t.b==e:t.a?(e=sn(e),t=xe(t.a.a.b,e)):t=!1,t}function yn(t,e){t.a?t.a.add(e):t.b=e}function mn(t,e){var n;t.b&&t.b==e?t.b=null:((n=t.a)&&(n=sn(e),n=xe(t.a.a.b,n)),n&&Ae(t.a.a,sn(e)))}function vn(t){if(null!=t.b)return t.c.concat(t.b.j);if(null!=t.a&&0!=t.a.a.c){var e=t.c;return D(t.a.C(),function(t){e=e.concat(t.j)}),e}return T(t.c)}function gn(){}function bn(){this.a=new gn}function _n(t,e,n){var r=n||"";try{Oe(t,function(t,n){var i=t;d(t)&&(i=Tt(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function wn(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}cn.prototype.cancel=function(){var t;this.c=vn(this),this.b?(this.b.cancel(),this.b=null):this.a&&0!=this.a.a.c&&(D(this.a.C(),function(t){t.cancel()}),(t=this.a.a).b={},t.a.length=0,t.c=0)},gn.prototype.stringify=function(t){return a.JSON.stringify(t,void 0)},gn.prototype.parse=function(t){return a.JSON.parse(t,void 0)};var En=a.JSON.parse;function Cn(t){Dt.call(this),this.headers=new Te,this.H=t||null,this.b=!1,this.s=this.a=null,this.A="",this.h=0,this.f="",this.g=this.w=this.l=this.v=!1,this.o=0,this.m=null,this.I=Sn,this.D=this.F=!1}E(Cn,Dt);var Sn="",Dn=/^https?$/i,On=["POST","PUT"];function Tn(t){return"content-type"==t.toLowerCase()}function An(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,In(t),kn(t)}function In(t){t.v||(t.v=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function xn(t){if(t.b&&void 0!==o&&(!t.s[1]||4!=Pn(t)||2!=t.T()))if(t.l&&4==Pn(t))Ut(t.Fa,0,t);else if(t.dispatchEvent("readystatechange"),4==Pn(t)){t.b=!1;try{var e,n=t.T();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var s=String(t.A).match(ke)[1]||null;if(!s&&a.self&&a.self.location){var u=a.self.location.protocol;s=u.substr(0,u.length-1)}i=!Dn.test(s?s.toLowerCase():"")}e=i}e?(t.dispatchEvent("complete"),t.dispatchEvent("success")):(t.h=6,t.f=t.za()+" ["+t.T()+"]",In(t))}finally{kn(t)}}}function kn(t,e){if(t.a){Rn(t);var n=t.a,r=t.s[0]?l:null;t.a=null,t.s=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){}}}function Rn(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(a.clearTimeout(t.m),t.m=null)}function Pn(t){return t.a?t.a.readyState:0}function Nn(t,e){return t.a?t.a.getResponseHeader(e):null}function jn(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}if(r)return t;if(n=function(t){var e="";return j(n,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(),s(t)){if(e=encodeURIComponent(String(e)),e+=n=null!=n?"="+encodeURIComponent(String(n)):""){if(0>(n=t.indexOf("#"))&&(n=t.length),0>(r=t.indexOf("?"))||r>n){r=n;var i=""}else i=t.substring(r+1,n);n=(t=[t.substr(0,r),i,t.substr(n)])[1],t[1]=e?n?n+"&"+e:e:n,t=t[0]+(t[1]?"?"+t[1]:"")+t[2]}return t}return Le(t,e,n),t}function Mn(t){this.f=[],this.F=new on,this.ga=this.pa=this.B=this.ha=this.a=this.I=this.j=this.V=this.g=this.J=this.i=null,this.Ra=this.P=0,this.Pa=!!c("internalChannelParams.failFast",t),this.ia=this.w=this.s=this.l=this.h=this.c=null,this.oa=!0,this.m=this.ra=this.O=-1,this.S=this.v=this.A=0,this.Oa=c("internalChannelParams.baseRetryDelayMs",t)||5e3,this.Sa=c("internalChannelParams.retryDelaySeedMs",t)||1e4,this.Qa=c("internalChannelParams.forwardChannelMaxRetries",t)||2,this.qa=c("internalChannelParams.forwardChannelRequestTimeoutMs",t)||2e4,this.La=t&&t.Ab||void 0,this.D=void 0,this.R=t&&t.supportsCrossDomainXhr||!1,this.H="",this.b=new cn(t&&t.concurrentRequestLimit),this.ja=new bn,this.o=!t||void 0===t.backgroundChannelTest||t.backgroundChannelTest,(this.W=t&&t.fastHandshake||!1)&&!this.o&&(this.o=!0),t&&t.forceLongPolling&&(this.oa=!1),this.fa=void 0}function Fn(t){if(Ln(t),3==t.u){var e=t.P++,n=Pe(t.B);Le(n,"SID",t.H),Le(n,"RID",e),Le(n,"TYPE","terminate"),qn(t,n),(e=new fe(t,e,void 0)).F=2,e.f=Ve(Pe(n)),n=!1,a.navigator&&a.navigator.sendBeacon&&(n=a.navigator.sendBeacon(e.f.toString(),"")),!n&&a.Image&&((new Image).src=e.f,n=!0),n||(e.a=e.g.$(null),e.a.ca(e.f)),e.v=w(),_e(e)}Zn(t)}function Ln(t){t.w&&(t.w.abort(),t.w=null),t.a&&(t.a.cancel(),t.a=null),t.l&&(a.clearTimeout(t.l),t.l=null),Gn(t),t.b.cancel(),t.h&&(u(t.h)&&a.clearTimeout(t.h),t.h=null)}function Bn(t,e){t.f.push(new un(t.Ra++,e)),3==t.u&&Vn(t)}function Vn(t){hn(t.b)||t.h||(t.h=!0,jt(t.Ia,t),t.A=0)}function Un(t,e){var n;n=e?e.W:t.P++;var r=Pe(t.B);Le(r,"SID",t.H),Le(r,"RID",n),Le(r,"AID",t.O),qn(t,r),t.g&&t.i&&jn(r,t.g,t.i),n=new fe(t,n,t.A+1),null===t.g&&(n.h=t.i),e&&(t.f=e.j.concat(t.f)),e=zn(t,n,1e3),n.setTimeout(Math.round(.5*t.qa)+Math.round(.5*t.qa*Math.random())),yn(t.b,n),ye(n,r,e)}function qn(t,e){t.c&&Oe({},function(t,n){Le(e,n,t)})}function zn(t,e,n){n=Math.min(t.f.length,n);var r=t.c?b(t.c.Ta,t.c,t):null;t:for(var i=t.f,o=-1;;){var a=["count="+n];-1==o?0<n?a.push("ofs="+(o=i[0].b)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),s=!1;else try{_n(l,a,"req"+c+"_")}catch(f){r&&r(l)}}if(s){r=a.join("&");break t}}return t=t.f.splice(0,n),e.j=t,r}function Hn(t){t.a||t.l||(t.S=1,jt(t.Ha,t),t.v=0)}function Qn(t){return!(t.a||t.l||3<=t.v||(t.S++,t.l=ee(b(t.Ha,t),Wn(t,t.v)),t.v++,0))}function Kn(t,e,n){var r=e.l;r&&fn(t.b,r),t.ia=t.oa&&n,t.m=e.c,t.B=Xn(t,null,t.ha),Vn(t)}function Gn(t){null!=t.s&&(a.clearTimeout(t.s),t.s=null)}function Wn(t,e){var n=t.Oa+Math.floor(Math.random()*t.Sa);return t.ma()||(n*=2),n*e}function Yn(t,e){if(2==e){var n=null;t.c&&(n=null);var r=b(t.fb,t);n||(n=new Re("//www.google.com/images/cleardot.gif"),a.location&&"http"==a.location.protocol||Ne(n,"https"),Ve(n)),function(t,e){var n=new Wt;if(a.Image){var r=new Image;r.onload=_(wn,n,r,"TestLoadImage: loaded",!0,e),r.onerror=_(wn,n,r,"TestLoadImage: error",!1,e),r.onabort=_(wn,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=_(wn,n,r,"TestLoadImage: timeout",!1,e),a.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else $t(2);t.u=0,t.c&&t.c.ta(e),Zn(t),Ln(t)}function Zn(t){t.u=0,t.m=-1,t.c&&(0==vn(t.b).length&&0==t.f.length||(t.b.c.length=0,T(t.f),t.f.length=0),t.c.sa())}function Xn(t,e,n){var r=function(t){return t instanceof Re?Pe(t):new Re(t,void 0)}(n);if(""!=r.b)e&&je(r,e+"."+r.b),Me(r,r.i);else{var i=a.location;r=function(t,e,n,r){var i=new Re(null,void 0);return t&&Ne(i,t),e&&je(i,e),n&&Me(i,n),r&&(i.a=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&j(t.V,function(t,e){Le(r,e,t)}),n=t.I,(e=t.j)&&n&&Le(r,e,n),Le(r,"VER",t.wa),qn(t,r),r}function Jn(){}function $n(){if(z&&!(10<=Number(J)))throw Error("Environmental error: no available transport.")}function tr(t,e){Dt.call(this),this.a=new Mn(e),this.g=t,this.m=e&&e.testUrl?e.testUrl:function(t){for(var e=arguments[0],n=1;n<arguments.length;n++){var r,i=arguments[n];0==i.lastIndexOf("/",0)?e=i:((r=""==e)||(r=0<=(r=e.length-1)&&e.indexOf("/",r)==r),e+=r?i:"/"+i)}return e}(this.g,"test"),this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.i=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.xa&&(t?t["X-WebChannel-Client-Profile"]=e.xa:t={"X-WebChannel-Client-Profile":e.xa}),this.a.J=t,(t=e&&e.httpHeadersOverwriteParam)&&!A(t)&&(this.a.g=t),this.l=e&&e.supportsCrossDomainXhr||!1,this.h=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!A(e)&&(this.a.j=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new rr(this)}function er(t){ue.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function nr(){ce.call(this),this.status=1}function rr(t){this.a=t}(r=Cn.prototype).ca=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.A+"; newUri="+t);e=e?e.toUpperCase():"GET",this.A=t,this.f="",this.h=0,this.v=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:ae),this.a.onreadystatechange=b(this.Fa,this);try{this.w=!0,this.a.open(e,String(t),!0),this.w=!1}catch(o){return void An(this,o)}t=n||"";var i=new Te(this.headers);r&&Oe(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=Tn,n=t.length,r=s(t)?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:s(t)?t.charAt(e):t[e]}(i.K()),n=a.FormData&&t instanceof a.FormData,!(0<=S(On,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Rn(this),0<this.o&&((this.D=function(t){return z&&tt(9)&&u(t.timeout)&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=b(this.Ca,this)):this.m=Ut(this.Ca,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){An(this,o)}},r.Ca=function(){void 0!==o&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},r.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),kn(this))},r.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),kn(this,!0)),Cn.N.G.call(this)},r.Fa=function(){this.j||(this.w||this.l||this.g?xn(this):this.$a())},r.$a=function(){xn(this)},r.T=function(){try{return 2<Pn(this)?this.a.status:-1}catch(U){return-1}},r.za=function(){try{return 2<Pn(this)?this.a.statusText:""}catch(U){return""}},r.aa=function(){try{return this.a?this.a.responseText:""}catch(U){return""}},r.Va=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),En(e)}},r.ya=function(){return this.h},r.Ya=function(){return s(this.f)?this.f:String(this.f)},(r=Mn.prototype).wa=8,r.u=1,r.Da=function(){return 0==this.u},r.Ia=function(t){if(this.h)if(this.h=null,1==this.u){if(!t){this.P=Math.floor(1e5*Math.random());var e,n=new fe(this,t=this.P++,void 0),r=this.i;if(this.J&&(r?L(r=M(r),this.J):r=this.J),null===this.g&&(n.h=r),this.W)t:{for(var i=e=0;i<this.f.length;i++){var o=this.f[i];if(void 0===(o="__data__"in o.a&&s(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.f.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=zn(this,n,e),Le(i=Pe(this.B),"RID",t),Le(i,"CVER",22),this.o&&this.j&&Le(i,"X-HTTP-Session-Id",this.j),qn(this,i),this.g&&r&&jn(i,this.g,r),yn(this.b,n),this.W?(Le(i,"$req",e),Le(i,"SID","null"),n.S=!0,ye(n,i,null)):ye(n,i,e),this.u=2}}else 3==this.u&&(t?Un(this,t):0==this.f.length||hn(this.b)||Un(this))},r.Ha=function(){this.l=null,this.a=new fe(this,"rpc",this.S),null===this.g&&(this.a.h=this.i),this.a.J=0;var t=Pe(this.pa);Le(t,"RID","rpc"),Le(t,"SID",this.H),Le(t,"CI",this.ia?"0":"1"),Le(t,"AID",this.O),qn(this,t),Le(t,"TYPE","xmlhttp"),this.g&&this.i&&jn(t,this.g,this.i),this.D&&this.a.setTimeout(this.D),me(this.a,t,!0,this.ga)},r.Ga=function(t,e){if(0!=this.u&&(this.a==t||dn(this.b,t)))if(this.m=t.o,!t.s&&dn(this.b,t)&&3==this.u){try{var n=this.ja.a.parse(e)}catch(o){n=null}if(h(n)&&3==n.length){if(0==(e=n)[0]){t:if(!this.l){if(this.a){if(!(this.a.v+3e3<t.v))break t;Gn(this),this.a.cancel(),this.a=null}Qn(this),$t(18)}}else this.ra=e[1],0<this.ra-this.O&&37500>e[2]&&this.ia&&0==this.v&&!this.s&&(this.s=ee(b(this.Za,this),6e3));if(1>=pn(this.b)&&this.fa){try{this.fa()}catch(o){}this.fa=void 0}}else Yn(this,11)}else if((t.s||this.a==t)&&Gn(this),!A(e))for(e=n=this.ja.a.parse(e),n=0;n<e.length;n++){var r=e[n];if(this.O=r[0],r=r[1],2==this.u)if("c"==r[0]){this.H=r[1],this.ga=r[2];var i=r[3];null!=i&&(this.wa=i),null!=(r=r[5])&&u(r)&&0<r&&(this.D=1.5*r),this.o&&(r=t.a)&&((i=Nn(r,"X-Client-Wire-Protocol"))&&fn(this.b,i),this.j&&(r=Nn(r,"X-HTTP-Session-Id")))&&(this.I=r,Le(this.B,this.j,r)),this.u=3,this.c&&this.c.va(),r=t,this.pa=Xn(this,this.Y()?this.ga:null,this.ha),r.s?(mn(this.b,r),(i=this.D)&&r.setTimeout(i),r.i&&(Ee(r),_e(r)),this.a=r):Hn(this),0<this.f.length&&Vn(this)}else"stop"!=r[0]&&"close"!=r[0]||Yn(this,7);else 3==this.u&&("stop"==r[0]||"close"==r[0]?"stop"==r[0]?Yn(this,7):Fn(this):"noop"!=r[0]&&this.c&&this.c.ua(r),this.v=0)}},r.Za=function(){null!=this.s&&(this.s=null,this.a.cancel(),this.a=null,Qn(this),$t(19))},r.na=function(t){var e=null;if(this.a==t){Gn(this),this.a=null;var n=2}else{if(!dn(this.b,t))return;e=t.j,mn(this.b,t),n=1}if(this.m=t.o,0!=this.u)if(t.b)1==n?(e=w()-t.v,Yt.dispatchEvent(new te(Yt,t.l?t.l.length:0,e,this.A)),Vn(this)):Hn(this);else{var r=t.c;if(3==r||0==r&&0<this.m||!(1==n&&function(t,e){return!(pn(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.f=e.j.concat(t.f),0):1==t.u||2==t.u||t.A>=(t.Pa?0:t.Qa)||(t.h=ee(b(t.Ia,t,e),Wn(t,t.A)),t.A++,0)))}(this,t)||2==n&&Qn(this)))switch(e&&0<e.length&&(t=this.b,t.c=t.c.concat(e)),r){case 1:Yn(this,5);break;case 4:Yn(this,10);break;case 3:Yn(this,6);break;default:Yn(this,2)}}},r.fb=function(t){$t(t?2:1)},r.$=function(t){if(t&&!this.R)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new Cn(this.La)).F=this.R,t},r.ma=function(){return!!this.c&&!0},r.Y=function(){return this.R},(r=Jn.prototype).va=function(){},r.ua=function(){},r.ta=function(){},r.sa=function(){},r.Ta=function(){},$n.prototype.a=function(t,e){return new tr(t,e)},E(tr,Dt),(r=tr.prototype).addEventListener=function(t,e,n,r){tr.N.addEventListener.call(this,t,e,n,r)},r.removeEventListener=function(t,e,n,r){tr.N.removeEventListener.call(this,t,e,n,r)},r.Wa=function(){this.a.c=this.f,this.l&&(this.a.R=!0);var t=this.a,e=this.m,n=this.g,r=this.b||void 0;$t(0),t.ha=n,t.V=r||{},t.o&&(t.F.b=[],t.F.a=!1),t.w=new nn(t),null===t.g&&(t.w.h=t.i),n=e,t.g&&t.i&&(n=jn(e,t.g,t.i)),(t=t.w).i=n,e=Xn(t.a,null,t.i),$t(3),null!=(n=t.a.F.b)?(t.f=n[0],t.M=1,rn(t)):(Be(e,"MODE","init"),!t.a.o&&t.a.j&&Be(e,"X-HTTP-Session-Id",t.a.j),t.b=new fe(t,void 0,void 0),t.b.h=t.h,me(t.b,e,!1,null),t.M=0)},r.close=function(){Fn(this.a)},r.Xa=function(t){if(s(t)){var e={};e.__data__=t,Bn(this.a,e)}else this.h?((e={}).__data__=Tt(t),Bn(this.a,e)):Bn(this.a,t)},r.G=function(){this.a.c=null,delete this.f,Fn(this.a),delete this.a,tr.N.G.call(this)},E(er,ue),E(nr,ce),E(rr,Jn),rr.prototype.va=function(){this.a.dispatchEvent("a")},rr.prototype.ua=function(t){this.a.dispatchEvent(new er(t))},rr.prototype.ta=function(t){this.a.dispatchEvent(new nr(t))},rr.prototype.sa=function(){this.a.dispatchEvent("b")};var ir=_(function(t,e){function n(){}n.prototype=t.prototype;var r=new n;return t.apply(r,Array.prototype.slice.call(arguments,1)),r},$n);$n.prototype.createWebChannel=$n.prototype.a,tr.prototype.send=tr.prototype.Xa,tr.prototype.open=tr.prototype.Wa,tr.prototype.close=tr.prototype.close,ne.NO_ERROR=0,ne.TIMEOUT=8,ne.HTTP_ERROR=6,re.COMPLETE="complete",oe.EventType=se,se.OPEN="a",se.CLOSE="b",se.ERROR="c",se.MESSAGE="d",Dt.prototype.listen=Dt.prototype.Aa,Cn.prototype.listenOnce=Cn.prototype.Ba,Cn.prototype.getLastError=Cn.prototype.Ya,Cn.prototype.getLastErrorCode=Cn.prototype.ya,Cn.prototype.getStatus=Cn.prototype.T,Cn.prototype.getStatusText=Cn.prototype.za,Cn.prototype.getResponseJson=Cn.prototype.Va,Cn.prototype.getResponseText=Cn.prototype.aa,Cn.prototype.send=Cn.prototype.ca;var or={createWebChannelTransport:ir,ErrorCode:ne,EventType:re,WebChannel:oe,XhrIo:Cn},ar=or.createWebChannelTransport,sr=or.ErrorCode,ur=or.EventType,cr=or.WebChannel,lr=or.XhrIo;e.default=or},xTla:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r="function"==typeof Symbol&&Symbol.observable||"@@observable"},xYSL:function(t,e){t.exports=function(t,e){return t.has(e)}},y1pI:function(t,e,n){var r=n("ljhN");t.exports=function(t,e){for(var n=t.length;n--;)if(r(t[n][0],e))return n;return-1}},y3By:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o});var r=n("+umK");function i(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return o(t)}function o(t){return t?1===t.length?t[0]:function(e){return t.reduce(function(t,e){return e(t)},e)}:r.a}},yGk4:function(t,e,n){var r=n("Cwc5")(n("Kz5y"),"Set");t.exports=r},yHx3:function(t,e){var n=Object.prototype.hasOwnProperty;t.exports=function(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&n.call(t,"index")&&(r.index=t.index,r.input=t.input),r}},yP5f:function(t,e,n){var r=n("+K+b");t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}},zEVN:function(t,e,n){var r=n("Gi0A"),i=n("sEf8"),o=n("mdPL"),a=o&&o.isMap,s=a?i(a):r;t.exports=s},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("CcnG"),i=n("mrSG"),o=n("Ip0R"),a=null;function s(){return a}var u,c={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},l={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},f={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"};r["\u0275global"].Node&&(u=r["\u0275global"].Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))});var h,p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.__extends)(e,t),e.prototype.parse=function(t){throw new Error("parse not implemented")},e.makeCurrent=function(){var t;t=new e,a||(a=t)},e.prototype.hasProperty=function(t,e){return e in t},e.prototype.setProperty=function(t,e,n){t[e]=n},e.prototype.getProperty=function(t,e){return t[e]},e.prototype.invoke=function(t,e,n){var r;(r=t)[e].apply(r,Object(i.__spread)(n))},e.prototype.logError=function(t){window.console&&(console.error?console.error(t):console.log(t))},e.prototype.log=function(t){window.console&&window.console.log&&window.console.log(t)},e.prototype.logGroup=function(t){window.console&&window.console.group&&window.console.group(t)},e.prototype.logGroupEnd=function(){window.console&&window.console.groupEnd&&window.console.groupEnd()},Object.defineProperty(e.prototype,"attrToPropMap",{get:function(){return c},enumerable:!0,configurable:!0}),e.prototype.contains=function(t,e){return u.call(t,e)},e.prototype.querySelector=function(t,e){return t.querySelector(e)},e.prototype.querySelectorAll=function(t,e){return t.querySelectorAll(e)},e.prototype.on=function(t,e,n){t.addEventListener(e,n,!1)},e.prototype.onAndCancel=function(t,e,n){return t.addEventListener(e,n,!1),function(){t.removeEventListener(e,n,!1)}},e.prototype.dispatchEvent=function(t,e){t.dispatchEvent(e)},e.prototype.createMouseEvent=function(t){var e=this.getDefaultDocument().createEvent("MouseEvent");return e.initEvent(t,!0,!0),e},e.prototype.createEvent=function(t){var e=this.getDefaultDocument().createEvent("Event");return e.initEvent(t,!0,!0),e},e.prototype.preventDefault=function(t){t.preventDefault(),t.returnValue=!1},e.prototype.isPrevented=function(t){return t.defaultPrevented||null!=t.returnValue&&!t.returnValue},e.prototype.getInnerHTML=function(t){return t.innerHTML},e.prototype.getTemplateContent=function(t){return"content"in t&&this.isTemplateElement(t)?t.content:null},e.prototype.getOuterHTML=function(t){return t.outerHTML},e.prototype.nodeName=function(t){return t.nodeName},e.prototype.nodeValue=function(t){return t.nodeValue},e.prototype.type=function(t){return t.type},e.prototype.content=function(t){return this.hasProperty(t,"content")?t.content:t},e.prototype.firstChild=function(t){return t.firstChild},e.prototype.nextSibling=function(t){return t.nextSibling},e.prototype.parentElement=function(t){return t.parentNode},e.prototype.childNodes=function(t){return t.childNodes},e.prototype.childNodesAsList=function(t){for(var e=t.childNodes,n=new Array(e.length),r=0;r<e.length;r++)n[r]=e[r];return n},e.prototype.clearNodes=function(t){for(;t.firstChild;)t.removeChild(t.firstChild)},e.prototype.appendChild=function(t,e){t.appendChild(e)},e.prototype.removeChild=function(t,e){t.removeChild(e)},e.prototype.replaceChild=function(t,e,n){t.replaceChild(e,n)},e.prototype.remove=function(t){return t.parentNode&&t.parentNode.removeChild(t),t},e.prototype.insertBefore=function(t,e,n){t.insertBefore(n,e)},e.prototype.insertAllBefore=function(t,e,n){n.forEach(function(n){return t.insertBefore(n,e)})},e.prototype.insertAfter=function(t,e,n){t.insertBefore(n,e.nextSibling)},e.prototype.setInnerHTML=function(t,e){t.innerHTML=e},e.prototype.getText=function(t){return t.textContent},e.prototype.setText=function(t,e){t.textContent=e},e.prototype.getValue=function(t){return t.value},e.prototype.setValue=function(t,e){t.value=e},e.prototype.getChecked=function(t){return t.checked},e.prototype.setChecked=function(t,e){t.checked=e},e.prototype.createComment=function(t){return this.getDefaultDocument().createComment(t)},e.prototype.createTemplate=function(t){var e=this.getDefaultDocument().createElement("template");return e.innerHTML=t,e},e.prototype.createElement=function(t,e){return(e=e||this.getDefaultDocument()).createElement(t)},e.prototype.createElementNS=function(t,e,n){return(n=n||this.getDefaultDocument()).createElementNS(t,e)},e.prototype.createTextNode=function(t,e){return(e=e||this.getDefaultDocument()).createTextNode(t)},e.prototype.createScriptTag=function(t,e,n){var r=(n=n||this.getDefaultDocument()).createElement("SCRIPT");return r.setAttribute(t,e),r},e.prototype.createStyleElement=function(t,e){var n=(e=e||this.getDefaultDocument()).createElement("style");return this.appendChild(n,this.createTextNode(t,e)),n},e.prototype.createShadowRoot=function(t){return t.createShadowRoot()},e.prototype.getShadowRoot=function(t){return t.shadowRoot},e.prototype.getHost=function(t){return t.host},e.prototype.clone=function(t){return t.cloneNode(!0)},e.prototype.getElementsByClassName=function(t,e){return t.getElementsByClassName(e)},e.prototype.getElementsByTagName=function(t,e){return t.getElementsByTagName(e)},e.prototype.classList=function(t){return Array.prototype.slice.call(t.classList,0)},e.prototype.addClass=function(t,e){t.classList.add(e)},e.prototype.removeClass=function(t,e){t.classList.remove(e)},e.prototype.hasClass=function(t,e){return t.classList.contains(e)},e.prototype.setStyle=function(t,e,n){t.style[e]=n},e.prototype.removeStyle=function(t,e){t.style[e]=""},e.prototype.getStyle=function(t,e){return t.style[e]},e.prototype.hasStyle=function(t,e,n){var r=this.getStyle(t,e)||"";return n?r==n:r.length>0},e.prototype.tagName=function(t){return t.tagName},e.prototype.attributeMap=function(t){for(var e=new Map,n=t.attributes,r=0;r<n.length;r++){var i=n.item(r);e.set(i.name,i.value)}return e},e.prototype.hasAttribute=function(t,e){return t.hasAttribute(e)},e.prototype.hasAttributeNS=function(t,e,n){return t.hasAttributeNS(e,n)},e.prototype.getAttribute=function(t,e){return t.getAttribute(e)},e.prototype.getAttributeNS=function(t,e,n){return t.getAttributeNS(e,n)},e.prototype.setAttribute=function(t,e,n){t.setAttribute(e,n)},e.prototype.setAttributeNS=function(t,e,n,r){t.setAttributeNS(e,n,r)},e.prototype.removeAttribute=function(t,e){t.removeAttribute(e)},e.prototype.removeAttributeNS=function(t,e,n){t.removeAttributeNS(e,n)},e.prototype.templateAwareRoot=function(t){return this.isTemplateElement(t)?this.content(t):t},e.prototype.createHtmlDocument=function(){return document.implementation.createHTMLDocument("fakeTitle")},e.prototype.getDefaultDocument=function(){return document},e.prototype.getBoundingClientRect=function(t){try{return t.getBoundingClientRect()}catch(e){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}},e.prototype.getTitle=function(t){return t.title},e.prototype.setTitle=function(t,e){t.title=e||""},e.prototype.elementMatches=function(t,e){return!!this.isElementNode(t)&&(t.matches&&t.matches(e)||t.msMatchesSelector&&t.msMatchesSelector(e)||t.webkitMatchesSelector&&t.webkitMatchesSelector(e))},e.prototype.isTemplateElement=function(t){return this.isElementNode(t)&&"TEMPLATE"===t.nodeName},e.prototype.isTextNode=function(t){return t.nodeType===Node.TEXT_NODE},e.prototype.isCommentNode=function(t){return t.nodeType===Node.COMMENT_NODE},e.prototype.isElementNode=function(t){return t.nodeType===Node.ELEMENT_NODE},e.prototype.hasShadowRoot=function(t){return null!=t.shadowRoot&&t instanceof HTMLElement},e.prototype.isShadowRoot=function(t){return t instanceof DocumentFragment},e.prototype.importIntoDoc=function(t){return document.importNode(this.templateAwareRoot(t),!0)},e.prototype.adoptNode=function(t){return document.adoptNode(t)},e.prototype.getHref=function(t){return t.getAttribute("href")},e.prototype.getEventKey=function(t){var e=t.key;if(null==e){if(null==(e=t.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&f.hasOwnProperty(e)&&(e=f[e]))}return l[e]||e},e.prototype.getGlobalEventTarget=function(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null},e.prototype.getHistory=function(){return window.history},e.prototype.getLocation=function(){return window.location},e.prototype.getBaseHref=function(t){var e,n=d||(d=document.querySelector("base"))?d.getAttribute("href"):null;return null==n?null:(e=n,h||(h=document.createElement("a")),h.setAttribute("href",e),"/"===h.pathname.charAt(0)?h.pathname:"/"+h.pathname)},e.prototype.resetBaseElement=function(){d=null},e.prototype.getUserAgent=function(){return window.navigator.userAgent},e.prototype.setData=function(t,e,n){this.setAttribute(t,"data-"+e,n)},e.prototype.getData=function(t,e){return this.getAttribute(t,"data-"+e)},e.prototype.getComputedStyle=function(t){return getComputedStyle(t)},e.prototype.supportsWebAnimation=function(){return"function"==typeof Element.prototype.animate},e.prototype.performanceNow=function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()},e.prototype.supportsCookies=function(){return!0},e.prototype.getCookie=function(t){return Object(o["\u0275parseCookieValue"])(document.cookie,t)},e.prototype.setCookie=function(t,e){document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)},e}(function(t){function e(){var e=t.call(this)||this;e._animationPrefix=null,e._transitionEnd=null;try{var n=e.createElement("div",document);if(null!=e.getStyle(n,"animationName"))e._animationPrefix="";else for(var r=["Webkit","Moz","O","ms"],i=0;i<r.length;i++)if(null!=e.getStyle(n,r[i]+"AnimationName")){e._animationPrefix="-"+r[i].toLowerCase()+"-";break}var o={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(o).forEach(function(t){null!=e.getStyle(n,t)&&(e._transitionEnd=o[t])})}catch(a){e._animationPrefix=null,e._transitionEnd=null}return e}return Object(i.__extends)(e,t),e.prototype.getDistributedNodes=function(t){return t.getDistributedNodes()},e.prototype.resolveAndSetHref=function(t,e,n){t.href=null==n?e:e+"/../"+n},e.prototype.supportsDOMEvents=function(){return!0},e.prototype.supportsNativeShadowDOM=function(){return"function"==typeof document.body.createShadowRoot},e.prototype.getAnimationPrefix=function(){return this._animationPrefix?this._animationPrefix:""},e.prototype.getTransitionEnd=function(){return this._transitionEnd?this._transitionEnd:""},e.prototype.supportsAnimation=function(){return null!=this._animationPrefix&&null!=this._transitionEnd},e}(function(){function t(){this.resourceLoaderType=null}return Object.defineProperty(t.prototype,"attrToPropMap",{get:function(){return this._attrToPropMap},set:function(t){this._attrToPropMap=t},enumerable:!0,configurable:!0}),t}())),d=null,y=o.DOCUMENT;function m(){return!!window.history.pushState}var v=function(t){function e(e){var n=t.call(this)||this;return n._doc=e,n._init(),n}return Object(i.__extends)(e,t),e.prototype._init=function(){this.location=s().getLocation(),this._history=s().getHistory()},e.prototype.getBaseHrefFromDOM=function(){return s().getBaseHref(this._doc)},e.prototype.onPopState=function(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)},e.prototype.onHashChange=function(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)},Object.defineProperty(e.prototype,"pathname",{get:function(){return this.location.pathname},set:function(t){this.location.pathname=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"search",{get:function(){return this.location.search},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hash",{get:function(){return this.location.hash},enumerable:!0,configurable:!0}),e.prototype.pushState=function(t,e,n){m()?this._history.pushState(t,e,n):this.location.hash=n},e.prototype.replaceState=function(t,e,n){m()?this._history.replaceState(t,e,n):this.location.hash=n},e.prototype.forward=function(){this._history.forward()},e.prototype.back=function(){this._history.back()},Object(i.__decorate)([Object(i.__param)(0,Object(r.Inject)(y)),Object(i.__metadata)("design:paramtypes",[Object])],e)}(o.PlatformLocation),g=new r.InjectionToken("TRANSITION_ID"),b=[{provide:r.APP_INITIALIZER,useFactory:function(t,e,n){return function(){n.get(r.ApplicationInitStatus).donePromise.then(function(){var n=s();Array.prototype.slice.apply(n.querySelectorAll(e,"style[ng-transition]")).filter(function(e){return n.getAttribute(e,"ng-transition")===t}).forEach(function(t){return n.remove(t)})})}},deps:[g,y,r.Injector],multi:!0}],_=function(){function t(){}return t.init=function(){Object(r.setTestabilityGetter)(new t)},t.prototype.addToWindow=function(t){r["\u0275global"].getAngularTestability=function(e,n){void 0===n&&(n=!0);var r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r["\u0275global"].getAllAngularTestabilities=function(){return t.getAllTestabilities()},r["\u0275global"].getAllAngularRootElements=function(){return t.getAllRootElements()},r["\u0275global"].frameworkStabilizers||(r["\u0275global"].frameworkStabilizers=[]),r["\u0275global"].frameworkStabilizers.push(function(t){var e=r["\u0275global"].getAllAngularTestabilities(),n=e.length,i=!1,o=function(e){i=i||e,0==--n&&t(i)};e.forEach(function(t){t.whenStable(o)})})},t.prototype.findTestabilityInTree=function(t,e,n){if(null==e)return null;var r=t.getTestability(e);return null!=r?r:n?s().isShadowRoot(e)?this.findTestabilityInTree(t,s().getHost(e),!0):this.findTestabilityInTree(t,s().parentElement(e),!0):null},t}();function w(t,e){"undefined"!=typeof COMPILED&&COMPILED||((r["\u0275global"].ng=r["\u0275global"].ng||{})[t]=e)}var E={ApplicationRef:r.ApplicationRef,NgZone:r.NgZone};function C(t){return Object(r.getDebugNode)(t)}var S=new r.InjectionToken("EventManagerPlugins"),D=function(){function t(t,e){var n=this;this._zone=e,this._eventNameToPlugin=new Map,t.forEach(function(t){return t.manager=n}),this._plugins=t.slice().reverse()}return t.prototype.addEventListener=function(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)},t.prototype.addGlobalEventListener=function(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)},t.prototype.getZone=function(){return this._zone},t.prototype._findPluginFor=function(t){var e=this._eventNameToPlugin.get(t);if(e)return e;for(var n=this._plugins,r=0;r<n.length;r++){var i=n[r];if(i.supports(t))return this._eventNameToPlugin.set(t,i),i}throw new Error("No event manager plugin found for event "+t)},t}(),O=function(){function t(t){this._doc=t}return t.prototype.addGlobalEventListener=function(t,e,n){var r=s().getGlobalEventTarget(this._doc,t);if(!r)throw new Error("Unsupported event target "+r+" for event "+e);return this.addEventListener(r,e,n)},t}(),T=function(){function t(){this._stylesSet=new Set}return t.prototype.addStyles=function(t){var e=this,n=new Set;t.forEach(function(t){e._stylesSet.has(t)||(e._stylesSet.add(t),n.add(t))}),this.onStylesAdded(n)},t.prototype.onStylesAdded=function(t){},t.prototype.getAllStyles=function(){return Array.from(this._stylesSet)},t}(),A=function(t){function e(e){var n=t.call(this)||this;return n._doc=e,n._hostNodes=new Set,n._styleNodes=new Set,n._hostNodes.add(e.head),n}return Object(i.__extends)(e,t),e.prototype._addStylesToHost=function(t,e){var n=this;t.forEach(function(t){var r=n._doc.createElement("style");r.textContent=t,n._styleNodes.add(e.appendChild(r))})},e.prototype.addHost=function(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)},e.prototype.removeHost=function(t){this._hostNodes.delete(t)},e.prototype.onStylesAdded=function(t){var e=this;this._hostNodes.forEach(function(n){return e._addStylesToHost(t,n)})},e.prototype.ngOnDestroy=function(){this._styleNodes.forEach(function(t){return s().remove(t)})},e}(T),I={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},x=/%COMP%/g,k="_nghost-%COMP%",R="_ngcontent-%COMP%";function P(t,e,n){for(var r=0;r<e.length;r++){var i=e[r];Array.isArray(i)?P(t,i,n):(i=i.replace(x,t),n.push(i))}return n}function N(t){return function(e){!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}var j=function(){function t(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new M(t)}return t.prototype.createRenderer=function(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.ViewEncapsulation.Emulated:var n=this.rendererByCompId.get(e.id);return n||(n=new V(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n;case r.ViewEncapsulation.Native:case r.ViewEncapsulation.ShadowDom:return new U(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){var i=P(e.id,e.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}},t.prototype.begin=function(){},t.prototype.end=function(){},t}(),M=function(){function t(t){this.eventManager=t,this.data=Object.create(null)}return t.prototype.destroy=function(){},t.prototype.createElement=function(t,e){return e?document.createElementNS(I[e],t):document.createElement(t)},t.prototype.createComment=function(t){return document.createComment(t)},t.prototype.createText=function(t){return document.createTextNode(t)},t.prototype.appendChild=function(t,e){t.appendChild(e)},t.prototype.insertBefore=function(t,e,n){t&&t.insertBefore(e,n)},t.prototype.removeChild=function(t,e){t&&t.removeChild(e)},t.prototype.selectRootElement=function(t,e){var n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error('The selector "'+t+'" did not match any elements');return e||(n.textContent=""),n},t.prototype.parentNode=function(t){return t.parentNode},t.prototype.nextSibling=function(t){return t.nextSibling},t.prototype.setAttribute=function(t,e,n,r){if(r){e=r+":"+e;var i=I[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)},t.prototype.removeAttribute=function(t,e,n){if(n){var r=I[n];r?t.removeAttributeNS(r,e):t.removeAttribute(n+":"+e)}else t.removeAttribute(e)},t.prototype.addClass=function(t,e){t.classList.add(e)},t.prototype.removeClass=function(t,e){t.classList.remove(e)},t.prototype.setStyle=function(t,e,n,i){i&r.RendererStyleFlags2.DashCase?t.style.setProperty(e,n,i&r.RendererStyleFlags2.Important?"important":""):t.style[e]=n},t.prototype.removeStyle=function(t,e,n){n&r.RendererStyleFlags2.DashCase?t.style.removeProperty(e):t.style[e]=""},t.prototype.setProperty=function(t,e,n){L(e,"property"),t[e]=n},t.prototype.setValue=function(t,e){t.nodeValue=e},t.prototype.listen=function(t,e,n){return L(e,"listener"),"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,N(n)):this.eventManager.addEventListener(t,e,N(n))},t}(),F="@".charCodeAt(0);function L(t,e){if(t.charCodeAt(0)===F)throw new Error("Found the synthetic "+e+" "+t+'. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.')}var B,V=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;o.component=r;var a=P(i+"-"+r.id,r.styles,[]);return n.addStyles(a),o.contentAttr=R.replace(x,i+"-"+r.id),o.hostAttr=k.replace(x,i+"-"+r.id),o}return Object(i.__extends)(e,t),e.prototype.applyToHost=function(e){t.prototype.setAttribute.call(this,e,this.hostAttr,"")},e.prototype.createElement=function(e,n){var r=t.prototype.createElement.call(this,e,n);return t.prototype.setAttribute.call(this,r,this.contentAttr,""),r},e}(M),U=function(t){function e(e,n,i,o){var a=t.call(this,e)||this;a.sharedStylesHost=n,a.hostEl=i,a.component=o,a.shadowRoot=o.encapsulation===r.ViewEncapsulation.ShadowDom?i.attachShadow({mode:"open"}):i.createShadowRoot(),a.sharedStylesHost.addHost(a.shadowRoot);for(var s=P(o.id,o.styles,[]),u=0;u<s.length;u++){var c=document.createElement("style");c.textContent=s[u],a.shadowRoot.appendChild(c)}return a}return Object(i.__extends)(e,t),e.prototype.nodeOrShadowRoot=function(t){return t===this.hostEl?this.shadowRoot:t},e.prototype.destroy=function(){this.sharedStylesHost.removeHost(this.shadowRoot)},e.prototype.appendChild=function(e,n){return t.prototype.appendChild.call(this,this.nodeOrShadowRoot(e),n)},e.prototype.insertBefore=function(e,n,r){return t.prototype.insertBefore.call(this,this.nodeOrShadowRoot(e),n,r)},e.prototype.removeChild=function(e,n){return t.prototype.removeChild.call(this,this.nodeOrShadowRoot(e),n)},e.prototype.parentNode=function(e){return this.nodeOrShadowRoot(t.prototype.parentNode.call(this,this.nodeOrShadowRoot(e)))},e}(M),q="undefined"!=typeof Zone&&Zone.__symbol__||function(t){return"__zone_symbol__"+t},z=q("addEventListener"),H=q("removeEventListener"),Q={},K="__zone_symbol__propagationStopped";"undefined"!=typeof Zone&&Zone[q("BLACK_LISTED_EVENTS")]&&(B={});var G=function(t){return!!B&&B.hasOwnProperty(t)},W=function(t){var e=Q[t.type];if(e){var n=this[e];if(n){var r=[t];if(1===n.length)return(a=n[0]).zone!==Zone.current?a.zone.run(a.handler,this,r):a.handler.apply(this,r);for(var i=n.slice(),o=0;o<i.length&&!0!==t[K];o++){var a;(a=i[o]).zone!==Zone.current?a.zone.run(a.handler,this,r):a.handler.apply(this,r)}}}},Y=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.ngZone=n,r&&Object(o.isPlatformServer)(r)||i.patchEvent(),i}return Object(i.__extends)(e,t),e.prototype.patchEvent=function(){if("undefined"!=typeof Event&&Event&&Event.prototype&&!Event.prototype.__zone_symbol__stopImmediatePropagation){var t=Event.prototype.__zone_symbol__stopImmediatePropagation=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[K]=!0),t&&t.apply(this,arguments)}}},e.prototype.supports=function(t){return!0},e.prototype.addEventListener=function(t,e,n){var i=this,o=n;if(!t[z]||r.NgZone.isInAngularZone()&&!G(e))t.addEventListener(e,o,!1);else{var a=Q[e];a||(a=Q[e]=q("ANGULAR"+e+"FALSE"));var s=t[a],u=s&&s.length>0;s||(s=t[a]=[]);var c=G(e)?Zone.root:Zone.current;if(0===s.length)s.push({zone:c,handler:o});else{for(var l=!1,f=0;f<s.length;f++)if(s[f].handler===o){l=!0;break}l||s.push({zone:c,handler:o})}u||t[z](e,W,!1)}return function(){return i.removeEventListener(t,e,o)}},e.prototype.removeEventListener=function(t,e,n){var r=t[H];if(!r)return t.removeEventListener.apply(t,[e,n,!1]);var i=Q[e],o=i&&t[i];if(!o)return t.removeEventListener.apply(t,[e,n,!1]);for(var a=!1,s=0;s<o.length;s++)if(o[s].handler===n){a=!0,o.splice(s,1);break}a?0===o.length&&r.apply(t,[e,W,!1]):t.removeEventListener.apply(t,[e,n,!1])},e}(O),Z={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},X=new r.InjectionToken("HammerGestureConfig"),J=new r.InjectionToken("HammerLoader"),$=function(){function t(){this.events=[],this.overrides={}}return t.prototype.buildHammer=function(t){var e=new Hammer(t,this.options);for(var n in e.get("pinch").set({enable:!0}),e.get("rotate").set({enable:!0}),this.overrides)e.get(n).set(this.overrides[n]);return e},t}(),tt=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o._config=n,o.console=r,o.loader=i,o}return Object(i.__extends)(e,t),e.prototype.supports=function(t){return!(!Z.hasOwnProperty(t.toLowerCase())&&!this.isCustomEvent(t)||!window.Hammer&&!this.loader&&(this.console.warn('The "'+t+'" event cannot be bound because Hammer.JS is not loaded and no custom loader has been specified.'),1))},e.prototype.addEventListener=function(t,e,n){var r=this,i=this.manager.getZone();if(e=e.toLowerCase(),!window.Hammer&&this.loader){var o=!1,a=function(){o=!0};return this.loader().then(function(){if(!window.Hammer)return r.console.warn("The custom HAMMER_LOADER completed, but Hammer.JS is not present."),void(a=function(){});o||(a=r.addEventListener(t,e,n))}).catch(function(){r.console.warn('The "'+e+'" event cannot be bound because the custom Hammer.JS loader failed.'),a=function(){}}),function(){a()}}return i.runOutsideAngular(function(){var o=r._config.buildHammer(t),a=function(t){i.runGuarded(function(){n(t)})};return o.on(e,a),function(){o.off(e,a),"function"==typeof o.destroy&&o.destroy()}})},e.prototype.isCustomEvent=function(t){return this._config.events.indexOf(t)>-1},e}(O),et=["alt","control","meta","shift"],nt={alt:function(t){return t.altKey},control:function(t){return t.ctrlKey},meta:function(t){return t.metaKey},shift:function(t){return t.shiftKey}},rt=function(t){function e(e){return t.call(this,e)||this}var n;return Object(i.__extends)(e,t),n=e,e.prototype.supports=function(t){return null!=n.parseEventName(t)},e.prototype.addEventListener=function(t,e,r){var i=n.parseEventName(e),o=n.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return s().onAndCancel(t,i.domEventName,o)})},e.parseEventName=function(t){var e=t.toLowerCase().split("."),r=e.shift();if(0===e.length||"keydown"!==r&&"keyup"!==r)return null;var i=n._normalizeKey(e.pop()),o="";if(et.forEach(function(t){var n=e.indexOf(t);n>-1&&(e.splice(n,1),o+=t+".")}),o+=i,0!=e.length||0===i.length)return null;var a={};return a.domEventName=r,a.fullKey=o,a},e.getEventFullKey=function(t){var e="",n=s().getEventKey(t);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),et.forEach(function(r){r!=n&&(0,nt[r])(t)&&(e+=r+".")}),e+=n},e.eventCallback=function(t,e,r){return function(i){n.getEventFullKey(i)===t&&r.runGuarded(function(){return e(i)})}},e._normalizeKey=function(t){switch(t){case"esc":return"escape";default:return t}},e}(O),it=function(){return function(){}}(),ot=function(t){function e(e){var n=t.call(this)||this;return n._doc=e,n}return Object(i.__extends)(e,t),e.prototype.sanitize=function(t,e){if(null==e)return null;switch(t){case r.SecurityContext.NONE:return e;case r.SecurityContext.HTML:return e instanceof st?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"HTML"),Object(r["\u0275_sanitizeHtml"])(this._doc,String(e)));case r.SecurityContext.STYLE:return e instanceof ut?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"Style"),Object(r["\u0275_sanitizeStyle"])(e));case r.SecurityContext.SCRIPT:if(e instanceof ct)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"Script"),new Error("unsafe value used in a script context");case r.SecurityContext.URL:return e instanceof ft||e instanceof lt?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"URL"),Object(r["\u0275_sanitizeUrl"])(String(e)));case r.SecurityContext.RESOURCE_URL:if(e instanceof ft)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error("Unexpected SecurityContext "+t+" (see http://g.co/ng/security#xss)")}},e.prototype.checkNotSafeValue=function(t,e){if(t instanceof at)throw new Error("Required a safe "+e+", got a "+t.getTypeName()+" (see http://g.co/ng/security#xss)")},e.prototype.bypassSecurityTrustHtml=function(t){return new st(t)},e.prototype.bypassSecurityTrustStyle=function(t){return new ut(t)},e.prototype.bypassSecurityTrustScript=function(t){return new ct(t)},e.prototype.bypassSecurityTrustUrl=function(t){return new lt(t)},e.prototype.bypassSecurityTrustResourceUrl=function(t){return new ft(t)},e}(it),at=function(){function t(t){this.changingThisBreaksApplicationSecurity=t}return t.prototype.toString=function(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"},t}(),st=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.__extends)(e,t),e.prototype.getTypeName=function(){return"HTML"},e}(at),ut=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.__extends)(e,t),e.prototype.getTypeName=function(){return"Style"},e}(at),ct=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.__extends)(e,t),e.prototype.getTypeName=function(){return"Script"},e}(at),lt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.__extends)(e,t),e.prototype.getTypeName=function(){return"URL"},e}(at),ft=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.__extends)(e,t),e.prototype.getTypeName=function(){return"ResourceURL"},e}(at),ht=[{provide:r.PLATFORM_ID,useValue:o["\u0275PLATFORM_BROWSER_ID"]},{provide:r.PLATFORM_INITIALIZER,useValue:function(){p.makeCurrent(),_.init()},multi:!0},{provide:o.PlatformLocation,useClass:v,deps:[y]},{provide:y,useFactory:function(){return document},deps:[]}],pt=Object(r.createPlatformFactory)(r.platformCore,"browser",ht);function dt(){return new r.ErrorHandler}var yt=function(){function t(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}var e;return e=t,t.withServerTransition=function(t){return{ngModule:e,providers:[{provide:r.APP_ID,useValue:t.appId},{provide:g,useExisting:r.APP_ID},b]}},t}();function mt(t){return null!=t&&""+t!="false"}function vt(t){return Array.isArray(t)?t:[t]}function gt(t){return null==t?"":"string"==typeof t?t:t+"px"}function bt(t){return t instanceof r.ElementRef?t.nativeElement:t}"undefined"!=typeof window&&window;var _t,wt=n("K9Ia"),Et=n("6blF");try{_t="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(bl){_t=!1}var Ct,St=function(){function t(t){this._platformId=t,this.isBrowser=this._platformId?Object(o.isPlatformBrowser)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!_t)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}return t.ngInjectableDef=Object(r.defineInjectable)({factory:function(){return new t(Object(r.inject)(r.PLATFORM_ID,8))},token:t,providedIn:"root"}),t}(),Dt=function(){return function(){}}();function Ot(t){return function(){if(null==Ct&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){return Ct=!0}}))}finally{Ct=Ct||!1}return Ct}()?t:!!t.capture}var Tt=n("IUTb");function At(t){var e=new Et.a(function(e){e.next(t),e.complete()});return e._isScalar=!0,e.value=t,e}var It=new Et.a(function(t){return t.complete()});function xt(t){return t?function(t){return new Et.a(function(e){return t.schedule(function(){return e.complete()})})}(t):It}var kt=n("nkY7");function Rt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];switch(Object(kt.a)(n)?t.pop():n=void 0,t.length){case 0:return xt(n);case 1:return n?Object(Tt.a)(t,n):At(t[0]);default:return Object(Tt.a)(t,n)}}var Pt=n("0/uQ"),Nt=n("Zn8D");function jt(){return Object(Nt.a)(1)}var Mt=n("pugT"),Ft=n("FFOo"),Lt=n("+umK"),Bt=n("2Bdj");function Vt(t,e,n){return function(r){return r.lift(new Ut(t,e,n))}}var Ut=function(){function t(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}return t.prototype.call=function(t,e){return e.subscribe(new qt(t,this.nextOrObserver,this.error,this.complete))},t}(),qt=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o._tapNext=Lt.a,o._tapError=Lt.a,o._tapComplete=Lt.a,o._tapError=r||Lt.a,o._tapComplete=i||Lt.a,Object(Bt.a)(n)?(o._context=o,o._tapNext=n):n&&(o._context=n,o._tapNext=n.next||Lt.a,o._tapError=n.error||Lt.a,o._tapComplete=n.complete||Lt.a),o}return i.__extends(e,t),e.prototype._next=function(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)},e.prototype._error=function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)},e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()},e}(Ft.a),zt=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r.pending=!1,r}return i.__extends(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this},e.prototype.requestAsyncId=function(t,e,n){return void 0===n&&(n=0),setInterval(t.flush.bind(t,this),n)},e.prototype.recycleAsyncId=function(t,e,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r},e.prototype._unsubscribe=function(){var t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null},e}(function(t){function e(e,n){return t.call(this)||this}return i.__extends(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(Mt.a)),Ht=function(){function t(e,n){void 0===n&&(n=t.now),this.SchedulerAction=e,this.now=n}return t.prototype.schedule=function(t,e,n){return void 0===e&&(e=0),new this.SchedulerAction(this,t).schedule(n,e)},t.now=function(){return Date.now()},t}(),Qt=function(t){function e(n,r){void 0===r&&(r=Ht.now);var i=t.call(this,n,function(){return e.delegate&&e.delegate!==i?e.delegate.now():r()})||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return i.__extends(e,t),e.prototype.schedule=function(n,r,i){return void 0===r&&(r=0),e.delegate&&e.delegate!==this?e.delegate.schedule(n,r,i):t.prototype.schedule.call(this,n,r,i)},e.prototype.flush=function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}},e}(Ht),Kt=new Qt(zt);function Gt(t,e){return function(n){return n.lift(new Wt(t,e))}}var Wt=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new Yt(t,this.predicate,this.thisArg))},t}(),Yt=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.predicate=n,i.thisArg=r,i.count=0,i}return i.__extends(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)},e}(Ft.a),Zt=n("67Y/");function Xt(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}Xt.prototype=Object.create(Error.prototype);var Jt=Xt;function $t(t){return function(e){return 0===t?xt():e.lift(new te(t))}}var te=function(){function t(t){if(this.total=t,this.total<0)throw new Jt}return t.prototype.call=function(t,e){return e.subscribe(new ee(t,this.total))},t}(),ee=function(t){function e(e,n){var r=t.call(this,e)||this;return r.total=n,r.count=0,r}return i.__extends(e,t),e.prototype._next=function(t){var e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))},e}(Ft.a),ne=650,re=Ot({passive:!0,capture:!0}),ie=function(){function t(t,e){var n=this;this._ngZone=t,this._platform=e,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._documentKeydownListener=function(){n._lastTouchTarget=null,n._setOriginForCurrentEventQueue("keyboard")},this._documentMousedownListener=function(){n._lastTouchTarget||n._setOriginForCurrentEventQueue("mouse")},this._documentTouchstartListener=function(t){null!=n._touchTimeoutId&&clearTimeout(n._touchTimeoutId),n._lastTouchTarget=t.target,n._touchTimeoutId=setTimeout(function(){return n._lastTouchTarget=null},ne)},this._windowFocusListener=function(){n._windowFocused=!0,n._windowFocusTimeoutId=setTimeout(function(){return n._windowFocused=!1})}}return t.prototype.monitor=function(t,e){var n=this;if(void 0===e&&(e=!1),!this._platform.isBrowser)return Rt(null);var r=bt(t);if(this._elementInfo.has(r)){var i=this._elementInfo.get(r);return i.checkChildren=e,i.subject.asObservable()}var o={unlisten:function(){},checkChildren:e,subject:new wt.a};this._elementInfo.set(r,o),this._incrementMonitoredElementCount();var a=function(t){return n._onFocus(t,r)},s=function(t){return n._onBlur(t,r)};return this._ngZone.runOutsideAngular(function(){r.addEventListener("focus",a,!0),r.addEventListener("blur",s,!0)}),o.unlisten=function(){r.removeEventListener("focus",a,!0),r.removeEventListener("blur",s,!0)},o.subject.asObservable()},t.prototype.stopMonitoring=function(t){var e=bt(t),n=this._elementInfo.get(e);n&&(n.unlisten(),n.subject.complete(),this._setClasses(e),this._elementInfo.delete(e),this._decrementMonitoredElementCount())},t.prototype.focusVia=function(t,e,n){var r=bt(t);this._setOriginForCurrentEventQueue(e),"function"==typeof r.focus&&r.focus(n)},t.prototype.ngOnDestroy=function(){var t=this;this._elementInfo.forEach(function(e,n){return t.stopMonitoring(n)})},t.prototype._toggleClass=function(t,e,n){n?t.classList.add(e):t.classList.remove(e)},t.prototype._setClasses=function(t,e){this._elementInfo.get(t)&&(this._toggleClass(t,"cdk-focused",!!e),this._toggleClass(t,"cdk-touch-focused","touch"===e),this._toggleClass(t,"cdk-keyboard-focused","keyboard"===e),this._toggleClass(t,"cdk-mouse-focused","mouse"===e),this._toggleClass(t,"cdk-program-focused","program"===e))},t.prototype._setOriginForCurrentEventQueue=function(t){var e=this;this._ngZone.runOutsideAngular(function(){e._origin=t,e._originTimeoutId=setTimeout(function(){return e._origin=null},1)})},t.prototype._wasCausedByTouch=function(t){var e=t.target;return this._lastTouchTarget instanceof Node&&e instanceof Node&&(e===this._lastTouchTarget||e.contains(this._lastTouchTarget))},t.prototype._onFocus=function(t,e){var n=this._elementInfo.get(e);if(n&&(n.checkChildren||e===t.target)){var r=this._origin;r||(r=this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(t)?"touch":"program"),this._setClasses(e,r),this._emitOrigin(n.subject,r),this._lastFocusOrigin=r}},t.prototype._onBlur=function(t,e){var n=this._elementInfo.get(e);!n||n.checkChildren&&t.relatedTarget instanceof Node&&e.contains(t.relatedTarget)||(this._setClasses(e),this._emitOrigin(n.subject,null))},t.prototype._emitOrigin=function(t,e){this._ngZone.run(function(){return t.next(e)})},t.prototype._incrementMonitoredElementCount=function(){var t=this;1==++this._monitoredElementCount&&this._platform.isBrowser&&this._ngZone.runOutsideAngular(function(){document.addEventListener("keydown",t._documentKeydownListener,re),document.addEventListener("mousedown",t._documentMousedownListener,re),document.addEventListener("touchstart",t._documentTouchstartListener,re),window.addEventListener("focus",t._windowFocusListener)})},t.prototype._decrementMonitoredElementCount=function(){--this._monitoredElementCount||(document.removeEventListener("keydown",this._documentKeydownListener,re),document.removeEventListener("mousedown",this._documentMousedownListener,re),document.removeEventListener("touchstart",this._documentTouchstartListener,re),window.removeEventListener("focus",this._windowFocusListener),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId))},t.ngInjectableDef=Object(r.defineInjectable)({factory:function(){return new t(Object(r.inject)(r.NgZone),Object(r.inject)(St))},token:t,providedIn:"root"}),t}(),oe=new r.InjectionToken("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}}),ae=function(){function t(t,e){this._sanityChecksEnabled=t,this._hammerLoader=e,this._hasDoneGlobalChecks=!1,this._hasCheckedHammer=!1,this._document="object"==typeof document&&document?document:null,this._window="object"==typeof window&&window?window:null,this._areChecksEnabled()&&!this._hasDoneGlobalChecks&&(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._hasDoneGlobalChecks=!0)}return t.prototype._areChecksEnabled=function(){return this._sanityChecksEnabled&&Object(r.isDevMode)()&&!this._isTestEnv()},t.prototype._isTestEnv=function(){var t=this._window;return t&&(t.__karma__||t.jasmine)},t.prototype._checkDoctypeIsDefined=function(){this._document&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")},t.prototype._checkThemeIsPresent=function(){if(this._document&&this._document.body&&"function"==typeof getComputedStyle){var t=this._document.createElement("div");t.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(t);var e=getComputedStyle(t);e&&"none"!==e.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(t)}},t.prototype._checkHammerIsAvailable=function(){!this._hasCheckedHammer&&this._window&&(!this._areChecksEnabled()||this._window.Hammer||this._hammerLoader||console.warn("Could not find HammerJS. Certain Angular Material components may not work correctly."),this._hasCheckedHammer=!0)},t}();function se(t){return function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=t.apply(this,e)||this;return r._disabled=!1,r}return Object(i.__extends)(e,t),Object.defineProperty(e.prototype,"disabled",{get:function(){return this._disabled},set:function(t){this._disabled=mt(t)},enumerable:!0,configurable:!0}),e}(t)}function ue(t,e){return function(t){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.apply(this,n)||this;return i.color=e,i}return Object(i.__extends)(n,t),Object.defineProperty(n.prototype,"color",{get:function(){return this._color},set:function(t){var n=t||e;n!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove("mat-"+this._color),n&&this._elementRef.nativeElement.classList.add("mat-"+n),this._color=n)},enumerable:!0,configurable:!0}),n}(t)}function ce(t){return function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=t.apply(this,e)||this;return r._disableRipple=!1,r}return Object(i.__extends)(e,t),Object.defineProperty(e.prototype,"disableRipple",{get:function(){return this._disableRipple},set:function(t){this._disableRipple=mt(t)},enumerable:!0,configurable:!0}),e}(t)}var le=function(){var t={FADING_IN:0,VISIBLE:1,FADING_OUT:2,HIDDEN:3};return t[t.FADING_IN]="FADING_IN",t[t.VISIBLE]="VISIBLE",t[t.FADING_OUT]="FADING_OUT",t[t.HIDDEN]="HIDDEN",t}(),fe=function(){function t(t,e,n){this._renderer=t,this.element=e,this.config=n,this.state=le.HIDDEN}return t.prototype.fadeOut=function(){this._renderer.fadeOutRipple(this)},t}(),he={enterDuration:450,exitDuration:400},pe=800,de=Ot({passive:!0}),ye=function(){function t(t,e,n,r){var i=this;this._target=t,this._ngZone=e,this._isPointerDown=!1,this._triggerEvents=new Map,this._activeRipples=new Set,this.onMousedown=function(t){var e=function(t){return 0===t.buttons}(t),n=i._lastTouchStartEvent&&Date.now()<i._lastTouchStartEvent+pe;i._target.rippleDisabled||e||n||(i._isPointerDown=!0,i.fadeInRipple(t.clientX,t.clientY,i._target.rippleConfig))},this.onTouchStart=function(t){if(!i._target.rippleDisabled){i._lastTouchStartEvent=Date.now(),i._isPointerDown=!0;for(var e=t.changedTouches,n=0;n<e.length;n++)i.fadeInRipple(e[n].clientX,e[n].clientY,i._target.rippleConfig)}},this.onPointerUp=function(){i._isPointerDown&&(i._isPointerDown=!1,i._activeRipples.forEach(function(t){!t.config.persistent&&(t.state===le.VISIBLE||t.config.terminateOnPointerUp&&t.state===le.FADING_IN)&&t.fadeOut()}))},r.isBrowser&&(this._containerElement=n.nativeElement,this._triggerEvents.set("mousedown",this.onMousedown).set("mouseup",this.onPointerUp).set("mouseleave",this.onPointerUp).set("touchstart",this.onTouchStart).set("touchend",this.onPointerUp).set("touchcancel",this.onPointerUp))}return t.prototype.fadeInRipple=function(t,e,n){var r=this;void 0===n&&(n={});var o=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),a=Object(i.__assign)({},he,n.animation);n.centered&&(t=o.left+o.width/2,e=o.top+o.height/2);var s=n.radius||function(t,e,n){var r=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),i=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(r*r+i*i)}(t,e,o),u=t-o.left,c=e-o.top,l=a.enterDuration,f=document.createElement("div");f.classList.add("mat-ripple-element"),f.style.left=u-s+"px",f.style.top=c-s+"px",f.style.height=2*s+"px",f.style.width=2*s+"px",f.style.backgroundColor=n.color||null,f.style.transitionDuration=l+"ms",this._containerElement.appendChild(f),window.getComputedStyle(f).getPropertyValue("opacity"),f.style.transform="scale(1)";var h=new fe(this,f,n);return h.state=le.FADING_IN,this._activeRipples.add(h),n.persistent||(this._mostRecentTransientRipple=h),this.runTimeoutOutsideZone(function(){var t=h===r._mostRecentTransientRipple;h.state=le.VISIBLE,n.persistent||t&&r._isPointerDown||h.fadeOut()},l),h},t.prototype.fadeOutRipple=function(t){var e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),e){var n=t.element,r=Object(i.__assign)({},he,t.config.animation);n.style.transitionDuration=r.exitDuration+"ms",n.style.opacity="0",t.state=le.FADING_OUT,this.runTimeoutOutsideZone(function(){t.state=le.HIDDEN,n.parentNode.removeChild(n)},r.exitDuration)}},t.prototype.fadeOutAll=function(){this._activeRipples.forEach(function(t){return t.fadeOut()})},t.prototype.setupTriggerEvents=function(t){var e=this;t&&t!==this._triggerElement&&(this._removeTriggerEvents(),this._ngZone.runOutsideAngular(function(){e._triggerEvents.forEach(function(e,n){t.addEventListener(n,e,de)})}),this._triggerElement=t)},t.prototype.runTimeoutOutsideZone=function(t,e){void 0===e&&(e=0),this._ngZone.runOutsideAngular(function(){return setTimeout(t,e)})},t.prototype._removeTriggerEvents=function(){var t=this;this._triggerElement&&this._triggerEvents.forEach(function(e,n){t._triggerElement.removeEventListener(n,e,de)})},t}(),me=new r.InjectionToken("mat-ripple-global-options"),ve=function(){function t(t,e,n,r,i){this._elementRef=t,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=r||{},this._rippleRenderer=new ye(this,e,t,n),"NoopAnimations"===i&&(this._globalOptions.animation={enterDuration:0,exitDuration:0})}return Object.defineProperty(t.prototype,"disabled",{get:function(){return this._disabled},set:function(t){this._disabled=t,this._setupTriggerEventsIfEnabled()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"trigger",{get:function(){return this._trigger||this._elementRef.nativeElement},set:function(t){this._trigger=t,this._setupTriggerEventsIfEnabled()},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()},t.prototype.ngOnDestroy=function(){this._rippleRenderer._removeTriggerEvents()},t.prototype.fadeOutAll=function(){this._rippleRenderer.fadeOutAll()},Object.defineProperty(t.prototype,"rippleConfig",{get:function(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object(i.__assign)({},this._globalOptions.animation,this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rippleDisabled",{get:function(){return this.disabled||!!this._globalOptions.disabled},enumerable:!0,configurable:!0}),t.prototype._setupTriggerEventsIfEnabled=function(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)},t.prototype.launch=function(t,e,n){return void 0===e&&(e=0),"number"==typeof t?this._rippleRenderer.fadeInRipple(t,e,Object(i.__assign)({},this.rippleConfig,n)):this._rippleRenderer.fadeInRipple(0,0,Object(i.__assign)({},this.rippleConfig,t))},t}(),ge=function(){return function(){}}(),be="accent",_e=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],we=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;o._focusMonitor=r,o._animationMode=i,o.isRoundButton=o._hasHostAttributes("mat-fab","mat-mini-fab"),o.isIconButton=o._hasHostAttributes("mat-icon-button");for(var a=0,s=_e;a<s.length;a++){var u=s[a];o._hasHostAttributes(u)&&e.nativeElement.classList.add(u)}return o._focusMonitor.monitor(o._elementRef,!0),o.isRoundButton&&(o.color=be),o}return Object(i.__extends)(e,t),e.prototype.ngOnDestroy=function(){this._focusMonitor.stopMonitoring(this._elementRef)},e.prototype.focus=function(){this._getHostElement().focus()},e.prototype._getHostElement=function(){return this._elementRef.nativeElement},e.prototype._isRippleDisabled=function(){return this.disableRipple||this.disabled},e.prototype._hasHostAttributes=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return e.some(function(e){return t._getHostElement().hasAttribute(e)})},e}(ue(se(ce(function(){return function(t){this._elementRef=t}}())))),Ee=function(){return function(){}}(),Ce=function(){return function(){}}(),Se=function(){return function(){}}(),De="*";function Oe(t,e){return void 0===e&&(e=null),{type:2,steps:t,options:e}}function Te(t){return{type:6,styles:t,offset:null}}function Ae(t){Promise.resolve(null).then(t)}var Ie=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=t+e}return t.prototype._onFinish=function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(t){return t()}),this._onDoneFns=[])},t.prototype.onStart=function(t){this._onStartFns.push(t)},t.prototype.onDone=function(t){this._onDoneFns.push(t)},t.prototype.onDestroy=function(t){this._onDestroyFns.push(t)},t.prototype.hasStarted=function(){return this._started},t.prototype.init=function(){},t.prototype.play=function(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0},t.prototype.triggerMicrotask=function(){var t=this;Ae(function(){return t._onFinish()})},t.prototype._onStart=function(){this._onStartFns.forEach(function(t){return t()}),this._onStartFns=[]},t.prototype.pause=function(){},t.prototype.restart=function(){},t.prototype.finish=function(){this._onFinish()},t.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(function(t){return t()}),this._onDestroyFns=[])},t.prototype.reset=function(){},t.prototype.setPosition=function(t){},t.prototype.getPosition=function(){return 0},t.prototype.triggerCallback=function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(function(t){return t()}),e.length=0},t}(),xe=function(){function t(t){var e=this;this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;var n=0,r=0,i=0,o=this.players.length;0==o?Ae(function(){return e._onFinish()}):this.players.forEach(function(t){t.onDone(function(){++n==o&&e._onFinish()}),t.onDestroy(function(){++r==o&&e._onDestroy()}),t.onStart(function(){++i==o&&e._onStart()})}),this.totalTime=this.players.reduce(function(t,e){return Math.max(t,e.totalTime)},0)}return t.prototype._onFinish=function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(t){return t()}),this._onDoneFns=[])},t.prototype.init=function(){this.players.forEach(function(t){return t.init()})},t.prototype.onStart=function(t){this._onStartFns.push(t)},t.prototype._onStart=function(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(function(t){return t()}),this._onStartFns=[])},t.prototype.onDone=function(t){this._onDoneFns.push(t)},t.prototype.onDestroy=function(t){this._onDestroyFns.push(t)},t.prototype.hasStarted=function(){return this._started},t.prototype.play=function(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(function(t){return t.play()})},t.prototype.pause=function(){this.players.forEach(function(t){return t.pause()})},t.prototype.restart=function(){this.players.forEach(function(t){return t.restart()})},t.prototype.finish=function(){this._onFinish(),this.players.forEach(function(t){return t.finish()})},t.prototype.destroy=function(){this._onDestroy()},t.prototype._onDestroy=function(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(function(t){return t.destroy()}),this._onDestroyFns.forEach(function(t){return t()}),this._onDestroyFns=[])},t.prototype.reset=function(){this.players.forEach(function(t){return t.reset()}),this._destroyed=!1,this._finished=!1,this._started=!1},t.prototype.setPosition=function(t){var e=t*this.totalTime;this.players.forEach(function(t){var n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})},t.prototype.getPosition=function(){var t=0;return this.players.forEach(function(e){var n=e.getPosition();t=Math.min(n,t)}),t},t.prototype.beforeDestroy=function(){this.players.forEach(function(t){t.beforeDestroy&&t.beforeDestroy()})},t.prototype.triggerCallback=function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(function(t){return t()}),e.length=0},t}(),ke="!";function Re(){throw Error("Host already has a portal attached")}var Pe=function(){function t(){}return t.prototype.attach=function(t){return null==t&&function(){throw Error("Attempting to attach a portal to a null PortalOutlet")}(),t.hasAttached()&&Re(),this._attachedHost=t,t.attach(this)},t.prototype.detach=function(){var t=this._attachedHost;null==t?function(){throw Error("Attempting to detach a portal that is not attached to a host")}():(this._attachedHost=null,t.detach())},Object.defineProperty(t.prototype,"isAttached",{get:function(){return null!=this._attachedHost},enumerable:!0,configurable:!0}),t.prototype.setAttachedHost=function(t){this._attachedHost=t},t}(),Ne=function(t){function e(e,n,r,i){var o=t.call(this)||this;return o.component=e,o.viewContainerRef=n,o.injector=r,o.componentFactoryResolver=i,o}return Object(i.__extends)(e,t),e}(Pe),je=function(t){function e(e,n,r){var i=t.call(this)||this;return i.templateRef=e,i.viewContainerRef=n,i.context=r,i}return Object(i.__extends)(e,t),Object.defineProperty(e.prototype,"origin",{get:function(){return this.templateRef.elementRef},enumerable:!0,configurable:!0}),e.prototype.attach=function(e,n){return void 0===n&&(n=this.context),this.context=n,t.prototype.attach.call(this,e)},e.prototype.detach=function(){return this.context=void 0,t.prototype.detach.call(this)},e}(Pe),Me=function(){function t(){this._isDisposed=!1}return t.prototype.hasAttached=function(){return!!this._attachedPortal},t.prototype.attach=function(t){return t||function(){throw Error("Must provide a portal to attach")}(),this.hasAttached()&&Re(),this._isDisposed&&function(){throw Error("This PortalOutlet has already been disposed")}(),t instanceof Ne?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof je?(this._attachedPortal=t,this.attachTemplatePortal(t)):void function(){throw Error("Attempting to attach an unknown Portal type. BasePortalOutlet accepts either a ComponentPortal or a TemplatePortal.")}()},t.prototype.detach=function(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()},t.prototype.dispose=function(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0},t.prototype.setDisposeFn=function(t){this._disposeFn=t},t.prototype._invokeDisposeFn=function(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)},t}(),Fe=function(t){function e(e,n,r,i){var o=t.call(this)||this;return o.outletElement=e,o._componentFactoryResolver=n,o._appRef=r,o._defaultInjector=i,o}return Object(i.__extends)(e,t),e.prototype.attachComponentPortal=function(t){var e,n=this,r=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);return t.viewContainerRef?(e=t.viewContainerRef.createComponent(r,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(function(){return e.destroy()})):(e=r.create(t.injector||this._defaultInjector),this._appRef.attachView(e.hostView),this.setDisposeFn(function(){n._appRef.detachView(e.hostView),e.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(e)),e},e.prototype.attachTemplatePortal=function(t){var e=this,n=t.viewContainerRef,r=n.createEmbeddedView(t.templateRef,t.context);return r.detectChanges(),r.rootNodes.forEach(function(t){return e.outletElement.appendChild(t)}),this.setDisposeFn(function(){var t=n.indexOf(r);-1!==t&&n.remove(t)}),r},e.prototype.dispose=function(){t.prototype.dispose.call(this),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)},e.prototype._getComponentRootNode=function(t){return t.hostView.rootNodes[0]},e}(Me),Le=function(t){function e(e,n){var i=t.call(this)||this;return i._componentFactoryResolver=e,i._viewContainerRef=n,i._isInitialized=!1,i.attached=new r.EventEmitter,i}return Object(i.__extends)(e,t),Object.defineProperty(e.prototype,"portal",{get:function(){return this._attachedPortal},set:function(e){(!this.hasAttached()||e||this._isInitialized)&&(this.hasAttached()&&t.prototype.detach.call(this),e&&t.prototype.attach.call(this,e),this._attachedPortal=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"attachedRef",{get:function(){return this._attachedRef},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this._isInitialized=!0},e.prototype.ngOnDestroy=function(){t.prototype.dispose.call(this),this._attachedPortal=null,this._attachedRef=null},e.prototype.attachComponentPortal=function(e){e.setAttachedHost(this);var n=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),i=n.createComponent(r,n.length,e.injector||n.injector);return t.prototype.setDisposeFn.call(this,function(){return i.destroy()}),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i},e.prototype.attachTemplatePortal=function(e){var n=this;e.setAttachedHost(this);var r=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context);return t.prototype.setDisposeFn.call(this,function(){return n._viewContainerRef.clear()}),this._attachedPortal=e,this._attachedRef=r,this.attached.emit(r),r},e}(Me),Be=function(){return function(){}}(),Ve=n("MGBS"),Ue=n("zotm"),qe=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){var n=new ze(t),r=Object(Ue.a)(n,this.notifier);return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n},t}(),ze=function(t){function e(e){var n=t.call(this,e)||this;return n.seenValue=!1,n}return i.__extends(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.seenValue=!0,this.complete()},e.prototype.notifyComplete=function(){},e}(Ve.a),He=n("isby");function Qe(t,e,n,r){return Object(Bt.a)(n)&&(r=n,n=void 0),r?Qe(t,e,n).pipe(Object(Zt.a)(function(t){return Object(He.a)(t)?r.apply(void 0,t):r(t)})):new Et.a(function(r){!function t(e,n,r,i,o){var a;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){var s=e;e.addEventListener(n,r,o),a=function(){return s.removeEventListener(n,r,o)}}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){var u=e;e.on(n,r),a=function(){return u.off(n,r)}}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){var c=e;e.addListener(n,r),a=function(){return c.removeListener(n,r)}}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(var l=0,f=e.length;l<f;l++)t(e[l],n,r,i,o)}i.add(a)}(t,e,function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},r,n)})}var Ke=n("p0ib"),Ge=n("Ehmk"),We=n("eihs"),Ye=function(){function t(t){this.durationSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new Ze(t,this.durationSelector))},t}(),Ze=function(t){function e(e,n){var r=t.call(this,e)||this;return r.durationSelector=n,r.hasValue=!1,r}return i.__extends(e,t),e.prototype._next=function(t){if(this.value=t,this.hasValue=!0,!this.throttled){var e=Object(Ge.a)(this.durationSelector)(t);if(e===We.a)this.destination.error(We.a.e);else{var n=Object(Ue.a)(this,e);!n||n.closed?this.clearThrottle():this.add(this.throttled=n)}}},e.prototype.clearThrottle=function(){var t=this.value,e=this.hasValue,n=this.throttled;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),e&&(this.value=null,this.hasValue=!1,this.destination.next(t))},e.prototype.notifyNext=function(t,e,n,r){this.clearThrottle()},e.prototype.notifyComplete=function(){this.clearThrottle()},e}(Ve.a);function Xe(t){return!Object(He.a)(t)&&t-parseFloat(t)+1>=0}function Je(t){var e=t.index,n=t.period,r=t.subscriber;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}function $e(t,e){return void 0===e&&(e=Kt),n=function(){return function(t,e,n){void 0===t&&(t=0);var r=-1;return Xe(e)?r=Number(e)<1?1:Number(e):Object(kt.a)(e)&&(n=e),Object(kt.a)(n)||(n=Kt),new Et.a(function(e){var i=Xe(t)?t:+t-n.now();return n.schedule(Je,i,{index:0,period:r,subscriber:e})})}(t,e)},function(t){return t.lift(new Ye(n))};var n}var tn=n("rPjj");function en(t,e){return"function"==typeof e?function(n){return n.pipe(en(function(n,r){return Object(Pt.a)(t(n,r)).pipe(Object(Zt.a)(function(t,i){return e(n,t,r,i)}))}))}:function(e){return e.lift(new nn(t))}}var nn=function(){function t(t){this.project=t}return t.prototype.call=function(t,e){return e.subscribe(new rn(t,this.project))},t}(),rn=function(t){function e(e,n){var r=t.call(this,e)||this;return r.project=n,r.index=0,r}return i.__extends(e,t),e.prototype._next=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){var r=this.innerSubscription;r&&r.unsubscribe();var i=new tn.a(this,void 0,void 0);this.destination.add(i),this.innerSubscription=Object(Ue.a)(this,t,e,n,i)},e.prototype._complete=function(){var e=this.innerSubscription;e&&!e.closed||t.prototype._complete.call(this),this.unsubscribe()},e.prototype._unsubscribe=function(){this.innerSubscription=null},e.prototype.notifyComplete=function(e){this.destination.remove(e),this.innerSubscription=null,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},e}(Ve.a),on=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r}return i.__extends(e,t),e.prototype.schedule=function(e,n){return void 0===n&&(n=0),n>0?t.prototype.schedule.call(this,e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)},e.prototype.execute=function(e,n){return n>0||this.closed?t.prototype.execute.call(this,e,n):this._execute(e,n)},e.prototype.requestAsyncId=function(e,n,r){return void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0?t.prototype.requestAsyncId.call(this,e,n,r):e.flush(this)},e}(zt),an=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e}(Qt))(on),sn=n("8g8A");n("uMaO");var un=function(){function t(t,e){this._ngZone=t,this._platform=e,this._scrolled=new wt.a,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map}return t.prototype.register=function(t){var e=this;this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(function(){return e._scrolled.next(t)}))},t.prototype.deregister=function(t){var e=this.scrollContainers.get(t);e&&(e.unsubscribe(),this.scrollContainers.delete(t))},t.prototype.scrolled=function(t){var e=this;return void 0===t&&(t=20),this._platform.isBrowser?new Et.a(function(n){e._globalSubscription||e._addGlobalListener();var r=t>0?e._scrolled.pipe($e(t)).subscribe(n):e._scrolled.subscribe(n);return e._scrolledCount++,function(){r.unsubscribe(),e._scrolledCount--,e._scrolledCount||e._removeGlobalListener()}}):Rt()},t.prototype.ngOnDestroy=function(){var t=this;this._removeGlobalListener(),this.scrollContainers.forEach(function(e,n){return t.deregister(n)}),this._scrolled.complete()},t.prototype.ancestorScrolled=function(t,e){var n=this.getAncestorScrollContainers(t);return this.scrolled(e).pipe(Gt(function(t){return!t||n.indexOf(t)>-1}))},t.prototype.getAncestorScrollContainers=function(t){var e=this,n=[];return this.scrollContainers.forEach(function(r,i){e._scrollableContainsElement(i,t)&&n.push(i)}),n},t.prototype._scrollableContainsElement=function(t,e){var n=e.nativeElement,r=t.getElementRef().nativeElement;do{if(n==r)return!0}while(n=n.parentElement);return!1},t.prototype._addGlobalListener=function(){var t=this;this._globalSubscription=this._ngZone.runOutsideAngular(function(){return Qe(window.document,"scroll").subscribe(function(){return t._scrolled.next()})})},t.prototype._removeGlobalListener=function(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)},t.ngInjectableDef=Object(r.defineInjectable)({factory:function(){return new t(Object(r.inject)(r.NgZone),Object(r.inject)(St))},token:t,providedIn:"root"}),t}(),cn=function(){return function(){}}(),ln=function(){function t(t,e){var n=this;this._platform=t,e.runOutsideAngular(function(){n._change=t.isBrowser?Object(Ke.a)(Qe(window,"resize"),Qe(window,"orientationchange")):Rt(),n._invalidateCache=n.change().subscribe(function(){return n._updateViewportSize()})})}return t.prototype.ngOnDestroy=function(){this._invalidateCache.unsubscribe()},t.prototype.getViewportSize=function(){this._viewportSize||this._updateViewportSize();var t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t},t.prototype.getViewportRect=function(){var t=this.getViewportScrollPosition(),e=this.getViewportSize(),n=e.width,r=e.height;return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+n,height:r,width:n}},t.prototype.getViewportScrollPosition=function(){if(!this._platform.isBrowser)return{top:0,left:0};var t=document.documentElement,e=t.getBoundingClientRect();return{top:-e.top||document.body.scrollTop||window.scrollY||t.scrollTop||0,left:-e.left||document.body.scrollLeft||window.scrollX||t.scrollLeft||0}},t.prototype.change=function(t){return void 0===t&&(t=20),t>0?this._change.pipe($e(t)):this._change},t.prototype._updateViewportSize=function(){this._viewportSize=this._platform.isBrowser?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0}},t.ngInjectableDef=Object(r.defineInjectable)({factory:function(){return new t(Object(r.inject)(St),Object(r.inject)(r.NgZone))},token:t,providedIn:"root"}),t}(),fn=function(){function t(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}return t.prototype.attach=function(){},t.prototype.enable=function(){if(this._canBeEnabled()){var t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=gt(-this._previousScrollPosition.left),t.style.top=gt(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}},t.prototype.disable=function(){if(this._isEnabled){var t=this._document.documentElement,e=t.style,n=this._document.body.style,r=e.scrollBehavior||"",i=n.scrollBehavior||"";this._isEnabled=!1,e.left=this._previousHTMLStyles.left,e.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),e.scrollBehavior=n.scrollBehavior="auto",window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),e.scrollBehavior=r,n.scrollBehavior=i}},t.prototype._canBeEnabled=function(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;var t=this._document.body,e=this._viewportRuler.getViewportSize();return t.scrollHeight>e.height||t.scrollWidth>e.width},t}();function hn(){return Error("Scroll strategy has already been attached.")}var pn=function(){function t(t,e,n,r){var i=this;this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=n,this._config=r,this._scrollSubscription=null,this._detach=function(){i.disable(),i._overlayRef.hasAttached()&&i._ngZone.run(function(){return i._overlayRef.detach()})}}return t.prototype.attach=function(t){if(this._overlayRef)throw hn();this._overlayRef=t},t.prototype.enable=function(){var t=this;if(!this._scrollSubscription){var e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(function(){var e=t._viewportRuler.getViewportScrollPosition().top;Math.abs(e-t._initialScrollPosition)>t._config.threshold?t._detach():t._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}},t.prototype.disable=function(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)},t}(),dn=function(){function t(){}return t.prototype.enable=function(){},t.prototype.disable=function(){},t.prototype.attach=function(){},t}();function yn(t,e){return e.some(function(e){return t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right})}function mn(t,e){return e.some(function(e){return t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right})}var vn=function(){function t(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this._config=r,this._scrollSubscription=null}return t.prototype.attach=function(t){if(this._overlayRef)throw hn();this._overlayRef=t},t.prototype.enable=function(){var t=this;this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(function(){if(t._overlayRef.updatePosition(),t._config&&t._config.autoClose){var e=t._overlayRef.overlayElement.getBoundingClientRect(),n=t._viewportRuler.getViewportSize(),r=n.width,i=n.height;yn(e,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(t.disable(),t._ngZone.run(function(){return t._overlayRef.detach()}))}}))},t.prototype.disable=function(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)},t}(),gn=function(){function t(t,e,n,r){var i=this;this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this.noop=function(){return new dn},this.close=function(t){return new pn(i._scrollDispatcher,i._ngZone,i._viewportRuler,t)},this.block=function(){return new fn(i._viewportRuler,i._document)},this.reposition=function(t){return new vn(i._scrollDispatcher,i._viewportRuler,i._ngZone,t)},this._document=r}return t.ngInjectableDef=Object(r.defineInjectable)({factory:function(){return new t(Object(r.inject)(un),Object(r.inject)(ln),Object(r.inject)(r.NgZone),Object(r.inject)(o.DOCUMENT))},token:t,providedIn:"root"}),t}(),bn=function(){return function(t){var e=this;this.scrollStrategy=new dn,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t&&Object.keys(t).forEach(function(n){void 0!==t[n]&&(e[n]=t[n])})}}(),_n=function(){return function(t,e,n,r,i){this.offsetX=n,this.offsetY=r,this.panelClass=i,this.originX=t.originX,this.originY=t.originY,this.overlayX=e.overlayX,this.overlayY=e.overlayY}}(),wn=function(){return function(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}();function En(t,e){if("top"!==e&&"bottom"!==e&&"center"!==e)throw Error("ConnectedPosition: Invalid "+t+' "'+e+'". Expected "top", "bottom" or "center".')}function Cn(t,e){if("start"!==e&&"end"!==e&&"center"!==e)throw Error("ConnectedPosition: Invalid "+t+' "'+e+'". Expected "start", "end" or "center".')}var Sn=function(){function t(t){var e=this;this._attachedOverlays=[],this._keydownListener=function(t){for(var n=e._attachedOverlays,r=n.length-1;r>-1;r--)if(n[r]._keydownEventSubscriptions>0){n[r]._keydownEvents.next(t);break}},this._document=t}return t.prototype.ngOnDestroy=function(){this._detach()},t.prototype.add=function(t){this.remove(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener,!0),this._isAttached=!0),this._attachedOverlays.push(t)},t.prototype.remove=function(t){var e=this._attachedOverlays.indexOf(t);e>-1&&this._attachedOverlays.splice(e,1),0===this._attachedOverlays.length&&this._detach()},t.prototype._detach=function(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener,!0),this._isAttached=!1)},t.ngInjectableDef=Object(r.defineInjectable)({factory:function(){return new t(Object(r.inject)(o.DOCUMENT))},token:t,providedIn:"root"}),t}(),Dn=function(){function t(t){this._document=t}return t.prototype.ngOnDestroy=function(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)},t.prototype.getContainerElement=function(){return this._containerElement||this._createContainer(),this._containerElement},t.prototype._createContainer=function(){var t=this._document.createElement("div");t.classList.add("cdk-overlay-container"),this._document.body.appendChild(t),this._containerElement=t},t.ngInjectableDef=Object(r.defineInjectable)({factory:function(){return new t(Object(r.inject)(o.DOCUMENT))},token:t,providedIn:"root"}),t}(),On=function(){function t(t,e,n,r,i,o,a,s){var u=this;this._portalOutlet=t,this._host=e,this._pane=n,this._config=r,this._ngZone=i,this._keyboardDispatcher=o,this._document=a,this._location=s,this._backdropElement=null,this._backdropClick=new wt.a,this._attachments=new wt.a,this._detachments=new wt.a,this._locationChanges=Mt.a.EMPTY,this._keydownEventsObservable=new Et.a(function(t){var e=u._keydownEvents.subscribe(t);return u._keydownEventSubscriptions++,function(){e.unsubscribe(),u._keydownEventSubscriptions--}}),this._keydownEvents=new wt.a,this._keydownEventSubscriptions=0,r.scrollStrategy&&r.scrollStrategy.attach(this),this._positionStrategy=r.positionStrategy}return Object.defineProperty(t.prototype,"overlayElement",{get:function(){return this._pane},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"backdropElement",{get:function(){return this._backdropElement},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hostElement",{get:function(){return this._host},enumerable:!0,configurable:!0}),t.prototype.attach=function(t){var e=this,n=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._config.scrollStrategy&&this._config.scrollStrategy.enable(),this._ngZone.onStable.asObservable().pipe($t(1)).subscribe(function(){e.hasAttached()&&e.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&this._location&&(this._locationChanges=this._location.subscribe(function(){return e.dispose()})),n},t.prototype.detach=function(){if(this.hasAttached()){this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._config.scrollStrategy&&this._config.scrollStrategy.disable();var t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),t}},t.prototype.dispose=function(){var t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._config.scrollStrategy&&this._config.scrollStrategy.disable(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()},t.prototype.hasAttached=function(){return this._portalOutlet.hasAttached()},t.prototype.backdropClick=function(){return this._backdropClick.asObservable()},t.prototype.attachments=function(){return this._attachments.asObservable()},t.prototype.detachments=function(){return this._detachments.asObservable()},t.prototype.keydownEvents=function(){return this._keydownEventsObservable},t.prototype.getConfig=function(){return this._config},t.prototype.updatePosition=function(){this._positionStrategy&&this._positionStrategy.apply()},t.prototype.updatePositionStrategy=function(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))},t.prototype.updateSize=function(t){this._config=Object(i.__assign)({},this._config,t),this._updateElementSize()},t.prototype.setDirection=function(t){this._config=Object(i.__assign)({},this._config,{direction:t}),this._updateElementDirection()},t.prototype.addPanelClass=function(t){this._pane&&this._toggleClasses(this._pane,t,!0)},t.prototype.removePanelClass=function(t){this._pane&&this._toggleClasses(this._pane,t,!1)},t.prototype.getDirection=function(){var t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"},t.prototype._updateElementDirection=function(){this._host.setAttribute("dir",this.getDirection())},t.prototype._updateElementSize=function(){var t=this._pane.style;t.width=gt(this._config.width),t.height=gt(this._config.height),t.minWidth=gt(this._config.minWidth),t.minHeight=gt(this._config.minHeight),t.maxWidth=gt(this._config.maxWidth),t.maxHeight=gt(this._config.maxHeight)},t.prototype._togglePointerEvents=function(t){this._pane.style.pointerEvents=t?"auto":"none"},t.prototype._attachBackdrop=function(){var t=this;this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",function(e){return t._backdropClick.next(e)}),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(function(){requestAnimationFrame(function(){t._backdropElement&&t._backdropElement.classList.add("cdk-overlay-backdrop-showing")})}):this._backdropElement.classList.add("cdk-overlay-backdrop-showing")},t.prototype._updateStackingOrder=function(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)},t.prototype.detachBackdrop=function(){var t=this,e=this._backdropElement;if(e){var n,r=function(){e&&e.parentNode&&e.parentNode.removeChild(e),t._backdropElement==e&&(t._backdropElement=null),t._config.backdropClass&&t._toggleClasses(e,t._config.backdropClass,!1),clearTimeout(n)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(function(){e.addEventListener("transitionend",r)}),e.style.pointerEvents="none",n=this._ngZone.runOutsideAngular(function(){return setTimeout(r,500)})}},t.prototype._toggleClasses=function(t,e,n){var r=t.classList;vt(e).forEach(function(t){n?r.add(t):r.remove(t)})},t.prototype._detachContentWhenStable=function(){var t=this;this._ngZone.runOutsideAngular(function(){var e,n=t._ngZone.onStable.asObservable().pipe((e=Object(Ke.a)(t._attachments,t._detachments),function(t){return t.lift(new qe(e))})).subscribe(function(){t._pane&&t._host&&0!==t._pane.children.length||(t._pane&&t._config.panelClass&&t._toggleClasses(t._pane,t._config.panelClass,!1),t._host&&t._host.parentElement&&(t._previousHostParent=t._host.parentElement,t._previousHostParent.removeChild(t._host)),n.unsubscribe())})})},t}(),Tn=function(){function t(t,e,n,r,i){var o=this;this._viewportRuler=e,this._document=n,this._platform=r,this._overlayContainer=i,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this.scrollables=[],this._preferredPositions=[],this._positionChanges=new wt.a,this._resizeSubscription=Mt.a.EMPTY,this._offsetX=0,this._offsetY=0,this._positionChangeSubscriptions=0,this._appliedPanelClasses=[],this.positionChanges=new Et.a(function(t){var e=o._positionChanges.subscribe(t);return o._positionChangeSubscriptions++,function(){e.unsubscribe(),o._positionChangeSubscriptions--}}),this.setOrigin(t)}return Object.defineProperty(t.prototype,"positions",{get:function(){return this._preferredPositions},enumerable:!0,configurable:!0}),t.prototype.attach=function(t){var e=this;if(this._overlayRef&&t!==this._overlayRef)throw Error("This position strategy is already attached to an overlay");this._validatePositions(),t.hostElement.classList.add("cdk-overlay-connected-position-bounding-box"),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(function(){e._isInitialRender=!0,e.apply()})},t.prototype.apply=function(){if(!(this._isDisposed||this._platform&&!this._platform.isBrowser))if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)this.reapplyLastPosition();else{this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();for(var t,e=this._originRect,n=this._overlayRect,r=this._viewportRect,i=[],o=0,a=this._preferredPositions;o<a.length;o++){var s=a[o],u=this._getOriginPoint(e,s),c=this._getOverlayPoint(u,n,s),l=this._getOverlayFit(c,n,r,s);if(l.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(s,u);this._canFitWithFlexibleDimensions(l,c,r)?i.push({position:s,origin:u,overlayRect:n,boundingBoxRect:this._calculateBoundingBoxRect(u,s)}):(!t||t.overlayFit.visibleArea<l.visibleArea)&&(t={overlayFit:l,overlayPoint:c,originPoint:u,position:s,overlayRect:n})}if(i.length){for(var f=null,h=-1,p=0,d=i;p<d.length;p++){var y=d[p],m=y.boundingBoxRect.width*y.boundingBoxRect.height*(y.position.weight||1);m>h&&(h=m,f=y)}return this._isPushed=!1,void this._applyPosition(f.position,f.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(t.position,t.originPoint);this._applyPosition(t.position,t.originPoint)}},t.prototype.detach=function(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()},t.prototype.dispose=function(){this._isDisposed||(this._boundingBox&&An(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove("cdk-overlay-connected-position-bounding-box"),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)},t.prototype.reapplyLastPosition=function(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();var t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}},t.prototype.withScrollableContainers=function(t){return this.scrollables=t,this},t.prototype.withPositions=function(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this},t.prototype.withViewportMargin=function(t){return this._viewportMargin=t,this},t.prototype.withFlexibleDimensions=function(t){return void 0===t&&(t=!0),this._hasFlexibleDimensions=t,this},t.prototype.withGrowAfterOpen=function(t){return void 0===t&&(t=!0),this._growAfterOpen=t,this},t.prototype.withPush=function(t){return void 0===t&&(t=!0),this._canPush=t,this},t.prototype.withLockedPosition=function(t){return void 0===t&&(t=!0),this._positionLocked=t,this},t.prototype.setOrigin=function(t){return this._origin=t,this},t.prototype.withDefaultOffsetX=function(t){return this._offsetX=t,this},t.prototype.withDefaultOffsetY=function(t){return this._offsetY=t,this},t.prototype.withTransformOriginOn=function(t){return this._transformOriginSelector=t,this},t.prototype._getOriginPoint=function(t,e){var n;if("center"==e.originX)n=t.left+t.width/2;else{var r=this._isRtl()?t.right:t.left,i=this._isRtl()?t.left:t.right;n="start"==e.originX?r:i}return{x:n,y:"center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom}},t.prototype._getOverlayPoint=function(t,e,n){var r;return r="center"==n.overlayX?-e.width/2:"start"===n.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,{x:t.x+r,y:t.y+("center"==n.overlayY?-e.height/2:"top"==n.overlayY?0:-e.height)}},t.prototype._getOverlayFit=function(t,e,n,r){var i=t.x,o=t.y,a=this._getOffset(r,"x"),s=this._getOffset(r,"y");a&&(i+=a),s&&(o+=s);var u=0-o,c=o+e.height-n.height,l=this._subtractOverflows(e.width,0-i,i+e.width-n.width),f=this._subtractOverflows(e.height,u,c),h=l*f;return{visibleArea:h,isCompletelyWithinViewport:e.width*e.height===h,fitsInViewportVertically:f===e.height,fitsInViewportHorizontally:l==e.width}},t.prototype._canFitWithFlexibleDimensions=function(t,e,n){if(this._hasFlexibleDimensions){var r=n.bottom-e.y,i=n.right-e.x,o=this._overlayRef.getConfig().minHeight,a=this._overlayRef.getConfig().minWidth;return(t.fitsInViewportVertically||null!=o&&o<=r)&&(t.fitsInViewportHorizontally||null!=a&&a<=i)}},t.prototype._pushOverlayOnScreen=function(t,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};var r,i,o=this._viewportRect,a=Math.max(t.x+e.width-o.right,0),s=Math.max(t.y+e.height-o.bottom,0),u=Math.max(o.top-n.top-t.y,0),c=Math.max(o.left-n.left-t.x,0);return this._previousPushAmount={x:r=e.width<=o.width?c||-a:t.x<this._viewportMargin?o.left-n.left-t.x:0,y:i=e.height<=o.height?u||-s:t.y<this._viewportMargin?o.top-n.top-t.y:0},{x:t.x+r,y:t.y+i}},t.prototype._applyPosition=function(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChangeSubscriptions>0){var n=this._getScrollVisibility(),r=new wn(t,n);this._positionChanges.next(r)}this._isInitialRender=!1},t.prototype._setTransformOrigin=function(t){if(this._transformOriginSelector){var e,n=this._boundingBox.querySelectorAll(this._transformOriginSelector),r=t.overlayY;e="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(var i=0;i<n.length;i++)n[i].style.transformOrigin=e+" "+r}},t.prototype._calculateBoundingBoxRect=function(t,e){var n,r,i,o,a,s,u=this._viewportRect,c=this._isRtl();if("top"===e.overlayY)n=u.height-(r=t.y)+this._viewportMargin;else if("bottom"===e.overlayY)n=u.height-(i=u.height-t.y+2*this._viewportMargin)+this._viewportMargin;else{var l=Math.min(u.bottom-t.y+u.top,t.y),f=this._lastBoundingBoxSize.height;r=t.y-l,(n=2*l)>f&&!this._isInitialRender&&!this._growAfterOpen&&(r=t.y-f/2)}if("end"===e.overlayX&&!c||"start"===e.overlayX&&c)s=u.right-t.x+this._viewportMargin,o=t.x-u.left;else if("start"===e.overlayX&&!c||"end"===e.overlayX&&c)a=t.x,o=u.right-t.x;else{l=Math.min(u.right-t.x+u.left,t.x);var h=this._lastBoundingBoxSize.width;a=t.x-l,(o=2*l)>h&&!this._isInitialRender&&!this._growAfterOpen&&(a=t.x-h/2)}return{top:r,left:a,bottom:i,right:s,width:o,height:n}},t.prototype._setBoundingBoxStyles=function(t,e){var n=this._calculateBoundingBoxRect(t,e);this._isInitialRender||this._growAfterOpen||(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));var r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right="",r.width=r.height="100%";else{var i=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;r.height=gt(n.height),r.top=gt(n.top),r.bottom=gt(n.bottom),r.width=gt(n.width),r.left=gt(n.left),r.right=gt(n.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",i&&(r.maxHeight=gt(i)),o&&(r.maxWidth=gt(o))}this._lastBoundingBoxSize=n,An(this._boundingBox.style,r)},t.prototype._resetBoundingBoxStyles=function(){An(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})},t.prototype._resetOverlayElementStyles=function(){An(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})},t.prototype._setOverlayElementStyles=function(t,e){var n={};if(this._hasExactPosition()){var r=this._viewportRuler.getViewportScrollPosition();An(n,this._getExactOverlayY(e,t,r)),An(n,this._getExactOverlayX(e,t,r))}else n.position="static";var i="",o=this._getOffset(e,"x"),a=this._getOffset(e,"y");o&&(i+="translateX("+o+"px) "),a&&(i+="translateY("+a+"px)"),n.transform=i.trim(),this._hasFlexibleDimensions&&this._overlayRef.getConfig().maxHeight&&(n.maxHeight=""),this._hasFlexibleDimensions&&this._overlayRef.getConfig().maxWidth&&(n.maxWidth=""),An(this._pane.style,n)},t.prototype._getExactOverlayY=function(t,e,n){var r={top:null,bottom:null},i=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(i=this._pushOverlayOnScreen(i,this._overlayRect,n));var o=this._overlayContainer?this._overlayContainer.getContainerElement().getBoundingClientRect().top:0;return i.y-=o,"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(i.y+this._overlayRect.height)+"px":r.top=gt(i.y),r},t.prototype._getExactOverlayX=function(t,e,n){var r={left:null,right:null},i=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(i=this._pushOverlayOnScreen(i,this._overlayRect,n)),"right"==(this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left")?r.right=this._document.documentElement.clientWidth-(i.x+this._overlayRect.width)+"px":r.left=gt(i.x),r},t.prototype._getScrollVisibility=function(){var t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this.scrollables.map(function(t){return t.getElementRef().nativeElement.getBoundingClientRect()});return{isOriginClipped:mn(t,n),isOriginOutsideView:yn(t,n),isOverlayClipped:mn(e,n),isOverlayOutsideView:yn(e,n)}},t.prototype._subtractOverflows=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce(function(t,e){return t-Math.max(e,0)},t)},t.prototype._getNarrowedViewportRect=function(){var t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}},t.prototype._isRtl=function(){return"rtl"===this._overlayRef.getDirection()},t.prototype._hasExactPosition=function(){return!this._hasFlexibleDimensions||this._isPushed},t.prototype._getOffset=function(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY},t.prototype._validatePositions=function(){if(!this._preferredPositions.length)throw Error("FlexibleConnectedPositionStrategy: At least one position is required.");this._preferredPositions.forEach(function(t){Cn("originX",t.originX),En("originY",t.originY),Cn("overlayX",t.overlayX),En("overlayY",t.overlayY)})},t.prototype._addPanelClasses=function(t){var e=this;this._pane&&vt(t).forEach(function(t){-1===e._appliedPanelClasses.indexOf(t)&&(e._appliedPanelClasses.push(t),e._pane.classList.add(t))})},t.prototype._clearPanelClasses=function(){var t=this;this._pane&&(this._appliedPanelClasses.forEach(function(e){return t._pane.classList.remove(e)}),this._appliedPanelClasses=[])},t.prototype._getOriginRect=function(){var t=this._origin;return t instanceof r.ElementRef?t.nativeElement.getBoundingClientRect():t instanceof HTMLElement?t.getBoundingClientRect():{top:t.y,bottom:t.y,left:t.x,right:t.x,height:0,width:0}},t}();function An(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}var In=function(){function t(t,e,n,r,i,o){this._preferredPositions=[],this._positionStrategy=new Tn(n,r,i,o).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(t,e)}return Object.defineProperty(t.prototype,"_isRtl",{get:function(){return"rtl"===this._overlayRef.getDirection()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onPositionChange",{get:function(){return this._positionStrategy.positionChanges},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"positions",{get:function(){return this._preferredPositions},enumerable:!0,configurable:!0}),t.prototype.attach=function(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)},t.prototype.dispose=function(){this._positionStrategy.dispose()},t.prototype.detach=function(){this._positionStrategy.detach()},t.prototype.apply=function(){this._positionStrategy.apply()},t.prototype.recalculateLastPosition=function(){this._positionStrategy.reapplyLastPosition()},t.prototype.withScrollableContainers=function(t){this._positionStrategy.withScrollableContainers(t)},t.prototype.withFallbackPosition=function(t,e,n,r){var i=new _n(t,e,n,r);return this._preferredPositions.push(i),this._positionStrategy.withPositions(this._preferredPositions),this},t.prototype.withDirection=function(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this},t.prototype.withOffsetX=function(t){return this._positionStrategy.withDefaultOffsetX(t),this},t.prototype.withOffsetY=function(t){return this._positionStrategy.withDefaultOffsetY(t),this},t.prototype.withLockedPosition=function(t){return this._positionStrategy.withLockedPosition(t),this},t.prototype.withPositions=function(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this},t.prototype.setOrigin=function(t){return this._positionStrategy.setOrigin(t),this},t}(),xn=function(){function t(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}return t.prototype.attach=function(t){var e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add("cdk-global-overlay-wrapper"),this._isDisposed=!1},t.prototype.top=function(t){return void 0===t&&(t=""),this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this},t.prototype.left=function(t){return void 0===t&&(t=""),this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this},t.prototype.bottom=function(t){return void 0===t&&(t=""),this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this},t.prototype.right=function(t){return void 0===t&&(t=""),this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this},t.prototype.width=function(t){return void 0===t&&(t=""),this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this},t.prototype.height=function(t){return void 0===t&&(t=""),this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this},t.prototype.centerHorizontally=function(t){return void 0===t&&(t=""),this.left(t),this._justifyContent="center",this},t.prototype.centerVertically=function(t){return void 0===t&&(t=""),this.top(t),this._alignItems="center",this},t.prototype.apply=function(){if(this._overlayRef&&this._overlayRef.hasAttached()){var t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig();t.position=this._cssPosition,t.marginLeft="100%"===n.width?"0":this._leftOffset,t.marginTop="100%"===n.height?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,"100%"===n.width?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems="100%"===n.height?"flex-start":this._alignItems}},t.prototype.dispose=function(){if(!this._isDisposed&&this._overlayRef){var t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove("cdk-global-overlay-wrapper"),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}},t}(),kn=function(){function t(t,e,n,r){this._viewportRuler=t,this._document=e,this._platform=n,this._overlayContainer=r}return t.prototype.global=function(){return new xn},t.prototype.connectedTo=function(t,e,n){return new In(e,n,t,this._viewportRuler,this._document)},t.prototype.flexibleConnectedTo=function(t){return new Tn(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)},t.ngInjectableDef=Object(r.defineInjectable)({factory:function(){return new t(Object(r.inject)(ln),Object(r.inject)(o.DOCUMENT),Object(r.inject)(St,8),Object(r.inject)(Dn,8))},token:t,providedIn:"root"}),t}(),Rn=0,Pn=function(){function t(t,e,n,r,i,o,a,s,u,c){this.scrollStrategies=t,this._overlayContainer=e,this._componentFactoryResolver=n,this._positionBuilder=r,this._keyboardDispatcher=i,this._injector=o,this._ngZone=a,this._document=s,this._directionality=u,this._location=c}return t.prototype.create=function(t){var e=this._createHostElement(),n=this._createPaneElement(e),r=this._createPortalOutlet(n),i=new bn(t);return i.direction=i.direction||this._directionality.value,new On(r,e,n,i,this._ngZone,this._keyboardDispatcher,this._document,this._location)},t.prototype.position=function(){return this._positionBuilder},t.prototype._createPaneElement=function(t){var e=this._document.createElement("div");return e.id="cdk-overlay-"+Rn++,e.classList.add("cdk-overlay-pane"),t.appendChild(e),e},t.prototype._createHostElement=function(){var t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t},t.prototype._createPortalOutlet=function(t){return this._appRef||(this._appRef=this._injector.get(r.ApplicationRef)),new Fe(t,this._componentFactoryResolver,this._appRef,this._injector)},t}(),Nn=new r.InjectionToken("cdk-connected-overlay-scroll-strategy");function jn(t){return function(){return t.scrollStrategies.reposition()}}var Mn=function(){return function(){}}(),Fn={},Ln=function(){function t(t){this.resultSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new Bn(t,this.resultSelector))},t}(),Bn=function(t){function e(e,n){var r=t.call(this,e)||this;return r.resultSelector=n,r.active=0,r.values=[],r.observables=[],r}return i.__extends(e,t),e.prototype._next=function(t){this.values.push(Fn),this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var n=0;n<e;n++){var r=t[n];this.add(Object(Ue.a)(this,r,r,n))}}},e.prototype.notifyComplete=function(t){0==(this.active-=1)&&this.destination.complete()},e.prototype.notifyNext=function(t,e,n,r,i){var o=this.values,a=this.toRespond?o[n]===Fn?--this.toRespond:this.toRespond:0;o[n]=e,0===a&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))},e.prototype._tryResultSelector=function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)},e}(Ve.a),Vn=function(){function t(t,e){var n=this;this._overlayRef=e,this._afterDismissed=new wt.a,this._afterOpened=new wt.a,this._onAction=new wt.a,this._dismissedByAction=!1,this.containerInstance=t,this.onAction().subscribe(function(){return n.dismiss()}),t._onExit.subscribe(function(){return n._finishDismiss()})}return t.prototype.dismiss=function(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)},t.prototype.dismissWithAction=function(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete())},t.prototype.closeWithAction=function(){this.dismissWithAction()},t.prototype._dismissAfter=function(t){var e=this;this._durationTimeoutId=setTimeout(function(){return e.dismiss()},t)},t.prototype._open=function(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())},t.prototype._finishDismiss=function(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1},t.prototype.afterDismissed=function(){return this._afterDismissed.asObservable()},t.prototype.afterOpened=function(){return this.containerInstance._onEnter},t.prototype.onAction=function(){return this._onAction.asObservable()},t}(),Un=new r.InjectionToken("MatSnackBarData"),qn=function(){return function(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}(),zn=function(){function t(t,e){this.snackBarRef=t,this.data=e}return t.prototype.action=function(){this.snackBarRef.dismissWithAction()},Object.defineProperty(t.prototype,"hasAction",{get:function(){return!!this.data.action},enumerable:!0,configurable:!0}),t}(),Hn=function(t){function e(e,n,r,i){var o=t.call(this)||this;return o._ngZone=e,o._elementRef=n,o._changeDetectorRef=r,o.snackBarConfig=i,o._destroyed=!1,o._onExit=new wt.a,o._onEnter=new wt.a,o._animationState="void",o._role="assertive"!==i.politeness||i.announcementMessage?"off"===i.politeness?null:"status":"alert",o}return Object(i.__extends)(e,t),e.prototype.attachComponentPortal=function(t){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachComponentPortal(t)},e.prototype.attachTemplatePortal=function(t){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachTemplatePortal(t)},e.prototype.onAnimationEnd=function(t){var e=t.toState;if(("void"===e&&"void"!==t.fromState||"hidden"===e)&&this._completeExit(),"visible"===e){var n=this._onEnter;this._ngZone.run(function(){n.next(),n.complete()})}},e.prototype.enter=function(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges())},e.prototype.exit=function(){return this._animationState="hidden",this._onExit},e.prototype.ngOnDestroy=function(){this._destroyed=!0,this._completeExit()},e.prototype._completeExit=function(){var t=this;this._ngZone.onMicrotaskEmpty.asObservable().pipe($t(1)).subscribe(function(){t._onExit.next(),t._onExit.complete()})},e.prototype._applySnackBarClasses=function(){var t=this._elementRef.nativeElement,e=this.snackBarConfig.panelClass;e&&(Array.isArray(e)?e.forEach(function(e){return t.classList.add(e)}):t.classList.add(e)),"center"===this.snackBarConfig.horizontalPosition&&t.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&t.classList.add("mat-snack-bar-top")},e.prototype._assertNotAttached=function(){if(this._portalOutlet.hasAttached())throw Error("Attempting to attach snack bar content after content is already attached")},e}(Me),Qn=function(){return function(){}}(),Kn=function(){return function(){}}(),Gn=function(){return function(){}}(),Wn=function(){return function(){}}(),Yn=function(){return function(){this.align="start"}}(),Zn=function(){return function(){}}(),Xn=function(){return function(){}}(),Jn=function(){return function(){}}(),$n=function(){return function(){}}(),tr=function(){return function(){}}(),er=n("GU7I"),nr=function(){return function(){}}(),rr=function(){return function(){this.title="ng-pwa"}}(),ir=function(t){function e(e){var n=t.call(this)||this;return n._value=e,n}return i.__extends(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(e){var n=t.prototype._subscribe.call(this,e);return n&&!n.closed&&e.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new sn.a;return this._value},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},e}(wt.a);function or(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}or.prototype=Object.create(Error.prototype);var ar=or;function sr(t){return new Et.a(function(e){var n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(Pt.a)(n):xt()).subscribe(e)})}function ur(t){return function(e){return 0===t?xt():e.lift(new cr(t))}}var cr=function(){function t(t){if(this.total=t,this.total<0)throw new Jt}return t.prototype.call=function(t,e){return e.subscribe(new lr(t,this.total))},t}(),lr=function(t){function e(e,n){var r=t.call(this,e)||this;return r.total=n,r.ring=new Array,r.count=0,r}return i.__extends(e,t),e.prototype._next=function(t){var e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t},e.prototype._complete=function(){var t=this.destination,e=this.count;if(e>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=e++%n;t.next(r[o])}t.complete()},e}(Ft.a),fr=function(t){return void 0===t&&(t=hr),Vt({hasValue:!1,next:function(){this.hasValue=!0},complete:function(){if(!this.hasValue)throw t()}})};function hr(){return new ar}function pr(t){return void 0===t&&(t=null),function(e){return e.lift(new dr(t))}}var dr=function(){function t(t){this.defaultValue=t}return t.prototype.call=function(t,e){return e.subscribe(new yr(t,this.defaultValue))},t}(),yr=function(t){function e(e,n){var r=t.call(this,e)||this;return r.defaultValue=n,r.isEmpty=!0,r}return i.__extends(e,t),e.prototype._next=function(t){this.isEmpty=!1,this.destination.next(t)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(Ft.a),mr=n("mChF");function vr(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?Gt(function(e,n){return t(e,n,r)}):mr.a,ur(1),n?pr(e):fr(function(){return new ar}))}}function gr(t){return function(e){var n=new br(t),r=e.lift(n);return n.caught=r}}var br=function(){function t(t){this.selector=t}return t.prototype.call=function(t,e){return e.subscribe(new _r(t,this.selector,this.caught))},t}(),_r=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.selector=n,i.caught=r,i}return i.__extends(e,t),e.prototype.error=function(e){if(!this.isStopped){var n=void 0;try{n=this.selector(e,this.caught)}catch(i){return void t.prototype.error.call(this,i)}this._unsubscribeAndRecycle();var r=new tn.a(this,void 0,void 0);this.add(r),Object(Ue.a)(this,n,void 0,void 0,r)}},e}(Ve.a);function wr(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?Gt(function(e,n){return t(e,n,r)}):mr.a,$t(1),n?pr(e):fr(function(){return new ar}))}}var Er=n("psW0"),Cr=function(){function t(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}return t.prototype.call=function(t,e){return e.subscribe(new Sr(t,this.predicate,this.thisArg,this.source))},t}(),Sr=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o.predicate=n,o.thisArg=r,o.source=i,o.index=0,o.thisArg=r||o,o}return i.__extends(e,t),e.prototype.notifyComplete=function(t){this.destination.next(t),this.destination.complete()},e.prototype._next=function(t){var e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e||this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(Ft.a);function Dr(t,e){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Or(t,e,n))}}var Or=function(){function t(t,e,n){void 0===n&&(n=!1),this.accumulator=t,this.seed=e,this.hasSeed=n}return t.prototype.call=function(t,e){return e.subscribe(new Tr(t,this.accumulator,this.seed,this.hasSeed))},t}(),Tr=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o.accumulator=n,o._seed=r,o.hasSeed=i,o.index=0,o}return i.__extends(e,t),Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t},enumerable:!0,configurable:!0}),e.prototype._next=function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.accumulator(this.seed,t,n)}catch(r){this.destination.error(r)}this.seed=e,this.destination.next(e)},e}(Ft.a);function Ar(t,e){return Object(Er.a)(t,e,1)}var Ir=n("y3By"),xr=function(){function t(t){this.callback=t}return t.prototype.call=function(t,e){return e.subscribe(new kr(t,this.callback))},t}(),kr=function(t){function e(e,n){var r=t.call(this,e)||this;return r.add(new Mt.a(n)),r}return i.__extends(e,t),e}(Ft.a),Rr=function(){return function(t,e){this.id=t,this.url=e}}(),Pr=function(t){function e(e,n,r,i){void 0===r&&(r="imperative"),void 0===i&&(i=null);var o=t.call(this,e,n)||this;return o.navigationTrigger=r,o.restoredState=i,o}return Object(i.__extends)(e,t),e.prototype.toString=function(){return"NavigationStart(id: "+this.id+", url: '"+this.url+"')"},e}(Rr),Nr=function(t){function e(e,n,r){var i=t.call(this,e,n)||this;return i.urlAfterRedirects=r,i}return Object(i.__extends)(e,t),e.prototype.toString=function(){return"NavigationEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"')"},e}(Rr),jr=function(t){function e(e,n,r){var i=t.call(this,e,n)||this;return i.reason=r,i}return Object(i.__extends)(e,t),e.prototype.toString=function(){return"NavigationCancel(id: "+this.id+", url: '"+this.url+"')"},e}(Rr),Mr=function(t){function e(e,n,r){var i=t.call(this,e,n)||this;return i.error=r,i}return Object(i.__extends)(e,t),e.prototype.toString=function(){return"NavigationError(id: "+this.id+", url: '"+this.url+"', error: "+this.error+")"},e}(Rr),Fr=function(t){function e(e,n,r,i){var o=t.call(this,e,n)||this;return o.urlAfterRedirects=r,o.state=i,o}return Object(i.__extends)(e,t),e.prototype.toString=function(){return"RoutesRecognized(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(Rr),Lr=function(t){function e(e,n,r,i){var o=t.call(this,e,n)||this;return o.urlAfterRedirects=r,o.state=i,o}return Object(i.__extends)(e,t),e.prototype.toString=function(){return"GuardsCheckStart(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(Rr),Br=function(t){function e(e,n,r,i,o){var a=t.call(this,e,n)||this;return a.urlAfterRedirects=r,a.state=i,a.shouldActivate=o,a}return Object(i.__extends)(e,t),e.prototype.toString=function(){return"GuardsCheckEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+", shouldActivate: "+this.shouldActivate+")"},e}(Rr),Vr=function(t){function e(e,n,r,i){var o=t.call(this,e,n)||this;return o.urlAfterRedirects=r,o.state=i,o}return Object(i.__extends)(e,t),e.prototype.toString=function(){return"ResolveStart(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(Rr),Ur=function(t){function e(e,n,r,i){var o=t.call(this,e,n)||this;return o.urlAfterRedirects=r,o.state=i,o}return Object(i.__extends)(e,t),e.prototype.toString=function(){return"ResolveEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(Rr),qr=function(){function t(t){this.route=t}return t.prototype.toString=function(){return"RouteConfigLoadStart(path: "+this.route.path+")"},t}(),zr=function(){function t(t){this.route=t}return t.prototype.toString=function(){return"RouteConfigLoadEnd(path: "+this.route.path+")"},t}(),Hr=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ChildActivationStart(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),Qr=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ChildActivationEnd(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),Kr=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ActivationStart(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),Gr=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ActivationEnd(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),Wr=function(){function t(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}return t.prototype.toString=function(){return"Scroll(anchor: '"+this.anchor+"', position: '"+(this.position?this.position[0]+", "+this.position[1]:null)+"')"},t}(),Yr=function(){return function(){}}(),Zr="primary",Xr=function(){function t(t){this.params=t||{}}return t.prototype.has=function(t){return this.params.hasOwnProperty(t)},t.prototype.get=function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e[0]:e}return null},t.prototype.getAll=function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e:[e]}return[]},Object.defineProperty(t.prototype,"keys",{get:function(){return Object.keys(this.params)},enumerable:!0,configurable:!0}),t}();function Jr(t){return new Xr(t)}var $r="ngNavigationCancelingError";function ti(t){var e=Error("NavigationCancelingError: "+t);return e[$r]=!0,e}function ei(t,e,n){var r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;for(var i={},o=0;o<r.length;o++){var a=r[o],s=t[o];if(a.startsWith(":"))i[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}var ni=function(){return function(t,e){this.routes=t,this.module=e}}();function ri(t,e){void 0===e&&(e="");for(var n=0;n<t.length;n++){var r=t[n];ii(r,oi(e,r))}}function ii(t,e){if(!t)throw new Error("\n      Invalid configuration of route '"+e+"': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    ");if(Array.isArray(t))throw new Error("Invalid configuration of route '"+e+"': Array cannot be specified");if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&t.outlet!==Zr)throw new Error("Invalid configuration of route '"+e+"': a componentless route without children or loadChildren cannot have a named outlet set");if(t.redirectTo&&t.children)throw new Error("Invalid configuration of route '"+e+"': redirectTo and children cannot be used together");if(t.redirectTo&&t.loadChildren)throw new Error("Invalid configuration of route '"+e+"': redirectTo and loadChildren cannot be used together");if(t.children&&t.loadChildren)throw new Error("Invalid configuration of route '"+e+"': children and loadChildren cannot be used together");if(t.redirectTo&&t.component)throw new Error("Invalid configuration of route '"+e+"': redirectTo and component cannot be used together");if(t.path&&t.matcher)throw new Error("Invalid configuration of route '"+e+"': path and matcher cannot be used together");if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error("Invalid configuration of route '"+e+"'. One of the following must be provided: component, redirectTo, children or loadChildren");if(void 0===t.path&&void 0===t.matcher)throw new Error("Invalid configuration of route '"+e+"': routes must have either a path or a matcher specified");if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error("Invalid configuration of route '"+e+"': path cannot start with a slash");if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error("Invalid configuration of route '{path: \""+e+'", redirectTo: "'+t.redirectTo+"\"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.");if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error("Invalid configuration of route '"+e+"': pathMatch can only be set to 'prefix' or 'full'");t.children&&ri(t.children,e)}function oi(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:t+"/"+e.path:"":t}function ai(t){var e=t.children&&t.children.map(ai),n=e?Object(i.__assign)({},t,{children:e}):Object(i.__assign)({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Zr&&(n.component=Yr),n}function si(t,e){var n,r=Object.keys(t),i=Object.keys(e);if(r.length!=i.length)return!1;for(var o=0;o<r.length;o++)if(t[n=r[o]]!==e[n])return!1;return!0}function ui(t){return Array.prototype.concat.apply([],t)}function ci(t){return t.length>0?t[t.length-1]:null}function li(t,e){for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)}function fi(t){return Object(r["\u0275isObservable"])(t)?t:Object(r["\u0275isPromise"])(t)?Object(Pt.a)(Promise.resolve(t)):Rt(t)}function hi(t,e,n){return n?function(t,e){return si(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!mi(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(var r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(function(n){return e[n]===t[n]})}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,r,i){if(n.segments.length>i.length)return!!mi(a=n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!mi(n.segments,i))return!1;for(var o in r.children){if(!n.children[o])return!1;if(!t(n.children[o],r.children[o]))return!1}return!0}var a=i.slice(0,n.segments.length),s=i.slice(n.segments.length);return!!mi(n.segments,a)&&!!n.children[Zr]&&e(n.children[Zr],r,s)}(e,n,n.segments)}(t.root,e.root)}var pi=function(){function t(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}return Object.defineProperty(t.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=Jr(this.queryParams)),this._queryParamMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return _i.serialize(this)},t}(),di=function(){function t(t,e){var n=this;this.segments=t,this.children=e,this.parent=null,li(e,function(t,e){return t.parent=n})}return t.prototype.hasChildren=function(){return this.numberOfChildren>0},Object.defineProperty(t.prototype,"numberOfChildren",{get:function(){return Object.keys(this.children).length},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return wi(this)},t}(),yi=function(){function t(t,e){this.path=t,this.parameters=e}return Object.defineProperty(t.prototype,"parameterMap",{get:function(){return this._parameterMap||(this._parameterMap=Jr(this.parameters)),this._parameterMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return Ti(this)},t}();function mi(t,e){return t.length===e.length&&t.every(function(t,n){return t.path===e[n].path})}function vi(t,e){var n=[];return li(t.children,function(t,r){r===Zr&&(n=n.concat(e(t,r)))}),li(t.children,function(t,r){r!==Zr&&(n=n.concat(e(t,r)))}),n}var gi=function(){return function(){}}(),bi=function(){function t(){}return t.prototype.parse=function(t){var e=new Ri(t);return new pi(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())},t.prototype.serialize=function(t){var e,n;return"/"+function t(e,n){if(!e.hasChildren())return wi(e);if(n){var r=e.children[Zr]?t(e.children[Zr],!1):"",i=[];return li(e.children,function(e,n){n!==Zr&&i.push(n+":"+t(e,!1))}),i.length>0?r+"("+i.join("//")+")":r}var o=vi(e,function(n,r){return r===Zr?[t(e.children[Zr],!1)]:[r+":"+t(n,!1)]});return wi(e)+"/("+o.join("//")+")"}(t.root,!0)+(e=t.queryParams,(n=Object.keys(e).map(function(t){var n=e[t];return Array.isArray(n)?n.map(function(e){return Ci(t)+"="+Ci(e)}).join("&"):Ci(t)+"="+Ci(n)})).length?"?"+n.join("&"):"")+("string"==typeof t.fragment?"#"+encodeURI(t.fragment):"")},t}(),_i=new bi;function wi(t){return t.segments.map(function(t){return Ti(t)}).join("/")}function Ei(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ci(t){return Ei(t).replace(/%3B/gi,";")}function Si(t){return Ei(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Di(t){return decodeURIComponent(t)}function Oi(t){return Di(t.replace(/\+/g,"%20"))}function Ti(t){return""+Si(t.path)+(e=t.parameters,Object.keys(e).map(function(t){return";"+Si(t)+"="+Si(e[t])}).join(""));var e}var Ai=/^[^\/()?;=#]+/;function Ii(t){var e=t.match(Ai);return e?e[0]:""}var xi=/^[^=?&#]+/,ki=/^[^?&#]+/,Ri=function(){function t(t){this.url=t,this.remaining=t}return t.prototype.parseRootSegment=function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new di([],{}):new di([],this.parseChildren())},t.prototype.parseQueryParams=function(){var t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t},t.prototype.parseFragment=function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null},t.prototype.parseChildren=function(){if(""===this.remaining)return{};this.consumeOptional("/");var t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());var e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n[Zr]=new di(t,e)),n},t.prototype.parseSegment=function(){var t=Ii(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '"+this.remaining+"'.");return this.capture(t),new yi(Di(t),this.parseMatrixParams())},t.prototype.parseMatrixParams=function(){for(var t={};this.consumeOptional(";");)this.parseParam(t);return t},t.prototype.parseParam=function(t){var e=Ii(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var r=Ii(this.remaining);r&&this.capture(n=r)}t[Di(e)]=Di(n)}},t.prototype.parseQueryParam=function(t){var e,n=(e=this.remaining.match(xi))?e[0]:"";if(n){this.capture(n);var r="";if(this.consumeOptional("=")){var i=function(t){var e=t.match(ki);return e?e[0]:""}(this.remaining);i&&this.capture(r=i)}var o=Oi(n),a=Oi(r);if(t.hasOwnProperty(o)){var s=t[o];Array.isArray(s)||(t[o]=s=[s]),s.push(a)}else t[o]=a}},t.prototype.parseParens=function(t){var e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=Ii(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error("Cannot parse url '"+this.url+"'");var i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=Zr);var o=this.parseChildren();e[i]=1===Object.keys(o).length?o[Zr]:new di([],o),this.consumeOptional("//")}return e},t.prototype.peekStartsWith=function(t){return this.remaining.startsWith(t)},t.prototype.consumeOptional=function(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)},t.prototype.capture=function(t){if(!this.consumeOptional(t))throw new Error('Expected "'+t+'".')},t}(),Pi=function(){function t(t){this._root=t}return Object.defineProperty(t.prototype,"root",{get:function(){return this._root.value},enumerable:!0,configurable:!0}),t.prototype.parent=function(t){var e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null},t.prototype.children=function(t){var e=Ni(t,this._root);return e?e.children.map(function(t){return t.value}):[]},t.prototype.firstChild=function(t){var e=Ni(t,this._root);return e&&e.children.length>0?e.children[0].value:null},t.prototype.siblings=function(t){var e=ji(t,this._root);return e.length<2?[]:e[e.length-2].children.map(function(t){return t.value}).filter(function(e){return e!==t})},t.prototype.pathFromRoot=function(t){return ji(t,this._root).map(function(t){return t.value})},t}();function Ni(t,e){var n,r;if(t===e.value)return e;try{for(var o=Object(i.__values)(e.children),a=o.next();!a.done;a=o.next()){var s=Ni(t,a.value);if(s)return s}}catch(u){n={error:u}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return null}function ji(t,e){var n,r;if(t===e.value)return[e];try{for(var o=Object(i.__values)(e.children),a=o.next();!a.done;a=o.next()){var s=ji(t,a.value);if(s.length)return s.unshift(e),s}}catch(u){n={error:u}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return[]}var Mi=function(){function t(t,e){this.value=t,this.children=e}return t.prototype.toString=function(){return"TreeNode("+this.value+")"},t}();function Fi(t){var e={};return t&&t.children.forEach(function(t){return e[t.value.outlet]=t}),e}var Li=function(t){function e(e,n){var r=t.call(this,e)||this;return r.snapshot=n,Hi(r,e),r}return Object(i.__extends)(e,t),e.prototype.toString=function(){return this.snapshot.toString()},e}(Pi);function Bi(t,e){var n=function(t,e){var n=new qi([],{},{},"",{},Zr,e,null,t.root,-1,{});return new zi("",new Mi(n,[]))}(t,e),r=new ir([new yi("",{})]),i=new ir({}),o=new ir({}),a=new ir({}),s=new ir(""),u=new Vi(r,i,a,s,o,Zr,e,n.root);return u.snapshot=n.root,new Li(new Mi(u,[]),n)}var Vi=function(){function t(t,e,n,r,i,o,a,s){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=a,this._futureSnapshot=s}return Object.defineProperty(t.prototype,"routeConfig",{get:function(){return this._futureSnapshot.routeConfig},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this._routerState.root},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._routerState.parent(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstChild",{get:function(){return this._routerState.firstChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return this._routerState.children(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pathFromRoot",{get:function(){return this._routerState.pathFromRoot(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paramMap",{get:function(){return this._paramMap||(this._paramMap=this.params.pipe(Object(Zt.a)(function(t){return Jr(t)}))),this._paramMap},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(Zt.a)(function(t){return Jr(t)}))),this._queryParamMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return this.snapshot?this.snapshot.toString():"Future("+this._futureSnapshot+")"},t}();function Ui(t,e){void 0===e&&(e="emptyOnly");var n=t.pathFromRoot,r=0;if("always"!==e)for(r=n.length-1;r>=1;){var o=n[r],a=n[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(a.component)break;r--}}return function(t){return t.reduce(function(t,e){return{params:Object(i.__assign)({},t.params,e.params),data:Object(i.__assign)({},t.data,e.data),resolve:Object(i.__assign)({},t.resolve,e._resolvedData)}},{params:{},data:{},resolve:{}})}(n.slice(r))}var qi=function(){function t(t,e,n,r,i,o,a,s,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=a,this.routeConfig=s,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}return Object.defineProperty(t.prototype,"root",{get:function(){return this._routerState.root},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._routerState.parent(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstChild",{get:function(){return this._routerState.firstChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return this._routerState.children(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pathFromRoot",{get:function(){return this._routerState.pathFromRoot(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paramMap",{get:function(){return this._paramMap||(this._paramMap=Jr(this.params)),this._paramMap},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=Jr(this.queryParams)),this._queryParamMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return"Route(url:'"+this.url.map(function(t){return t.toString()}).join("/")+"', path:'"+(this.routeConfig?this.routeConfig.path:"")+"')"},t}(),zi=function(t){function e(e,n){var r=t.call(this,n)||this;return r.url=e,Hi(r,n),r}return Object(i.__extends)(e,t),e.prototype.toString=function(){return Qi(this._root)},e}(Pi);function Hi(t,e){e.value._routerState=t,e.children.forEach(function(e){return Hi(t,e)})}function Qi(t){var e=t.children.length>0?" { "+t.children.map(Qi).join(", ")+" } ":"";return""+t.value+e}function Ki(t){if(t.snapshot){var e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,si(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),si(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!si(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),si(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Gi(t,e){var n,r;return si(t.params,e.params)&&mi(n=t.url,r=e.url)&&n.every(function(t,e){return si(t.parameters,r[e].parameters)})&&!(!t.parent!=!e.parent)&&(!t.parent||Gi(t.parent,e.parent))}function Wi(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Yi(t,e,n,r,i){var o={};return r&&li(r,function(t,e){o[e]=Array.isArray(t)?t.map(function(t){return""+t}):""+t}),new pi(n.root===t?e:function t(e,n,r){var i={};return li(e.children,function(e,o){i[o]=e===n?r:t(e,n,r)}),new di(e.segments,i)}(n.root,t,e),o,i)}var Zi=function(){function t(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Wi(n[0]))throw new Error("Root segment cannot have matrix parameters");var r=n.find(function(t){return"object"==typeof t&&null!=t&&t.outlets});if(r&&r!==ci(n))throw new Error("{outlets:{}} has to be the last command")}return t.prototype.toRoot=function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]},t}(),Xi=function(){return function(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}();function Ji(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets[Zr]:""+t}function $i(t,e,n){if(t||(t=new di([],{})),0===t.segments.length&&t.hasChildren())return to(t,e,n);var r=function(t,e,n){for(var r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};i<t.segments.length;){if(r>=n.length)return o;var a=t.segments[i],s=Ji(n[r]),u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===s)break;if(s&&u&&"object"==typeof u&&void 0===u.outlets){if(!io(s,u,a))return o;r+=2}else{if(!io(s,{},a))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){var o=new di(t.segments.slice(0,r.pathIndex),{});return o.children[Zr]=new di(t.segments.slice(r.pathIndex),t.children),to(o,0,i)}return r.match&&0===i.length?new di(t.segments,{}):r.match&&!t.hasChildren()?eo(t,e,n):r.match?to(t,0,i):eo(t,e,n)}function to(t,e,n){if(0===n.length)return new di(t.segments,{});var r=function(t){var e,n;return"object"!=typeof t[0]?((e={})[Zr]=t,e):void 0===t[0].outlets?((n={})[Zr]=t,n):t[0].outlets}(n),i={};return li(r,function(n,r){null!==n&&(i[r]=$i(t.children[r],e,n))}),li(t.children,function(t,e){void 0===r[e]&&(i[e]=t)}),new di(t.segments,i)}function eo(t,e,n){for(var r=t.segments.slice(0,e),i=0;i<n.length;){if("object"==typeof n[i]&&void 0!==n[i].outlets){var o=no(n[i].outlets);return new di(r,o)}if(0===i&&Wi(n[0]))r.push(new yi(t.segments[e].path,n[0])),i++;else{var a=Ji(n[i]),s=i<n.length-1?n[i+1]:null;a&&s&&Wi(s)?(r.push(new yi(a,ro(s))),i+=2):(r.push(new yi(a,{})),i++)}}return new di(r,{})}function no(t){var e={};return li(t,function(t,n){null!==t&&(e[n]=eo(new di([],{}),0,t))}),e}function ro(t){var e={};return li(t,function(t,n){return e[n]=""+t}),e}function io(t,e,n){return t==n.path&&si(e,n.parameters)}var oo=function(){function t(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}return t.prototype.activate=function(t){var e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Ki(this.futureState.root),this.activateChildRoutes(e,n,t)},t.prototype.deactivateChildRoutes=function(t,e,n){var r=this,i=Fi(e);t.children.forEach(function(t){var e=t.value.outlet;r.deactivateRoutes(t,i[e],n),delete i[e]}),li(i,function(t,e){r.deactivateRouteAndItsChildren(t,n)})},t.prototype.deactivateRoutes=function(t,e,n){var r=t.value,i=e?e.value:null;if(r===i)if(r.component){var o=n.getContext(r.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)},t.prototype.deactivateRouteAndItsChildren=function(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)},t.prototype.detachAndStoreRouteSubtree=function(t,e){var n=e.getContext(t.value.outlet);if(n&&n.outlet){var r=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:r,route:t,contexts:i})}},t.prototype.deactivateRouteAndOutlet=function(t,e){var n=this,r=e.getContext(t.value.outlet);if(r){var i=Fi(t),o=t.value.component?r.children:e;li(i,function(t,e){return n.deactivateRouteAndItsChildren(t,o)}),r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated())}},t.prototype.activateChildRoutes=function(t,e,n){var r=this,i=Fi(e);t.children.forEach(function(t){r.activateRoutes(t,i[t.value.outlet],n),r.forwardEvent(new Gr(t.value.snapshot))}),t.children.length&&this.forwardEvent(new Qr(t.value.snapshot))},t.prototype.activateRoutes=function(t,e,n){var r=t.value,i=e?e.value:null;if(Ki(r),r===i)if(r.component){var o=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,n);else if(r.component)if(o=n.getOrCreateContext(r.outlet),this.routeReuseStrategy.shouldAttach(r.snapshot)){var a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),ao(a.route)}else{var s=function(t){for(var e=r.snapshot.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(),u=s?s.module.componentFactoryResolver:null;o.attachRef=null,o.route=r,o.resolver=u,o.outlet&&o.outlet.activateWith(r,u),this.activateChildRoutes(t,null,o.children)}else this.activateChildRoutes(t,null,n)},t}();function ao(t){Ki(t.value),t.children.forEach(ao)}function so(t){return"function"==typeof t}function uo(t){return t instanceof pi}var co=function(){return function(t){this.segmentGroup=t||null}}(),lo=function(){return function(t){this.urlTree=t}}();function fo(t){return new Et.a(function(e){return e.error(new co(t))})}function ho(t){return new Et.a(function(e){return e.error(new lo(t))})}function po(t){return new Et.a(function(e){return e.error(new Error("Only absolute redirects can have named outlets. redirectTo: '"+t+"'"))})}var yo=function(){function t(t,e,n,i,o){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(r.NgModuleRef)}return t.prototype.apply=function(){var t=this;return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,Zr).pipe(Object(Zt.a)(function(e){return t.createUrlTree(e,t.urlTree.queryParams,t.urlTree.fragment)})).pipe(gr(function(e){if(e instanceof lo)return t.allowRedirects=!1,t.match(e.urlTree);if(e instanceof co)throw t.noMatchError(e);throw e}))},t.prototype.match=function(t){var e=this;return this.expandSegmentGroup(this.ngModule,this.config,t.root,Zr).pipe(Object(Zt.a)(function(n){return e.createUrlTree(n,t.queryParams,t.fragment)})).pipe(gr(function(t){if(t instanceof co)throw e.noMatchError(t);throw t}))},t.prototype.noMatchError=function(t){return new Error("Cannot match any routes. URL Segment: '"+t.segmentGroup+"'")},t.prototype.createUrlTree=function(t,e,n){var r,i=t.segments.length>0?new di([],((r={})[Zr]=t,r)):t;return new pi(i,e,n)},t.prototype.expandSegmentGroup=function(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(Zt.a)(function(t){return new di([],t)})):this.expandSegment(t,n,e,n.segments,r,!0)},t.prototype.expandChildren=function(t,e,n){var r=this;return function(n,i){if(0===Object.keys(n).length)return Rt({});var o=[],a=[],s={};return li(n,function(n,i){var u,c,l=(u=i,c=n,r.expandSegmentGroup(t,e,c,u)).pipe(Object(Zt.a)(function(t){return s[i]=t}));i===Zr?o.push(l):a.push(l)}),Rt.apply(null,o.concat(a)).pipe(jt(),vr(),Object(Zt.a)(function(){return s}))}(n.children)},t.prototype.expandSegment=function(t,e,n,r,o,a){var s=this;return Rt.apply(void 0,Object(i.__spread)(n)).pipe(Object(Zt.a)(function(i){return s.expandSegmentAgainstRoute(t,e,n,i,r,o,a).pipe(gr(function(t){if(t instanceof co)return Rt(null);throw t}))}),jt(),wr(function(t){return!!t}),gr(function(t,n){if(t instanceof ar||"EmptyError"===t.name){if(s.noLeftoversInUrl(e,r,o))return Rt(new di([],{}));throw new co(e)}throw t}))},t.prototype.noLeftoversInUrl=function(t,e,n){return 0===e.length&&!t.children[n]},t.prototype.expandSegmentAgainstRoute=function(t,e,n,r,i,o,a){return bo(r)!==o?fo(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):fo(e)},t.prototype.expandSegmentAgainstRouteUsingRedirect=function(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)},t.prototype.expandWildCardWithParamsAgainstRouteUsingRedirect=function(t,e,n,r){var i=this,o=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?ho(o):this.lineralizeSegments(n,o).pipe(Object(Er.a)(function(n){var o=new di(n,{});return i.expandSegment(t,o,e,n,r,!1)}))},t.prototype.expandRegularSegmentAgainstRouteUsingRedirect=function(t,e,n,r,i,o){var a=this,s=mo(e,r,i),u=s.consumedSegments,c=s.lastChild,l=s.positionalParamSegments;if(!s.matched)return fo(e);var f=this.applyRedirectCommands(u,r.redirectTo,l);return r.redirectTo.startsWith("/")?ho(f):this.lineralizeSegments(r,f).pipe(Object(Er.a)(function(r){return a.expandSegment(t,e,n,r.concat(i.slice(c)),o,!1)}))},t.prototype.matchSegmentAgainstRoute=function(t,e,n,r){var o=this;if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(Zt.a)(function(t){return n._loadedConfig=t,new di(r,{})})):Rt(new di(r,{}));var a=mo(e,n,r),s=a.consumedSegments,u=a.lastChild;if(!a.matched)return fo(e);var c=r.slice(u);return this.getChildConfig(t,n,r).pipe(Object(Er.a)(function(t){var n=t.module,r=t.routes,a=function(t,e,n,r){return n.length>0&&function(t,e,n){return r.some(function(n){return go(t,e,n)&&bo(n)!==Zr})}(t,n)?{segmentGroup:vo(new di(e,function(t,e){var n,r,o={};o[Zr]=e;try{for(var a=Object(i.__values)(t),s=a.next();!s.done;s=a.next()){var u=s.value;""===u.path&&bo(u)!==Zr&&(o[bo(u)]=new di([],{}))}}catch(c){n={error:c}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return o}(r,new di(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return r.some(function(n){return go(t,e,n)})}(t,n)?{segmentGroup:vo(new di(t.segments,function(t,e,n,r){var o,a,s={};try{for(var u=Object(i.__values)(n),c=u.next();!c.done;c=u.next()){var l=c.value;go(t,e,l)&&!r[bo(l)]&&(s[bo(l)]=new di([],{}))}}catch(f){o={error:f}}finally{try{c&&!c.done&&(a=u.return)&&a.call(u)}finally{if(o)throw o.error}}return Object(i.__assign)({},r,s)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,s,c,r),u=a.segmentGroup,l=a.slicedSegments;return 0===l.length&&u.hasChildren()?o.expandChildren(n,r,u).pipe(Object(Zt.a)(function(t){return new di(s,t)})):0===r.length&&0===l.length?Rt(new di(s,{})):o.expandSegment(n,u,r,l,Zr,!0).pipe(Object(Zt.a)(function(t){return new di(s.concat(t.segments),t.children)}))}))},t.prototype.getChildConfig=function(t,e,n){var r=this;return e.children?Rt(new ni(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Rt(e._loadedConfig):function(t,e,n){var r,i=e.canLoad;return i&&0!==i.length?Object(Pt.a)(i).pipe(Object(Zt.a)(function(r){var i,o=t.get(r);if(function(t){return t&&so(t.canLoad)}(o))i=o.canLoad(e,n);else{if(!so(o))throw new Error("Invalid CanLoad guard");i=o(e,n)}return fi(i)})).pipe(jt(),(r=function(t){return!0===t},function(t){return t.lift(new Cr(r,void 0,t))})):Rt(!0)}(t.injector,e,n).pipe(Object(Er.a)(function(n){return n?r.configLoader.load(t.injector,e).pipe(Object(Zt.a)(function(t){return e._loadedConfig=t,t})):function(t){return new Et.a(function(e){return e.error(ti("Cannot load children because the guard of the route \"path: '"+t.path+"'\" returned false"))})}(e)})):Rt(new ni([],t))},t.prototype.lineralizeSegments=function(t,e){for(var n=[],r=e.root;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Rt(n);if(r.numberOfChildren>1||!r.children[Zr])return po(t.redirectTo);r=r.children[Zr]}},t.prototype.applyRedirectCommands=function(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)},t.prototype.applyRedirectCreatreUrlTree=function(t,e,n,r){var i=this.createSegmentGroup(t,e.root,n,r);return new pi(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)},t.prototype.createQueryParams=function(t,e){var n={};return li(t,function(t,r){if("string"==typeof t&&t.startsWith(":")){var i=t.substring(1);n[r]=e[i]}else n[r]=t}),n},t.prototype.createSegmentGroup=function(t,e,n,r){var i=this,o=this.createSegments(t,e.segments,n,r),a={};return li(e.children,function(e,o){a[o]=i.createSegmentGroup(t,e,n,r)}),new di(o,a)},t.prototype.createSegments=function(t,e,n,r){var i=this;return e.map(function(e){return e.path.startsWith(":")?i.findPosParam(t,e,r):i.findOrReturn(e,n)})},t.prototype.findPosParam=function(t,e,n){var r=n[e.path.substring(1)];if(!r)throw new Error("Cannot redirect to '"+t+"'. Cannot find '"+e.path+"'.");return r},t.prototype.findOrReturn=function(t,e){var n,r,o=0;try{for(var a=Object(i.__values)(e),s=a.next();!s.done;s=a.next()){var u=s.value;if(u.path===t.path)return e.splice(o),u;o++}}catch(c){n={error:c}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return t},t}();function mo(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};var r=(e.matcher||ei)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function vo(t){if(1===t.numberOfChildren&&t.children[Zr]){var e=t.children[Zr];return new di(t.segments.concat(e.segments),e.children)}return t}function go(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function bo(t){return t.outlet||Zr}var _o=function(){return function(t){this.path=t,this.route=this.path[this.path.length-1]}}(),wo=function(){return function(t,e){this.component=t,this.route=e}}();function Eo(t,e,n){var r=function(t){if(!t)return null;for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Co(t,e,n,r,i){void 0===i&&(i={canDeactivateChecks:[],canActivateChecks:[]});var o=Fi(e);return t.children.forEach(function(t){!function(t,e,n,r,i){void 0===i&&(i={canDeactivateChecks:[],canActivateChecks:[]});var o=t.value,a=e?e.value:null,s=n?n.getContext(t.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){var u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!mi(t.url,e.url);case"pathParamsOrQueryParamsChange":return!mi(t.url,e.url)||!si(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Gi(t,e)||!si(t.queryParams,e.queryParams);case"paramsChange":default:return!Gi(t,e)}}(a,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new _o(r)):(o.data=a.data,o._resolvedData=a._resolvedData),Co(t,e,o.component?s?s.children:null:n,r,i),u&&i.canDeactivateChecks.push(new wo(s&&s.outlet&&s.outlet.component||null,a))}else a&&So(e,s,i),i.canActivateChecks.push(new _o(r)),Co(t,null,o.component?s?s.children:null:n,r,i)}(t,o[t.value.outlet],n,r.concat([t.value]),i),delete o[t.value.outlet]}),li(o,function(t,e){return So(t,n.getContext(e),i)}),i}function So(t,e,n){var r=Fi(t),i=t.value;li(r,function(t,r){So(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new wo(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}var Do=Symbol("INITIAL_VALUE");function Oo(){return en(function(t){return(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=null,r=null;return Object(kt.a)(t[t.length-1])&&(r=t.pop()),"function"==typeof t[t.length-1]&&(n=t.pop()),1===t.length&&Object(He.a)(t[0])&&(t=t[0]),Object(Tt.a)(t,r).lift(new Ln(n))}).apply(void 0,Object(i.__spread)(t.map(function(t){return t.pipe($t(1),function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){var n=t[t.length-1];Object(kt.a)(n)?t.pop():n=null;var r=t.length;return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 1===t.length||2===t.length&&Object(kt.a)(t[1])?Object(Pt.a)(t[0]):jt()(Rt.apply(void 0,t))}(1!==r||n?r>0?Object(Tt.a)(t,n):xt(n):At(t[0]),e)}}(Do))}))).pipe(Dr(function(t,e){var n=!1;return e.reduce(function(t,r,i){if(t!==Do)return t;if(r===Do&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||uo(r))return r}return t},t)},Do),Gt(function(t){return t!==Do}),Object(Zt.a)(function(t){return uo(t)?t:!0===t}),$t(1))})}function To(t,e){return null!==t&&e&&e(new Kr(t)),Rt(!0)}function Ao(t,e){return null!==t&&e&&e(new Hr(t)),Rt(!0)}function Io(t,e,n){var r=e.routeConfig?e.routeConfig.canActivate:null;return r&&0!==r.length?Rt(r.map(function(r){return sr(function(){var i,o=Eo(r,e,n);if(function(t){return t&&so(t.canActivate)}(o))i=fi(o.canActivate(e,t));else{if(!so(o))throw new Error("Invalid CanActivate guard");i=fi(o(e,t))}return i.pipe(wr())})})).pipe(Oo()):Rt(!0)}function xo(t,e,n){var r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(function(t){return function(t){var e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)}).filter(function(t){return null!==t}).map(function(e){return sr(function(){return Rt(e.guards.map(function(i){var o,a=Eo(i,e.node,n);if(function(t){return t&&so(t.canActivateChild)}(a))o=fi(a.canActivateChild(r,t));else{if(!so(a))throw new Error("Invalid CanActivateChild guard");o=fi(a(r,t))}return o.pipe(wr())})).pipe(Oo())})});return Rt(i).pipe(Oo())}var ko=function(){return function(){}}(),Ro=function(){function t(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}return t.prototype.recognize=function(){try{var t=jo(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Zr),n=new qi([],Object.freeze({}),Object.freeze(Object(i.__assign)({},this.urlTree.queryParams)),this.urlTree.fragment,{},Zr,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Mi(n,e),o=new zi(this.url,r);return this.inheritParamsAndData(o._root),Rt(o)}catch(a){return new Et.a(function(t){return t.error(a)})}},t.prototype.inheritParamsAndData=function(t){var e=this,n=t.value,r=Ui(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach(function(t){return e.inheritParamsAndData(t)})},t.prototype.processSegmentGroup=function(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)},t.prototype.processChildren=function(t,e){var n,r=this,i=vi(e,function(e,n){return r.processSegmentGroup(t,e,n)});return n={},i.forEach(function(t){var e=n[t.value.outlet];if(e){var r=e.url.map(function(t){return t.toString()}).join("/"),i=t.value.url.map(function(t){return t.toString()}).join("/");throw new Error("Two segments cannot have the same outlet name: '"+r+"' and '"+i+"'.")}n[t.value.outlet]=t.value}),i.sort(function(t,e){return t.value.outlet===Zr?-1:e.value.outlet===Zr?1:t.value.outlet.localeCompare(e.value.outlet)}),i},t.prototype.processSegment=function(t,e,n,r){var o,a;try{for(var s=Object(i.__values)(t),u=s.next();!u.done;u=s.next()){var c=u.value;try{return this.processSegmentAgainstRoute(c,e,n,r)}catch(l){if(!(l instanceof ko))throw l}}}catch(f){o={error:f}}finally{try{u&&!u.done&&(a=s.return)&&a.call(s)}finally{if(o)throw o.error}}if(this.noLeftoversInUrl(e,n,r))return[];throw new ko},t.prototype.noLeftoversInUrl=function(t,e,n){return 0===e.length&&!t.children[n]},t.prototype.processSegmentAgainstRoute=function(t,e,n,r){if(t.redirectTo)throw new ko;if((t.outlet||Zr)!==r)throw new ko;var o,a=[],s=[];if("**"===t.path){var u=n.length>0?ci(n).parameters:{};o=new qi(n,u,Object.freeze(Object(i.__assign)({},this.urlTree.queryParams)),this.urlTree.fragment,Lo(t),r,t.component,t,Po(e),No(e)+n.length,Bo(t))}else{var c=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new ko;return{consumedSegments:[],lastChild:0,parameters:{}}}var r=(e.matcher||ei)(n,t,e);if(!r)throw new ko;var o={};li(r.posParams,function(t,e){o[e]=t.path});var a=r.consumed.length>0?Object(i.__assign)({},o,r.consumed[r.consumed.length-1].parameters):o;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:a}}(e,t,n);a=c.consumedSegments,s=n.slice(c.lastChild),o=new qi(a,c.parameters,Object.freeze(Object(i.__assign)({},this.urlTree.queryParams)),this.urlTree.fragment,Lo(t),r,t.component,t,Po(e),No(e)+a.length,Bo(t))}var l=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),f=jo(e,a,s,l,this.relativeLinkResolution),h=f.segmentGroup,p=f.slicedSegments;if(0===p.length&&h.hasChildren()){var d=this.processChildren(l,h);return[new Mi(o,d)]}if(0===l.length&&0===p.length)return[new Mi(o,[])];var y=this.processSegment(l,h,p,Zr);return[new Mi(o,y)]},t}();function Po(t){for(var e=t;e._sourceSegment;)e=e._sourceSegment;return e}function No(t){for(var e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;e._sourceSegment;)n+=(e=e._sourceSegment)._segmentIndexShift?e._segmentIndexShift:0;return n-1}function jo(t,e,n,r,o){if(n.length>0&&function(t,e,n){return r.some(function(n){return Mo(t,e,n)&&Fo(n)!==Zr})}(t,n)){var a=new di(e,function(t,e,n,r){var o,a,s={};s[Zr]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;try{for(var u=Object(i.__values)(n),c=u.next();!c.done;c=u.next()){var l=c.value;if(""===l.path&&Fo(l)!==Zr){var f=new di([],{});f._sourceSegment=t,f._segmentIndexShift=e.length,s[Fo(l)]=f}}}catch(h){o={error:h}}finally{try{c&&!c.done&&(a=u.return)&&a.call(u)}finally{if(o)throw o.error}}return s}(t,e,r,new di(n,t.children)));return a._sourceSegment=t,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return r.some(function(n){return Mo(t,e,n)})}(t,n)){var s=new di(t.segments,function(t,e,n,r,o,a){var s,u,c={};try{for(var l=Object(i.__values)(r),f=l.next();!f.done;f=l.next()){var h=f.value;if(Mo(t,n,h)&&!o[Fo(h)]){var p=new di([],{});p._sourceSegment=t,p._segmentIndexShift="legacy"===a?t.segments.length:e.length,c[Fo(h)]=p}}}catch(d){s={error:d}}finally{try{f&&!f.done&&(u=l.return)&&u.call(l)}finally{if(s)throw s.error}}return Object(i.__assign)({},o,c)}(t,e,n,r,t.children,o));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}var u=new di(t.segments,t.children);return u._sourceSegment=t,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:n}}function Mo(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function Fo(t){return t.outlet||Zr}function Lo(t){return t.data||{}}function Bo(t){return t.resolve||{}}function Vo(t,e,n,r){var i=Eo(t,e,r);return fi(i.resolve?i.resolve(e,n):i(e,n))}function Uo(t){return function(e){return e.pipe(en(function(e){var n=t(e);return n?Object(Pt.a)(n).pipe(Object(Zt.a)(function(){return e})):Object(Pt.a)([e])}))}}var qo=function(){return function(){}}(),zo=function(){function t(){}return t.prototype.shouldDetach=function(t){return!1},t.prototype.store=function(t,e){},t.prototype.shouldAttach=function(t){return!1},t.prototype.retrieve=function(t){return null},t.prototype.shouldReuseRoute=function(t,e){return t.routeConfig===e.routeConfig},t}(),Ho=new r.InjectionToken("ROUTES"),Qo=function(){function t(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}return t.prototype.load=function(t,e){var n=this;return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(Zt.a)(function(r){n.onLoadEndListener&&n.onLoadEndListener(e);var i=r.create(t);return new ni(ui(i.injector.get(Ho)).map(ai),i)}))},t.prototype.loadModuleFactory=function(t){var e=this;return"string"==typeof t?Object(Pt.a)(this.loader.load(t)):fi(t()).pipe(Object(Er.a)(function(t){return t instanceof r.NgModuleFactory?Rt(t):Object(Pt.a)(e.compiler.compileModuleAsync(t))}))},t}(),Ko=function(){return function(){}}(),Go=function(){function t(){}return t.prototype.shouldProcessUrl=function(t){return!0},t.prototype.extract=function(t){return t},t.prototype.merge=function(t,e){return t},t}();function Wo(t){throw t}function Yo(t,e,n){return e.parse("/")}function Zo(t,e){return Rt(null)}var Xo=function(){function t(t,e,n,i,o,a,s,u){var c=this;this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new wt.a,this.errorHandler=Wo,this.malformedUriErrorHandler=Yo,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Zo,afterPreactivation:Zo},this.urlHandlingStrategy=new Go,this.routeReuseStrategy=new zo,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=o.get(r.NgModuleRef),this.console=o.get(r["\u0275Console"]);var l=o.get(r.NgZone);this.isNgZoneEnabled=l instanceof r.NgZone,this.resetConfig(u),this.currentUrlTree=new pi(new di([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Qo(a,s,function(t){return c.triggerEvent(new qr(t))},function(t){return c.triggerEvent(new zr(t))}),this.routerState=Bi(this.currentUrlTree,this.rootComponentType),this.transitions=new ir({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return t.prototype.setupNavigations=function(t){var e=this,n=this.events;return t.pipe(Gt(function(t){return 0!==t.id}),Object(Zt.a)(function(t){return Object(i.__assign)({},t,{extractedUrl:e.urlHandlingStrategy.extract(t.rawUrl)})}),en(function(t){var r,o,a,s,u=!1,c=!1;return Rt(t).pipe(Vt(function(t){e.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:e.lastSuccessfulNavigation?Object(i.__assign)({},e.lastSuccessfulNavigation,{previousNavigation:null}):null}}),en(function(t){var r,o,a,s,u=!e.navigated||t.extractedUrl.toString()!==e.browserUrlTree.toString();if(("reload"===e.onSameUrlNavigation||u)&&e.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Rt(t).pipe(en(function(t){var r=e.transitions.getValue();return n.next(new Pr(t.id,e.serializeUrl(t.extractedUrl),t.source,t.restoredState)),r!==e.transitions.getValue()?It:[t]}),en(function(t){return Promise.resolve(t)}),(r=e.ngModule.injector,o=e.configLoader,a=e.urlSerializer,s=e.config,function(t){return t.pipe(en(function(t){return function(e,n,r,i,o){return new yo(e,n,r,t.extractedUrl,o).apply()}(r,o,a,0,s).pipe(Object(Zt.a)(function(e){return Object(i.__assign)({},t,{urlAfterRedirects:e})}))}))}),Vt(function(t){e.currentNavigation=Object(i.__assign)({},e.currentNavigation,{finalUrl:t.urlAfterRedirects})}),function(t,n,r,o,a){return function(r){return r.pipe(Object(Er.a)(function(r){return function(t,e,n,r,i,o){return void 0===i&&(i="emptyOnly"),void 0===o&&(o="legacy"),new Ro(t,e,n,r,i,o).recognize()}(t,n,r.urlAfterRedirects,(s=r.urlAfterRedirects,e.serializeUrl(s)),o,a).pipe(Object(Zt.a)(function(t){return Object(i.__assign)({},r,{targetSnapshot:t})}));var s}))}}(e.rootComponentType,e.config,0,e.paramsInheritanceStrategy,e.relativeLinkResolution),Vt(function(t){"eager"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id),e.browserUrlTree=t.urlAfterRedirects)}),Vt(function(t){var r=new Fr(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);n.next(r)}));if(u&&e.rawUrlTree&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){var c=t.extractedUrl,l=t.source,f=t.restoredState,h=t.extras,p=new Pr(t.id,e.serializeUrl(c),l,f);n.next(p);var d=Bi(c,e.rootComponentType).snapshot;return Rt(Object(i.__assign)({},t,{targetSnapshot:d,urlAfterRedirects:c,extras:Object(i.__assign)({},h,{skipLocationChange:!1,replaceUrl:!1})}))}return e.rawUrlTree=t.rawUrl,t.resolve(null),It}),Uo(function(t){var n=t.extras;return e.hooks.beforePreactivation(t.targetSnapshot,{navigationId:t.id,appliedUrlTree:t.extractedUrl,rawUrlTree:t.rawUrl,skipLocationChange:!!n.skipLocationChange,replaceUrl:!!n.replaceUrl})}),Vt(function(t){var n=new Lr(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)}),Object(Zt.a)(function(t){return Object(i.__assign)({},t,{guards:(n=t.targetSnapshot,r=t.currentSnapshot,o=e.rootContexts,a=n._root,Co(a,r?r._root:null,o,[a.value]))});var n,r,o,a}),function(t,e){return function(n){return n.pipe(Object(Er.a)(function(n){var r=n.targetSnapshot,o=n.currentSnapshot,a=n.guards,s=a.canActivateChecks,u=a.canDeactivateChecks;return 0===u.length&&0===s.length?Rt(Object(i.__assign)({},n,{guardsResult:!0})):function(t,e,n,r){return Object(Pt.a)(t).pipe(Object(Er.a)(function(t){return function(t,e,n,r,i){var o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?Rt(o.map(function(o){var a,s=Eo(o,e,i);if(function(t){return t&&so(t.canDeactivate)}(s))a=fi(s.canDeactivate(t,e,n,r));else{if(!so(s))throw new Error("Invalid CanDeactivate guard");a=fi(s(t,e,n,r))}return a.pipe(wr())})).pipe(Oo()):Rt(!0)}(t.component,t.route,n,e,r)}),wr(function(t){return!0!==t},!0))}(u,r,o,t).pipe(Object(Er.a)(function(n){return n&&"boolean"==typeof n?function(t,e,n,r){return Object(Pt.a)(e).pipe(Ar(function(e){return Object(Pt.a)([Ao(e.route.parent,r),To(e.route,r),xo(t,e.path,n),Io(t,e.route,n)]).pipe(jt(),wr(function(t){return!0!==t},!0))}),wr(function(t){return!0!==t},!0))}(r,s,t,e):Rt(n)}),Object(Zt.a)(function(t){return Object(i.__assign)({},n,{guardsResult:t})}))}))}}(e.ngModule.injector,function(t){return e.triggerEvent(t)}),Vt(function(t){if(uo(t.guardsResult)){var n=ti('Redirecting to "'+e.serializeUrl(t.guardsResult)+'"');throw n.url=t.guardsResult,n}}),Vt(function(t){var n=new Br(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);e.triggerEvent(n)}),Gt(function(t){if(!t.guardsResult){e.resetUrlToCurrentUrlTree();var r=new jr(t.id,e.serializeUrl(t.extractedUrl),"");return n.next(r),t.resolve(!1),!1}return!0}),Uo(function(t){if(t.guards.canActivateChecks.length)return Rt(t).pipe(Vt(function(t){var n=new Vr(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)}),(n=e.paramsInheritanceStrategy,r=e.ngModule.injector,function(t){return t.pipe(Object(Er.a)(function(t){var e=t.targetSnapshot,o=t.guards.canActivateChecks;return o.length?Object(Pt.a)(o).pipe(Ar(function(t){return function(t,n,r,o){return function(t,e,n,r){var i=Object.keys(t);if(0===i.length)return Rt({});if(1===i.length){var o=i[0];return Vo(t[o],e,n,r).pipe(Object(Zt.a)(function(t){var e;return(e={})[o]=t,e}))}var a={};return Object(Pt.a)(i).pipe(Object(Er.a)(function(i){return Vo(t[i],e,n,r).pipe(Object(Zt.a)(function(t){return a[i]=t,t}))})).pipe(vr(),Object(Zt.a)(function(){return a}))}(t._resolve,t,e,o).pipe(Object(Zt.a)(function(e){return t._resolvedData=e,t.data=Object(i.__assign)({},t.data,Ui(t,r).resolve),null}))}(t.route,0,n,r)}),function(t,e){return arguments.length>=2?function(e){return Object(Ir.a)(Dr(t,void 0),ur(1),pr(void 0))(e)}:function(e){return Object(Ir.a)(Dr(function(e,n,r){return t(e)}),ur(1))(e)}}(function(t,e){return t}),Object(Zt.a)(function(e){return t})):Rt(t)}))}),Vt(function(t){var n=new Ur(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)}));var n,r}),Uo(function(t){var n=t.extras;return e.hooks.afterPreactivation(t.targetSnapshot,{navigationId:t.id,appliedUrlTree:t.extractedUrl,rawUrlTree:t.rawUrl,skipLocationChange:!!n.skipLocationChange,replaceUrl:!!n.replaceUrl})}),Object(Zt.a)(function(t){var n,r,o,a=(o=function t(e,n,r){if(r&&e.shouldReuseRoute(n.value,r.value.snapshot)){(c=r.value)._futureSnapshot=n.value;var o=function(e,n,r){return n.children.map(function(n){var o,a;try{for(var s=Object(i.__values)(r.children),u=s.next();!u.done;u=s.next()){var c=u.value;if(e.shouldReuseRoute(c.value.snapshot,n.value))return t(e,n,c)}}catch(l){o={error:l}}finally{try{u&&!u.done&&(a=s.return)&&a.call(s)}finally{if(o)throw o.error}}return t(e,n)})}(e,n,r);return new Mi(c,o)}var a=e.retrieve(n.value);if(a){var s=a.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(var r=0;r<e.children.length;++r)t(e.children[r],n.children[r])}(n,s),s}var u,c=new Vi(new ir((u=n.value).url),new ir(u.params),new ir(u.queryParams),new ir(u.fragment),new ir(u.data),u.outlet,u.component,u);return o=n.children.map(function(n){return t(e,n)}),new Mi(c,o)}(e.routeReuseStrategy,(n=t.targetSnapshot)._root,(r=t.currentRouterState)?r._root:void 0),new Li(o,n));return Object(i.__assign)({},t,{targetRouterState:a})}),Vt(function(t){e.currentUrlTree=t.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(e.currentUrlTree,t.rawUrl),e.routerState=t.targetRouterState,"deferred"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),e.browserUrlTree=t.urlAfterRedirects)}),(o=e.rootContexts,a=e.routeReuseStrategy,s=function(t){return e.triggerEvent(t)},Object(Zt.a)(function(t){return new oo(a,t.targetRouterState,t.currentRouterState,s).activate(o),t})),Vt({next:function(){u=!0},complete:function(){u=!0}}),(r=function(){if(!u&&!c){e.resetUrlToCurrentUrlTree();var r=new jr(t.id,e.serializeUrl(t.extractedUrl),"Navigation ID "+t.id+" is not equal to the current navigation id "+e.navigationId);n.next(r),t.resolve(!1)}e.currentNavigation=null},function(t){return t.lift(new xr(r))}),gr(function(r){if(c=!0,(s=r)&&s[$r]){var i=uo(r.url);i||(e.navigated=!0,e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));var o=new jr(t.id,e.serializeUrl(t.extractedUrl),r.message);n.next(o),t.resolve(!1),i&&e.navigateByUrl(r.url)}else{e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);var a=new Mr(t.id,e.serializeUrl(t.extractedUrl),r);n.next(a);try{t.resolve(e.errorHandler(r))}catch(u){t.reject(u)}}var s;return It}))}))},t.prototype.resetRootComponentType=function(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType},t.prototype.getTransition=function(){return this.transitions.value},t.prototype.setTransition=function(t){this.transitions.next(Object(i.__assign)({},this.getTransition(),t))},t.prototype.initialNavigation=function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})},t.prototype.setUpLocationChangeListener=function(){var t=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe(function(e){var n=t.parseUrl(e.url),r="popstate"===e.type?"popstate":"hashchange",i=e.state&&e.state.navigationId?e.state:null;setTimeout(function(){t.scheduleNavigation(n,r,i,{replaceUrl:!0})},0)}))},Object.defineProperty(t.prototype,"url",{get:function(){return this.serializeUrl(this.currentUrlTree)},enumerable:!0,configurable:!0}),t.prototype.getCurrentNavigation=function(){return this.currentNavigation},t.prototype.triggerEvent=function(t){this.events.next(t)},t.prototype.resetConfig=function(t){ri(t),this.config=t.map(ai),this.navigated=!1,this.lastSuccessfulId=-1},t.prototype.ngOnDestroy=function(){this.dispose()},t.prototype.dispose=function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)},t.prototype.createUrlTree=function(t,e){void 0===e&&(e={});var n=e.relativeTo,o=e.queryParams,a=e.fragment,s=e.preserveQueryParams,u=e.queryParamsHandling,c=e.preserveFragment;Object(r.isDevMode)()&&s&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");var l=n||this.routerState.root,f=c?this.currentUrlTree.fragment:a,h=null;if(u)switch(u){case"merge":h=Object(i.__assign)({},this.currentUrlTree.queryParams,o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}else h=s?this.currentUrlTree.queryParams:o||null;return null!==h&&(h=this.removeEmptyProps(h)),function(t,e,n,r,o){if(0===n.length)return Yi(e.root,e.root,e,r,o);var a=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Zi(!0,0,t);var e=0,n=!1,r=t.reduce(function(t,r,o){if("object"==typeof r&&null!=r){if(r.outlets){var a={};return li(r.outlets,function(t,e){a[e]="string"==typeof t?t.split("/"):t}),Object(i.__spread)(t,[{outlets:a}])}if(r.segmentPath)return Object(i.__spread)(t,[r.segmentPath])}return"string"!=typeof r?Object(i.__spread)(t,[r]):0===o?(r.split("/").forEach(function(r,i){0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):Object(i.__spread)(t,[r])},[]);return new Zi(n,e,r)}(n);if(a.toRoot())return Yi(e.root,new di([],{}),e,r,o);var s=function(t,n,r){if(t.isAbsolute)return new Xi(e.root,!0,0);if(-1===r.snapshot._lastPathIndex)return new Xi(r.snapshot._urlSegment,!0,0);var i=Wi(t.commands[0])?0:1;return function(e,n,o){for(var a=r.snapshot._urlSegment,s=r.snapshot._lastPathIndex+i,u=t.numberOfDoubleDots;u>s;){if(u-=s,!(a=a.parent))throw new Error("Invalid number of '../'");s=a.segments.length}return new Xi(a,!1,s-u)}()}(a,0,t),u=s.processChildren?to(s.segmentGroup,s.index,a.commands):$i(s.segmentGroup,s.index,a.commands);return Yi(s.segmentGroup,u,e,r,o)}(l,this.currentUrlTree,t,h,f)},t.prototype.navigateByUrl=function(t,e){void 0===e&&(e={skipLocationChange:!1}),Object(r.isDevMode)()&&this.isNgZoneEnabled&&!r.NgZone.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");var n=uo(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,e)},t.prototype.navigate=function(t,e){return void 0===e&&(e={skipLocationChange:!1}),function(t){for(var e=0;e<t.length;e++){var n=t[e];if(null==n)throw new Error("The requested path contains "+n+" segment at index "+e)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)},t.prototype.serializeUrl=function(t){return this.urlSerializer.serialize(t)},t.prototype.parseUrl=function(t){var e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e},t.prototype.isActive=function(t,e){if(uo(t))return hi(this.currentUrlTree,t,e);var n=this.parseUrl(t);return hi(this.currentUrlTree,n,e)},t.prototype.removeEmptyProps=function(t){return Object.keys(t).reduce(function(e,n){var r=t[n];return null!=r&&(e[n]=r),e},{})},t.prototype.processNavigations=function(){var t=this;this.navigations.subscribe(function(e){t.navigated=!0,t.lastSuccessfulId=e.id,t.events.next(new Nr(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(t.currentUrlTree))),t.lastSuccessfulNavigation=t.currentNavigation,t.currentNavigation=null,e.resolve(!0)},function(e){t.console.warn("Unhandled Navigation Error: ")})},t.prototype.scheduleNavigation=function(t,e,n,r){var i=this.getTransition();if(i&&"imperative"!==e&&"imperative"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(i&&"hashchange"==e&&"popstate"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(i&&"popstate"==e&&"hashchange"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);var o=null,a=null,s=new Promise(function(t,e){o=t,a=e}),u=++this.navigationId;return this.setTransition({id:u,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:o,reject:a,promise:s,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),s.catch(function(t){return Promise.reject(t)})},t.prototype.setBrowserUrl=function(t,e,n,r){var o=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(o)||e?this.location.replaceState(o,"",Object(i.__assign)({},r,{navigationId:n})):this.location.go(o,"",Object(i.__assign)({},r,{navigationId:n}))},t.prototype.resetStateAndUrl=function(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()},t.prototype.resetUrlToCurrentUrlTree=function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})},t}(),Jo=function(){function t(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}return Object.defineProperty(t.prototype,"routerLink",{set:function(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"preserveQueryParams",{set:function(t){Object(r.isDevMode)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=t},enumerable:!0,configurable:!0}),t.prototype.onClick=function(){var t={skipLocationChange:$o(this.skipLocationChange),replaceUrl:$o(this.replaceUrl)};return this.router.navigateByUrl(this.urlTree,t),!0},Object.defineProperty(t.prototype,"urlTree",{get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:$o(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:$o(this.preserveFragment)})},enumerable:!0,configurable:!0}),t}();function $o(t){return""===t||!!t}var ta=function(){return function(){this.outlet=null,this.route=null,this.resolver=null,this.children=new ea,this.attachRef=null}}(),ea=function(){function t(){this.contexts=new Map}return t.prototype.onChildOutletCreated=function(t,e){var n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)},t.prototype.onChildOutletDestroyed=function(t){var e=this.getContext(t);e&&(e.outlet=null)},t.prototype.onOutletDeactivated=function(){var t=this.contexts;return this.contexts=new Map,t},t.prototype.onOutletReAttached=function(t){this.contexts=t},t.prototype.getOrCreateContext=function(t){var e=this.getContext(t);return e||(e=new ta,this.contexts.set(t,e)),e},t.prototype.getContext=function(t){return this.contexts.get(t)||null},t}(),na=function(){function t(t,e,n,i,o){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.EventEmitter,this.deactivateEvents=new r.EventEmitter,this.name=i||Zr,t.onChildOutletCreated(this.name,this)}return t.prototype.ngOnDestroy=function(){this.parentContexts.onChildOutletDestroyed(this.name)},t.prototype.ngOnInit=function(){if(!this.activated){var t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}},Object.defineProperty(t.prototype,"isActivated",{get:function(){return!!this.activated},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"component",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activatedRoute",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activatedRouteData",{get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}},enumerable:!0,configurable:!0}),t.prototype.detach=function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var t=this.activated;return this.activated=null,this._activatedRoute=null,t},t.prototype.attach=function(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)},t.prototype.deactivate=function(){if(this.activated){var t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}},t.prototype.activateWith=function(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;var n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new ra(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)},t}(),ra=function(){function t(t,e,n){this.route=t,this.childContexts=e,this.parent=n}return t.prototype.get=function(t,e){return t===Vi?this.route:t===ea?this.childContexts:this.parent.get(t,e)},t}(),ia=function(){return function(){}}(),oa=function(){function t(){}return t.prototype.preload=function(t,e){return e().pipe(gr(function(){return Rt(null)}))},t}(),aa=function(){function t(){}return t.prototype.preload=function(t,e){return Rt(null)},t}(),sa=function(){function t(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new Qo(e,n,function(e){return t.triggerEvent(new qr(e))},function(e){return t.triggerEvent(new zr(e))})}return t.prototype.setUpPreloading=function(){var t=this;this.subscription=this.router.events.pipe(Gt(function(t){return t instanceof Nr}),Ar(function(){return t.preload()})).subscribe(function(){})},t.prototype.preload=function(){var t=this.injector.get(r.NgModuleRef);return this.processRoutes(t,this.router.config)},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.prototype.processRoutes=function(t,e){var n,r,o=[];try{for(var a=Object(i.__values)(e),s=a.next();!s.done;s=a.next()){var u=s.value;if(u.loadChildren&&!u.canLoad&&u._loadedConfig){var c=u._loadedConfig;o.push(this.processRoutes(c.module,c.routes))}else u.loadChildren&&!u.canLoad?o.push(this.preloadConfig(t,u)):u.children&&o.push(this.processRoutes(t,u.children))}}catch(l){n={error:l}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return Object(Pt.a)(o).pipe(Object(Nt.a)(),Object(Zt.a)(function(t){}))},t.prototype.preloadConfig=function(t,e){var n=this;return this.preloadingStrategy.preload(e,function(){return n.loader.load(t.injector,e).pipe(Object(Er.a)(function(t){return e._loadedConfig=t,n.processRoutes(t.module,t.routes)}))})},t}(),ua=function(){function t(t,e,n){void 0===n&&(n={}),this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}return t.prototype.init=function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()},t.prototype.createScrollEvents=function(){var t=this;return this.router.events.subscribe(function(e){e instanceof Pr?(t.store[t.lastId]=t.viewportScroller.getScrollPosition(),t.lastSource=e.navigationTrigger,t.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Nr&&(t.lastId=e.id,t.scheduleScrollEvent(e,t.router.parseUrl(e.urlAfterRedirects).fragment))})},t.prototype.consumeScrollEvents=function(){var t=this;return this.router.events.subscribe(function(e){e instanceof Wr&&(e.position?"top"===t.options.scrollPositionRestoration?t.viewportScroller.scrollToPosition([0,0]):"enabled"===t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===t.options.anchorScrolling?t.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition([0,0]))})},t.prototype.scheduleScrollEvent=function(t,e){this.router.triggerEvent(new Wr(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))},t.prototype.ngOnDestroy=function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()},t}(),ca=new r.InjectionToken("ROUTER_CONFIGURATION"),la=new r.InjectionToken("ROUTER_FORROOT_GUARD"),fa=[o.Location,{provide:gi,useClass:bi},{provide:Xo,useFactory:ga,deps:[r.ApplicationRef,gi,ea,o.Location,r.Injector,r.NgModuleFactoryLoader,r.Compiler,Ho,ca,[Ko,new r.Optional],[qo,new r.Optional]]},ea,{provide:Vi,useFactory:ba,deps:[Xo]},{provide:r.NgModuleFactoryLoader,useClass:r.SystemJsNgModuleLoader},sa,aa,oa,{provide:ca,useValue:{enableTracing:!1}}];function ha(){return new r.NgProbeToken("Router",Xo)}var pa=function(){function t(t,e){}var e;return e=t,t.forRoot=function(t,n){return{ngModule:e,providers:[fa,va(t),{provide:la,useFactory:ma,deps:[[Xo,new r.Optional,new r.SkipSelf]]},{provide:ca,useValue:n||{}},{provide:o.LocationStrategy,useFactory:ya,deps:[o.PlatformLocation,[new r.Inject(o.APP_BASE_HREF),new r.Optional],ca]},{provide:ua,useFactory:da,deps:[Xo,o.ViewportScroller,ca]},{provide:ia,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:aa},{provide:r.NgProbeToken,multi:!0,useFactory:ha},[_a,{provide:r.APP_INITIALIZER,multi:!0,useFactory:wa,deps:[_a]},{provide:Ca,useFactory:Ea,deps:[_a]},{provide:r.APP_BOOTSTRAP_LISTENER,multi:!0,useExisting:Ca}]]}},t.forChild=function(t){return{ngModule:e,providers:[va(t)]}},t}();function da(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new ua(t,e,n)}function ya(t,e,n){return void 0===n&&(n={}),n.useHash?new o.HashLocationStrategy(t,e):new o.PathLocationStrategy(t,e)}function ma(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function va(t){return[{provide:r.ANALYZE_FOR_ENTRY_COMPONENTS,multi:!0,useValue:t},{provide:Ho,multi:!0,useValue:t}]}function ga(t,e,n,r,i,o,a,u,c,l,f){void 0===c&&(c={});var h=new Xo(null,e,n,r,i,o,a,ui(u));if(l&&(h.urlHandlingStrategy=l),f&&(h.routeReuseStrategy=f),c.errorHandler&&(h.errorHandler=c.errorHandler),c.malformedUriErrorHandler&&(h.malformedUriErrorHandler=c.malformedUriErrorHandler),c.enableTracing){var p=s();h.events.subscribe(function(t){p.logGroup("Router Event: "+t.constructor.name),p.log(t.toString()),p.log(t),p.logGroupEnd()})}return c.onSameUrlNavigation&&(h.onSameUrlNavigation=c.onSameUrlNavigation),c.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=c.paramsInheritanceStrategy),c.urlUpdateStrategy&&(h.urlUpdateStrategy=c.urlUpdateStrategy),c.relativeLinkResolution&&(h.relativeLinkResolution=c.relativeLinkResolution),h}function ba(t){return t.routerState.root}var _a=function(){function t(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new wt.a}return t.prototype.appInitializer=function(){var t=this;return this.injector.get(o.LOCATION_INITIALIZED,Promise.resolve(null)).then(function(){var e=null,n=new Promise(function(t){return e=t}),r=t.injector.get(Xo),i=t.injector.get(ca);if(t.isLegacyDisabled(i)||t.isLegacyEnabled(i))e(!0);else if("disabled"===i.initialNavigation)r.setUpLocationChangeListener(),e(!0);else{if("enabled"!==i.initialNavigation)throw new Error("Invalid initialNavigation options: '"+i.initialNavigation+"'");r.hooks.afterPreactivation=function(){return t.initNavigation?Rt(null):(t.initNavigation=!0,e(!0),t.resultOfPreactivationDone)},r.initialNavigation()}return n})},t.prototype.bootstrapListener=function(t){var e=this.injector.get(ca),n=this.injector.get(sa),i=this.injector.get(ua),o=this.injector.get(Xo),a=this.injector.get(r.ApplicationRef);t===a.components[0]&&(this.isLegacyEnabled(e)?o.initialNavigation():this.isLegacyDisabled(e)&&o.setUpLocationChangeListener(),n.setUpPreloading(),i.init(),o.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())},t.prototype.isLegacyEnabled=function(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation},t.prototype.isLegacyDisabled=function(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation},t}();function wa(t){return t.appInitializer.bind(t)}function Ea(t){return t.bootstrapListener.bind(t)}var Ca=new r.InjectionToken("Router Initializer"),Sa=r["\u0275crt"]({encapsulation:2,styles:[],data:{}});function Da(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),r["\u0275did"](1,212992,null,0,na,[ea,r.ViewContainerRef,r.ComponentFactoryResolver,[8,null],r.ChangeDetectorRef],null,null)],function(t,e){t(e,1,0)},null)}function Oa(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,1,"ng-component",[],null,null,null,Da,Sa)),r["\u0275did"](1,49152,null,0,Yr,[],null,null)],null,null)}var Ta=r["\u0275ccf"]("ng-component",Yr,Oa,{},{},[]),Aa=new r.InjectionToken("cdk-dir-doc",{providedIn:"root",factory:function(){return Object(r.inject)(o.DOCUMENT)}}),Ia=function(){function t(t){if(this.value="ltr",this.change=new r.EventEmitter,t){var e=(t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null);this.value="ltr"===e||"rtl"===e?e:"ltr"}}return t.prototype.ngOnDestroy=function(){this.change.complete()},t.ngInjectableDef=Object(r.defineInjectable)({factory:function(){return new t(Object(r.inject)(Aa,8))},token:t,providedIn:"root"}),t}(),xa=function(){return function(){}}(),ka=r["\u0275crt"]({encapsulation:2,styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(.4,0,.2,1);display:block;position:relative;padding:16px;border-radius:4px}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}@media (-ms-high-contrast:active){.mat-card{outline:solid 1px}}.mat-card-actions,.mat-card-content,.mat-card-subtitle{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px 0}@media (max-width:599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card-content>:first-child,.mat-card>:first-child{margin-top:0}.mat-card-content>:last-child:not(.mat-card-footer),.mat-card>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions .mat-button:first-child,.mat-card-actions .mat-raised-button:first-child{margin-left:0;margin-right:0}.mat-card-subtitle:not(:first-child),.mat-card-title:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}"],data:{}});function Ra(t){return r["\u0275vid"](2,[r["\u0275ncd"](null,0),r["\u0275ncd"](null,1)],null,null)}var Pa=r["\u0275crt"]({encapsulation:2,styles:[],data:{}});function Na(t){return r["\u0275vid"](2,[r["\u0275ncd"](null,0),(t()(),r["\u0275eld"](1,0,null,null,1,"div",[["class","mat-card-header-text"]],null,null,null,null,null)),r["\u0275ncd"](null,1),r["\u0275ncd"](null,2)],null,null)}var ja=n("NQJK"),Ma=n("6QML"),Fa=r["\u0275crt"]({encapsulation:2,styles:[],data:{}});function La(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,0,"img",[],null,null,null,null,null))],null,null)}var Ba=n("BHEk"),Va=n("S1nX");function Ua(t){return function(t){return new Et.a(function(e){return{unsubscribe:t.onSnapshot(e)}})}(t).pipe(Object(Va.a)())}function qa(t){return Ua(t).pipe(Object(Zt.a)(function(t){return{payload:t,type:"query"}}))}function za(t){return qa(t).pipe(Object(Zt.a)(function(t){return t.payload.docChanges().map(function(t){return{type:t.type,payload:t}})}))}new r.InjectionToken("angularfire2.realtimeDatabaseURL");var Ha=function(){function t(t,e){this.zone=t,this.platformId=e}return t.prototype.schedule=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.zone.runGuarded(function(){return an.schedule.apply(an,t)})},t.prototype.keepUnstableUntilFirst=function(t){return Object(o.isPlatformServer)(this.platformId)?new Et.a(function(e){var n=function(){},r=Zone.current.scheduleMacroTask("firebaseZoneBlock",n,{},n,n);t.subscribe(function(t){"scheduled"===r.state&&r.invoke(),e.next(t)},function(t){"scheduled"===r.state&&r.invoke(),e.error(t)},function(){"scheduled"===r.state&&r.invoke(),e.complete()})}):t},t.prototype.runOutsideAngular=function(t){var e=this;return new Et.a(function(n){return e.zone.runOutsideAngular(function(){return t.subscribe(function(t){return e.zone.run(function(){return n.next(t)})},function(t){return e.zone.run(function(){return n.error(t)})},function(){return e.zone.run(function(){return n.complete()})})})})},t}(),Qa=function(t){return function(e){return new Et.a(function(n){return e.subscribe(function(e){return t.run(function(){return n.next(e)})},function(e){return t.run(function(){return n.error(e)})},function(){return t.run(function(){return n.complete()})})})}},Ka=n("Wcq6"),Ga=n.n(Ka),Wa=new r.InjectionToken("angularfire2.app.options"),Ya=new r.InjectionToken("angularfire2.app.nameOrConfig"),Za=function(){return function(){}}();function Xa(t,e){var n="object"==typeof e&&e||{};return n.name=n.name||"string"==typeof e&&e||"[DEFAULT]",Ga.a.apps.filter(function(t){return t&&t.name===n.name})[0]||Ga.a.initializeApp(t,n)}new r.Optional;var Ja=function(){function t(){}var e;return e=t,t.initializeApp=function(t,n){return{ngModule:e,providers:[{provide:Wa,useValue:t},{provide:Ya,useValue:n}]}},t}(),$a=function(){function t(t,e,n){this.ref=t,this.query=e,this.afs=n}return t.prototype.stateChanges=function(t){return t&&0!==t.length?this.afs.scheduler.keepUnstableUntilFirst(this.afs.scheduler.runOutsideAngular(za(this.query))).pipe(Object(Zt.a)(function(e){return e.filter(function(e){return t.indexOf(e.type)>-1})}),Gt(function(t){return t.length>0})):this.afs.scheduler.keepUnstableUntilFirst(this.afs.scheduler.runOutsideAngular(za(this.query)))},t.prototype.auditTrail=function(t){return this.stateChanges(t).pipe(Dr(function(t,e){return t.concat(e)},[]))},t.prototype.snapshotChanges=function(t){var e=function(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}(t),n=function(t,e){return qa(t).pipe(Object(Zt.a)(function(t){return t.payload.docChanges()}),Dr(function(t,n){return function(t,e,n){return e.forEach(function(e){n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":t[e.newIndex]&&t[e.newIndex].doc.id==e.doc.id||t.splice(e.newIndex,0,e);break;case"modified":null!=t[e.oldIndex]&&t[e.oldIndex].doc.id!=e.doc.id||(e.oldIndex!==e.newIndex?(t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e)):t.splice(e.newIndex,1,e));break;case"removed":t[e.oldIndex]&&t[e.oldIndex].doc.id==e.doc.id&&t.splice(e.oldIndex,1)}return t}(t,e))}),t}(t,n,e)},[]),Object(Zt.a)(function(t){return t.map(function(t){return{type:t.type,payload:t}})}))}(this.query,e),r=this.afs.scheduler.runOutsideAngular(n);return this.afs.scheduler.keepUnstableUntilFirst(r)},t.prototype.valueChanges=function(){var t=qa(this.query),e=this.afs.scheduler.runOutsideAngular(t);return this.afs.scheduler.keepUnstableUntilFirst(e).pipe(Object(Zt.a)(function(t){return t.payload.docs.map(function(t){return t.data()})}))},t.prototype.get=function(t){return Object(Pt.a)(this.query.get(t)).pipe(Qa(this.afs.scheduler.zone))},t.prototype.add=function(t){return this.ref.add(t)},t.prototype.doc=function(t){return new ts(this.ref.doc(t),this.afs)},t}(),ts=function(){function t(t,e){this.ref=t,this.afs=e}return t.prototype.set=function(t,e){return this.ref.set(t,e)},t.prototype.update=function(t){return this.ref.update(t)},t.prototype.delete=function(){return this.ref.delete()},t.prototype.collection=function(t,e){var n=ss(this.ref.collection(t),e);return new $a(n.ref,n.query,this.afs)},t.prototype.snapshotChanges=function(){var t=Ua(this.ref).pipe(Object(Zt.a)(function(t){return{payload:t,type:"value"}})),e=this.afs.scheduler.runOutsideAngular(t);return this.afs.scheduler.keepUnstableUntilFirst(e)},t.prototype.valueChanges=function(){return this.snapshotChanges().pipe(Object(Zt.a)(function(t){return t.payload.data()}))},t.prototype.get=function(t){return Object(Pt.a)(this.ref.get(t)).pipe(Qa(this.afs.scheduler.zone))},t}(),es=new r.InjectionToken("angularfire2.enableFirestorePersistence"),ns=new r.InjectionToken("angularfire2.firestore.persistenceSettings"),rs=new r.InjectionToken("angularfire2.firestore.settings"),is=parseInt(Ka.SDK_VERSION.split(".")[0]),os=parseInt(Ka.SDK_VERSION.split(".")[1]),as=is<5||5==is&&os<8?{timestampsInSnapshots:!0}:{};function ss(t,e){return void 0===e&&(e=function(t){return t}),{query:e(t),ref:t}}var us=function(){function t(t,e,n,r,i,a,s){var u=this;this.scheduler=new Ha(a,i),this.firestore=a.runOutsideAngular(function(){var n=Xa(t,e).firestore();return n.settings(r||as),n}),this.persistenceEnabled$=n&&!Object(o.isPlatformServer)(i)?a.runOutsideAngular(function(){try{return Object(Pt.a)(u.firestore.enablePersistence(s||void 0).then(function(){return!0},function(){return!1}))}catch(t){return Rt(!1)}}):Rt(!1)}return t.prototype.collection=function(t,e){var n=ss("string"==typeof t?this.firestore.collection(t):t,e);return new $a(n.ref,n.query,this)},t.prototype.doc=function(t){var e;return e="string"==typeof t?this.firestore.doc(t):t,new ts(e,this)},t.prototype.createId=function(){return this.firestore.collection("_").doc().id},t}(),cs=(n("6Joi"),function(){function t(){}var e;return e=t,t.enablePersistence=function(t){return{ngModule:e,providers:[{provide:es,useValue:!0},{provide:ns,useValue:t}]}},t}()),ls=function(){return function(t){var e=t.collection("captures",function(t){return t.orderBy("uploaded","desc")});this.captures$=e.valueChanges()}}(),fs=r["\u0275crt"]({encapsulation:0,styles:[[".spaced[_ngcontent-%COMP%]{margin-bottom:10px}.center[_ngcontent-%COMP%]{width:75%;margin:10px auto}"]],data:{}});function hs(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,16,"mat-card",[["class","spaced z-depth center mat-card"],["flex","50"]],null,null,null,Ra,ka)),r["\u0275did"](1,49152,null,0,Jn,[],null,null),(t()(),r["\u0275eld"](2,0,null,0,7,"cl-image",[["class","mat-card-image"],["mat-card-image",""]],null,null,null,La,Fa)),r["\u0275did"](3,16384,null,0,Xn,[],null,null),r["\u0275did"](4,4964352,null,1,ja.CloudinaryImage,[r.ElementRef,Ma.Cloudinary],{publicId:[0,"publicId"]},null),r["\u0275qud"](603979776,1,{transformations:1}),(t()(),r["\u0275eld"](6,0,null,null,1,"cl-transformation",[["border","4px_solid_rgb:000"],["crop","thumb"],["effect","improve"],["gravity","faces"],["height","450"],["radius","max"],["width","450"]],null,null,null,null,null)),r["\u0275did"](7,16384,[[1,4]],0,Ba.CloudinaryTransformationDirective,[r.ElementRef],null,null),(t()(),r["\u0275eld"](8,0,null,null,1,"cl-transformation",[["effect","sepia:90"]],null,null,null,null,null)),r["\u0275did"](9,16384,[[1,4]],0,Ba.CloudinaryTransformationDirective,[r.ElementRef],null,null),(t()(),r["\u0275eld"](10,0,null,0,4,"mat-card-content",[["class","mat-card-content"]],null,null,null,null,null)),r["\u0275did"](11,16384,null,0,Kn,[],null,null),(t()(),r["\u0275eld"](12,0,null,null,2,"p",[],null,null,null,null,null)),(t()(),r["\u0275ted"](13,null,["Uploaded at ",""])),r["\u0275ppd"](14,2),(t()(),r["\u0275eld"](15,0,null,1,1,"mat-card-footer",[["class","mat-card-footer"]],null,null,null,null,null)),r["\u0275did"](16,16384,null,0,Zn,[],null,null)],function(t,e){t(e,4,0,r["\u0275inlineInterpolate"](1,"",e.context.$implicit.public_id,""))},function(t,e){var n=r["\u0275unv"](e,13,0,t(e,14,0,r["\u0275nov"](e.parent,0),e.context.$implicit.uploaded,"full"));t(e,13,0,n)})}function ps(t){return r["\u0275vid"](0,[r["\u0275pid"](0,o.DatePipe,[r.LOCALE_ID]),(t()(),r["\u0275eld"](1,0,null,null,3,"h1",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["Selfie feed "])),(t()(),r["\u0275eld"](3,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["\ud83d\udcf1"])),(t()(),r["\u0275and"](16777216,null,null,2,null,hs)),r["\u0275did"](6,278528,null,0,o.NgForOf,[r.ViewContainerRef,r.TemplateRef,r.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),r["\u0275pid"](131072,o.AsyncPipe,[r.ChangeDetectorRef])],function(t,e){var n=e.component;t(e,6,0,r["\u0275unv"](e,6,0,r["\u0275nov"](e,7).transform(n.captures$)))},null)}function ds(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,1,"app-feed",[],null,null,null,ps,fs)),r["\u0275did"](1,49152,null,0,ls,[us],null,null)],null,null)}var ys=r["\u0275ccf"]("app-feed",ls,ds,{},{},[]);function ms(){return"undefined"!=typeof process}function vs(t){switch(t.length){case 0:return new Ie;case 1:return t[0];default:return new xe(t)}}function gs(t,e,n,r,i,o){void 0===i&&(i={}),void 0===o&&(o={});var a=[],s=[],u=-1,c=null;if(r.forEach(function(t){var n=t.offset,r=n==u,l=r&&c||{};Object.keys(t).forEach(function(n){var r=n,s=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,a),s){case ke:s=i[n];break;case De:s=o[n];break;default:s=e.normalizeStyleValue(n,r,s,a)}l[r]=s}),r||s.push(l),c=l,u=n}),a.length)throw new Error("Unable to animate due to the following errors:\n - "+a.join("\n - "));return s}function bs(t,e,n,r){switch(e){case"start":t.onStart(function(){return r(n&&_s(n,"start",t))});break;case"done":t.onDone(function(){return r(n&&_s(n,"done",t))});break;case"destroy":t.onDestroy(function(){return r(n&&_s(n,"destroy",t))})}}function _s(t,e,n){var r=n.totalTime,i=ws(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),o=t._data;return null!=o&&(i._data=o),i}function ws(t,e,n,r,i,o,a){return void 0===i&&(i=""),void 0===o&&(o=0),{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:o,disabled:!!a}}function Es(t,e,n){var r;return t instanceof Map?(r=t.get(e))||t.set(e,r=n):(r=t[e])||(r=t[e]=n),r}function Cs(t){var e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}var Ss=function(t,e){return!1},Ds=function(t,e){return!1},Os=function(t,e,n){return[]},Ts=ms();if(Ts||"undefined"!=typeof Element){if(Ss=function(t,e){return t.contains(e)},Ts||Element.prototype.matches)Ds=function(t,e){return t.matches(e)};else{var As=Element.prototype,Is=As.matchesSelector||As.mozMatchesSelector||As.msMatchesSelector||As.oMatchesSelector||As.webkitMatchesSelector;Is&&(Ds=function(t,e){return Is.apply(t,[e])})}Os=function(t,e,n){var r=[];if(n)r.push.apply(r,Object(i.__spread)(t.querySelectorAll(e)));else{var o=t.querySelector(e);o&&r.push(o)}return r}}var xs=null,ks=!1,Rs=Ds,Ps=Ss,Ns=Os,js=function(){function t(){}return t.prototype.validateStyleProperty=function(t){return function(t){xs||(xs=("undefined"!=typeof document?document.body:null)||{},ks=!!xs.style&&"WebkitAppearance"in xs.style);var e=!0;return xs.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&!(e=t in xs.style)&&ks&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in xs.style),e}(t)},t.prototype.matchesElement=function(t,e){return Rs(t,e)},t.prototype.containsElement=function(t,e){return Ps(t,e)},t.prototype.query=function(t,e,n){return Ns(t,e,n)},t.prototype.computeStyle=function(t,e,n){return n||""},t.prototype.animate=function(t,e,n,r,i,o,a){return void 0===o&&(o=[]),new Ie(n,r)},t}(),Ms=function(){function t(){}return t.NOOP=new js,t}(),Fs=1e3;function Ls(t){if("number"==typeof t)return t;var e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Bs(parseFloat(e[1]),e[2])}function Bs(t,e){switch(e){case"s":return t*Fs;default:return t}}function Vs(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){var r,i=0,o="";if("string"==typeof t){var a=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push('The provided timing value "'+t+'" is invalid.'),{duration:0,delay:0,easing:""};r=Bs(parseFloat(a[1]),a[2]);var s=a[3];null!=s&&(i=Bs(parseFloat(s),a[4]));var u=a[5];u&&(o=u)}else r=t;if(!n){var c=!1,l=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),c=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),c=!0),c&&e.splice(l,0,'The provided timing value "'+t+'" is invalid.')}return{duration:r,delay:i,easing:o}}(t,e,n)}function Us(t,e){return void 0===e&&(e={}),Object.keys(t).forEach(function(n){e[n]=t[n]}),e}function qs(t,e,n){if(void 0===n&&(n={}),e)for(var r in t)n[r]=t[r];else Us(t,n);return n}function zs(t,e,n){return n?e+":"+n+";":""}function Hs(t){for(var e="",n=0;n<t.style.length;n++)e+=zs(0,r=t.style.item(n),t.style.getPropertyValue(r));for(var r in t.style)t.style.hasOwnProperty(r)&&!r.startsWith("_")&&(e+=zs(0,r.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[r]));t.setAttribute("style",e)}function Qs(t,e,n){t.style&&(Object.keys(e).forEach(function(r){var i=$s(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),ms()&&Hs(t))}function Ks(t,e){t.style&&(Object.keys(e).forEach(function(e){var n=$s(e);t.style[n]=""}),ms()&&Hs(t))}function Gs(t){return Array.isArray(t)?1==t.length?t[0]:Oe(t):t}var Ws=new RegExp("{{\\s*(.+?)\\s*}}","g");function Ys(t){var e=[];if("string"==typeof t){for(var n=t.toString(),r=void 0;r=Ws.exec(n);)e.push(r[1]);Ws.lastIndex=0}return e}function Zs(t,e,n){var r=t.toString(),i=r.replace(Ws,function(t,r){var i=e[r];return e.hasOwnProperty(r)||(n.push("Please provide a value for the animation param "+r),i=""),i.toString()});return i==r?t:i}function Xs(t){for(var e=[],n=t.next();!n.done;)e.push(n.value),n=t.next();return e}var Js=/-+([a-z0-9])/g;function $s(t){return t.replace(Js,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t[1].toUpperCase()})}function tu(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error("Unable to resolve animation metadata node #"+e.type)}}var eu="*",nu=new Set(["true","1"]),ru=new Set(["false","0"]);function iu(t,e){var n=nu.has(t)||ru.has(t),r=nu.has(e)||ru.has(e);return function(i,o){var a=t==eu||t==i,s=e==eu||e==o;return!a&&n&&"boolean"==typeof i&&(a=i?nu.has(t):ru.has(t)),!s&&r&&"boolean"==typeof o&&(s=o?nu.has(e):ru.has(e)),a&&s}}var ou=new RegExp("s*:selfs*,?","g");function au(t,e,n){return new su(t).build(e,n)}var su=function(){function t(t){this._driver=t}return t.prototype.build=function(t,e){var n=new uu(e);return this._resetContextStyleTimingState(n),tu(this,Gs(t),n)},t.prototype._resetContextStyleTimingState=function(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0},t.prototype.visitTrigger=function(t,e){var n=this,r=e.queryCount=0,i=e.depCount=0,o=[],a=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(function(t){if(n._resetContextStyleTimingState(e),0==t.type){var s=t,u=s.name;u.toString().split(/\s*,\s*/).forEach(function(t){s.name=t,o.push(n.visitState(s,e))}),s.name=u}else if(1==t.type){var c=n.visitTransition(t,e);r+=c.queryCount,i+=c.depCount,a.push(c)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:o,transitions:a,queryCount:r,depCount:i,options:null}},t.prototype.visitState=function(t,e){var n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){var i=new Set,o=r||{};if(n.styles.forEach(function(t){if(cu(t)){var e=t;Object.keys(e).forEach(function(t){Ys(e[t]).forEach(function(t){o.hasOwnProperty(t)||i.add(t)})})}}),i.size){var a=Xs(i.values());e.errors.push('state("'+t.name+'", ...) must define default values for all the following style substitutions: '+a.join(", "))}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}},t.prototype.visitTransition=function(t,e){e.queryCount=0,e.depCount=0;var n,r,i,o=tu(this,Gs(t.animation),e);return{type:1,matchers:(n=t.expr,r=e.errors,i=[],"string"==typeof n?n.split(/\s*,\s*/).forEach(function(t){return function(t,e,n){if(":"==t[0]){var r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return function(t,e){return parseFloat(e)>parseFloat(t)};case":decrement":return function(t,e){return parseFloat(e)<parseFloat(t)};default:return e.push('The transition alias value "'+t+'" is not supported'),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}var i=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return n.push('The provided transition expression "'+t+'" is not supported'),e;var o=i[1],a=i[2],s=i[3];e.push(iu(o,s)),"<"!=a[0]||o==eu&&s==eu||e.push(iu(s,o))}(t,i,r)}):i.push(n),i),animation:o,queryCount:e.queryCount,depCount:e.depCount,options:lu(t.options)}},t.prototype.visitSequence=function(t,e){var n=this;return{type:2,steps:t.steps.map(function(t){return tu(n,t,e)}),options:lu(t.options)}},t.prototype.visitGroup=function(t,e){var n=this,r=e.currentTime,i=0,o=t.steps.map(function(t){e.currentTime=r;var o=tu(n,t,e);return i=Math.max(i,e.currentTime),o});return e.currentTime=i,{type:3,steps:o,options:lu(t.options)}},t.prototype.visitAnimate=function(t,e){var n,r=function(t,e){var n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return fu(Vs(t,e).duration,0,"");var r=t;if(r.split(/\s+/).some(function(t){return"{"==t.charAt(0)&&"{"==t.charAt(1)})){var i=fu(0,0,"");return i.dynamic=!0,i.strValue=r,i}return fu((n=n||Vs(r,e)).duration,n.delay,n.easing)}(t.timings,e.errors);e.currentAnimateTimings=r;var i=t.styles?t.styles:Te({});if(5==i.type)n=this.visitKeyframes(i,e);else{var o=t.styles,a=!1;if(!o){a=!0;var s={};r.easing&&(s.easing=r.easing),o=Te(s)}e.currentTime+=r.duration+r.delay;var u=this.visitStyle(o,e);u.isEmptyStep=a,n=u}return e.currentAnimateTimings=null,{type:4,timings:r,style:n,options:null}},t.prototype.visitStyle=function(t,e){var n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n},t.prototype._makeStyleAst=function(t,e){var n=[];Array.isArray(t.styles)?t.styles.forEach(function(t){"string"==typeof t?t==De?n.push(t):e.errors.push("The provided style string value "+t+" is not allowed."):n.push(t)}):n.push(t.styles);var r=!1,i=null;return n.forEach(function(t){if(cu(t)){var e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(var o in e)if(e[o].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}},t.prototype._validateStyleAst=function(t,e){var n=this,r=e.currentAnimateTimings,i=e.currentTime,o=e.currentTime;r&&o>0&&(o-=r.duration+r.delay),t.styles.forEach(function(t){"string"!=typeof t&&Object.keys(t).forEach(function(r){if(n._driver.validateStyleProperty(r)){var a,s,u,c=e.collectedStyles[e.currentQuerySelector],l=c[r],f=!0;l&&(o!=i&&o>=l.startTime&&i<=l.endTime&&(e.errors.push('The CSS property "'+r+'" that exists between the times of "'+l.startTime+'ms" and "'+l.endTime+'ms" is also being animated in a parallel animation between the times of "'+o+'ms" and "'+i+'ms"'),f=!1),o=l.startTime),f&&(c[r]={startTime:o,endTime:i}),e.options&&(a=e.errors,s=e.options.params||{},(u=Ys(t[r])).length&&u.forEach(function(t){s.hasOwnProperty(t)||a.push("Unable to resolve the local animation param "+t+" in the given list of values")}))}else e.errors.push('The provided animation property "'+r+'" is not a supported CSS property for animations')})})},t.prototype.visitKeyframes=function(t,e){var n=this,r={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),r;var i=0,o=[],a=!1,s=!1,u=0,c=t.steps.map(function(t){var r=n._makeStyleAst(t,e),c=null!=r.offset?r.offset:function(t){if("string"==typeof t)return null;var e=null;if(Array.isArray(t))t.forEach(function(t){if(cu(t)&&t.hasOwnProperty("offset")){var n=t;e=parseFloat(n.offset),delete n.offset}});else if(cu(t)&&t.hasOwnProperty("offset")){var n=t;e=parseFloat(n.offset),delete n.offset}return e}(r.styles),l=0;return null!=c&&(i++,l=r.offset=c),s=s||l<0||l>1,a=a||l<u,u=l,o.push(l),r});s&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),a&&e.errors.push("Please ensure that all keyframe offsets are in order");var l=t.steps.length,f=0;i>0&&i<l?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==i&&(f=1/(l-1));var h=l-1,p=e.currentTime,d=e.currentAnimateTimings,y=d.duration;return c.forEach(function(t,i){var a=f>0?i==h?1:f*i:o[i],s=a*y;e.currentTime=p+d.delay+s,d.duration=s,n._validateStyleAst(t,e),t.offset=a,r.styles.push(t)}),r},t.prototype.visitReference=function(t,e){return{type:8,animation:tu(this,Gs(t.animation),e),options:lu(t.options)}},t.prototype.visitAnimateChild=function(t,e){return e.depCount++,{type:9,options:lu(t.options)}},t.prototype.visitAnimateRef=function(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:lu(t.options)}},t.prototype.visitQuery=function(t,e){var n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;var o=Object(i.__read)(function(t){var e=!!t.split(/\s*,\s*/).find(function(t){return":self"==t});return e&&(t=t.replace(ou,"")),[t=t.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,function(t){return".ng-trigger-"+t.substr(1)}).replace(/:animating/g,".ng-animating"),e]}(t.selector),2),a=o[0],s=o[1];e.currentQuerySelector=n.length?n+" "+a:a,Es(e.collectedStyles,e.currentQuerySelector,{});var u=tu(this,Gs(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:a,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:u,originalSelector:t.selector,options:lu(t.options)}},t.prototype.visitStagger=function(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");var n="full"===t.timings?{duration:0,delay:0,easing:"full"}:Vs(t.timings,e.errors,!0);return{type:12,animation:tu(this,Gs(t.animation),e),timings:n,options:null}},t}(),uu=function(){return function(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}();function cu(t){return!Array.isArray(t)&&"object"==typeof t}function lu(t){var e;return t?(t=Us(t)).params&&(t.params=(e=t.params)?Us(e):null):t={},t}function fu(t,e,n){return{duration:t,delay:e,easing:n}}function hu(t,e,n,r,i,o,a,s){return void 0===a&&(a=null),void 0===s&&(s=!1),{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:a,subTimeline:s}}var pu=function(){function t(){this._map=new Map}return t.prototype.consume=function(t){var e=this._map.get(t);return e?this._map.delete(t):e=[],e},t.prototype.append=function(t,e){var n=this._map.get(t);n||this._map.set(t,n=[]),n.push.apply(n,Object(i.__spread)(e))},t.prototype.has=function(t){return this._map.has(t)},t.prototype.clear=function(){this._map.clear()},t}(),du=new RegExp(":enter","g"),yu=new RegExp(":leave","g");function mu(t,e,n,r,i,o,a,s,u,c){return void 0===o&&(o={}),void 0===a&&(a={}),void 0===c&&(c=[]),(new vu).buildKeyframes(t,e,n,r,i,o,a,s,u,c)}var vu=function(){function t(){}return t.prototype.buildKeyframes=function(t,e,n,r,i,o,a,s,u,c){void 0===c&&(c=[]),u=u||new pu;var l=new bu(t,e,u,r,i,c,[]);l.options=s,l.currentTimeline.setStyles([o],null,l.errors,s),tu(this,n,l);var f=l.timelines.filter(function(t){return t.containsAnimation()});if(f.length&&Object.keys(a).length){var h=f[f.length-1];h.allowOnlyTimelineStyles()||h.setStyles([a],null,l.errors,s)}return f.length?f.map(function(t){return t.buildKeyframes()}):[hu(e,[],[],[],0,0,"",!1)]},t.prototype.visitTrigger=function(t,e){},t.prototype.visitState=function(t,e){},t.prototype.visitTransition=function(t,e){},t.prototype.visitAnimateChild=function(t,e){var n=e.subInstructions.consume(e.element);if(n){var r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,o=this._visitSubInstructions(n,r,r.options);i!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t},t.prototype.visitAnimateRef=function(t,e){var n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t},t.prototype._visitSubInstructions=function(t,e,n){var r=e.currentTimeline.currentTime,i=null!=n.duration?Ls(n.duration):null,o=null!=n.delay?Ls(n.delay):null;return 0!==i&&t.forEach(function(t){var n=e.appendInstructionToTimeline(t,i,o);r=Math.max(r,n.duration+n.delay)}),r},t.prototype.visitReference=function(t,e){e.updateOptions(t.options,!0),tu(this,t.animation,e),e.previousNode=t},t.prototype.visitSequence=function(t,e){var n=this,r=e.subContextCount,i=e,o=t.options;if(o&&(o.params||o.delay)&&((i=e.createSubContext(o)).transformIntoNewTimeline(),null!=o.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=gu);var a=Ls(o.delay);i.delayNextStep(a)}t.steps.length&&(t.steps.forEach(function(t){return tu(n,t,i)}),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),e.previousNode=t},t.prototype.visitGroup=function(t,e){var n=this,r=[],i=e.currentTimeline.currentTime,o=t.options&&t.options.delay?Ls(t.options.delay):0;t.steps.forEach(function(a){var s=e.createSubContext(t.options);o&&s.delayNextStep(o),tu(n,a,s),i=Math.max(i,s.currentTimeline.currentTime),r.push(s.currentTimeline)}),r.forEach(function(t){return e.currentTimeline.mergeTimelineCollectedStyles(t)}),e.transformIntoNewTimeline(i),e.previousNode=t},t.prototype._visitTiming=function(t,e){if(t.dynamic){var n=t.strValue;return Vs(e.params?Zs(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}},t.prototype.visitAnimate=function(t,e){var n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());var i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t},t.prototype.visitStyle=function(t,e){var n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();var i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t},t.prototype.visitKeyframes=function(t,e){var n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,o=e.createSubContext().currentTimeline;o.easing=n.easing,t.styles.forEach(function(t){o.forwardTime((t.offset||0)*i),o.setStyles(t.styles,t.easing,e.errors,e.options),o.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(o),e.transformIntoNewTimeline(r+i),e.previousNode=t},t.prototype.visitQuery=function(t,e){var n=this,r=e.currentTimeline.currentTime,i=t.options||{},o=i.delay?Ls(i.delay):0;o&&(6===e.previousNode.type||0==r&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=gu);var a=r,s=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!i.optional,e.errors);e.currentQueryTotal=s.length;var u=null;s.forEach(function(r,i){e.currentQueryIndex=i;var s=e.createSubContext(t.options,r);o&&s.delayNextStep(o),r===e.element&&(u=s.currentTimeline),tu(n,t.animation,s),s.currentTimeline.applyStylesToKeyframe(),a=Math.max(a,s.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(a),u&&(e.currentTimeline.mergeTimelineCollectedStyles(u),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t},t.prototype.visitStagger=function(t,e){var n=e.parentContext,r=e.currentTimeline,i=t.timings,o=Math.abs(i.duration),a=o*(e.currentQueryTotal-1),s=o*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":s=a-s;break;case"full":s=n.currentStaggerTime}var u=e.currentTimeline;s&&u.delayNextStep(s);var c=u.currentTime;tu(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-c+(r.startTime-n.currentTimeline.startTime)},t}(),gu={},bu=function(){function t(t,e,n,r,i,o,a,s){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=gu,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=s||new _u(this._driver,e,0),a.push(this.currentTimeline)}return Object.defineProperty(t.prototype,"params",{get:function(){return this.options.params},enumerable:!0,configurable:!0}),t.prototype.updateOptions=function(t,e){var n=this;if(t){var r=t,i=this.options;null!=r.duration&&(i.duration=Ls(r.duration)),null!=r.delay&&(i.delay=Ls(r.delay));var o=r.params;if(o){var a=i.params;a||(a=this.options.params={}),Object.keys(o).forEach(function(t){e&&a.hasOwnProperty(t)||(a[t]=Zs(o[t],a,n.errors))})}}},t.prototype._copyOptions=function(){var t={};if(this.options){var e=this.options.params;if(e){var n=t.params={};Object.keys(e).forEach(function(t){n[t]=e[t]})}}return t},t.prototype.createSubContext=function(e,n,r){void 0===e&&(e=null);var i=n||this.element,o=new t(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o},t.prototype.transformIntoNewTimeline=function(t){return this.previousNode=gu,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline},t.prototype.appendInstructionToTimeline=function(t,e,n){var r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new wu(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r},t.prototype.incrementTime=function(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)},t.prototype.delayNextStep=function(t){t>0&&this.currentTimeline.delayNextStep(t)},t.prototype.invokeQuery=function(t,e,n,r,o,a){var s=[];if(r&&s.push(this.element),t.length>0){t=(t=t.replace(du,"."+this._enterClassName)).replace(yu,"."+this._leaveClassName);var u=this._driver.query(this.element,t,1!=n);0!==n&&(u=n<0?u.slice(u.length+n,u.length):u.slice(0,n)),s.push.apply(s,Object(i.__spread)(u))}return o||0!=s.length||a.push('`query("'+e+'")` returned zero elements. (Use `query("'+e+'", { optional: true })` if you wish to allow this.)'),s},t}(),_u=function(){function t(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}return t.prototype.containsAnimation=function(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}},t.prototype.getCurrentStyleProperties=function(){return Object.keys(this._currentKeyframe)},Object.defineProperty(t.prototype,"currentTime",{get:function(){return this.startTime+this.duration},enumerable:!0,configurable:!0}),t.prototype.delayNextStep=function(t){var e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t},t.prototype.fork=function(e,n){return this.applyStylesToKeyframe(),new t(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)},t.prototype._loadKeyframe=function(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))},t.prototype.forwardFrame=function(){this.duration+=1,this._loadKeyframe()},t.prototype.forwardTime=function(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()},t.prototype._updateStyle=function(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}},t.prototype.allowOnlyTimelineStyles=function(){return this._currentEmptyStepKeyframe!==this._currentKeyframe},t.prototype.applyEmptyStep=function(t){var e=this;t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(function(t){e._backFill[t]=e._globalTimelineStyles[t]||De,e._currentKeyframe[t]=De}),this._currentEmptyStepKeyframe=this._currentKeyframe},t.prototype.setStyles=function(t,e,n,r){var i=this;e&&(this._previousKeyframe.easing=e);var o=r&&r.params||{},a=function(t,e){var n,r={};return t.forEach(function(t){"*"===t?(n=n||Object.keys(e)).forEach(function(t){r[t]=De}):qs(t,!1,r)}),r}(t,this._globalTimelineStyles);Object.keys(a).forEach(function(t){var e=Zs(a[t],o,n);i._pendingStyles[t]=e,i._localTimelineStyles.hasOwnProperty(t)||(i._backFill[t]=i._globalTimelineStyles.hasOwnProperty(t)?i._globalTimelineStyles[t]:De),i._updateStyle(t,e)})},t.prototype.applyStylesToKeyframe=function(){var t=this,e=this._pendingStyles,n=Object.keys(e);0!=n.length&&(this._pendingStyles={},n.forEach(function(n){t._currentKeyframe[n]=e[n]}),Object.keys(this._localTimelineStyles).forEach(function(e){t._currentKeyframe.hasOwnProperty(e)||(t._currentKeyframe[e]=t._localTimelineStyles[e])}))},t.prototype.snapshotCurrentStyles=function(){var t=this;Object.keys(this._localTimelineStyles).forEach(function(e){var n=t._localTimelineStyles[e];t._pendingStyles[e]=n,t._updateStyle(e,n)})},t.prototype.getFinalKeyframe=function(){return this._keyframes.get(this.duration)},Object.defineProperty(t.prototype,"properties",{get:function(){var t=[];for(var e in this._currentKeyframe)t.push(e);return t},enumerable:!0,configurable:!0}),t.prototype.mergeTimelineCollectedStyles=function(t){var e=this;Object.keys(t._styleSummary).forEach(function(n){var r=e._styleSummary[n],i=t._styleSummary[n];(!r||i.time>r.time)&&e._updateStyle(n,i.value)})},t.prototype.buildKeyframes=function(){var t=this;this.applyStylesToKeyframe();var e=new Set,n=new Set,r=1===this._keyframes.size&&0===this.duration,i=[];this._keyframes.forEach(function(o,a){var s=qs(o,!0);Object.keys(s).forEach(function(t){var r=s[t];r==ke?e.add(t):r==De&&n.add(t)}),r||(s.offset=a/t.duration),i.push(s)});var o=e.size?Xs(e.values()):[],a=n.size?Xs(n.values()):[];if(r){var s=i[0],u=Us(s);s.offset=0,u.offset=1,i=[s,u]}return hu(this.element,i,o,a,this.duration,this.startTime,this.easing,!1)},t}(),wu=function(t){function e(e,n,r,i,o,a,s){void 0===s&&(s=!1);var u=t.call(this,e,n,a.delay)||this;return u.element=n,u.keyframes=r,u.preStyleProps=i,u.postStyleProps=o,u._stretchStartingKeyframe=s,u.timings={duration:a.duration,delay:a.delay,easing:a.easing},u}return Object(i.__extends)(e,t),e.prototype.containsAnimation=function(){return this.keyframes.length>1},e.prototype.buildKeyframes=function(){var t=this.keyframes,e=this.timings,n=e.delay,r=e.duration,i=e.easing;if(this._stretchStartingKeyframe&&n){var o=[],a=r+n,s=n/a,u=qs(t[0],!1);u.offset=0,o.push(u);var c=qs(t[0],!1);c.offset=Eu(s),o.push(c);for(var l=t.length-1,f=1;f<=l;f++){var h=qs(t[f],!1);h.offset=Eu((n+h.offset*r)/a),o.push(h)}r=a,n=0,i="",t=o}return hu(this.element,t,this.preStyleProps,this.postStyleProps,r,n,i,!0)},e}(_u);function Eu(t,e){void 0===e&&(e=3);var n=Math.pow(10,e-1);return Math.round(t*n)/n}var Cu=function(){return function(){}}(),Su=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.__extends)(e,t),e.prototype.normalizePropertyName=function(t,e){return $s(t)},e.prototype.normalizeStyleValue=function(t,e,n,r){var i="",o=n.toString().trim();if(Du[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{var a=n.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push("Please provide a CSS unit value for "+t+":"+n)}return o+i},e}(Cu),Du=Ou("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(","));function Ou(t){var e={};return t.forEach(function(t){return e[t]=!0}),e}function Tu(t,e,n,r,i,o,a,s,u,c,l,f,h){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:o,toState:r,toStyles:a,timelines:s,queriedElements:u,preStyleProps:c,postStyleProps:l,totalTime:f,errors:h}}var Au={},Iu=function(){function t(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}return t.prototype.match=function(t,e,n,r){return function(t,e,n,r,i){return t.some(function(t){return t(e,n,r,i)})}(this.ast.matchers,t,e,n,r)},t.prototype.buildStyles=function(t,e,n){var r=this._stateStyles["*"],i=this._stateStyles[t],o=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):o},t.prototype.build=function(t,e,n,r,o,a,s,u,c,l){var f=[],h=this.ast.options&&this.ast.options.params||Au,p=this.buildStyles(n,s&&s.params||Au,f),d=u&&u.params||Au,y=this.buildStyles(r,d,f),m=new Set,v=new Map,g=new Map,b="void"===r,_={params:Object(i.__assign)({},h,d)},w=l?[]:mu(t,e,this.ast.animation,o,a,p,y,_,c,f),E=0;if(w.forEach(function(t){E=Math.max(t.duration+t.delay,E)}),f.length)return Tu(e,this._triggerName,n,r,b,p,y,[],[],v,g,E,f);w.forEach(function(t){var n=t.element,r=Es(v,n,{});t.preStyleProps.forEach(function(t){return r[t]=!0});var i=Es(g,n,{});t.postStyleProps.forEach(function(t){return i[t]=!0}),n!==e&&m.add(n)});var C=Xs(m.values());return Tu(e,this._triggerName,n,r,b,p,y,w,C,v,g,E)},t}(),xu=function(){function t(t,e){this.styles=t,this.defaultParams=e}return t.prototype.buildStyles=function(t,e){var n={},r=Us(this.defaultParams);return Object.keys(t).forEach(function(e){var n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(function(t){if("string"!=typeof t){var i=t;Object.keys(i).forEach(function(t){var o=i[t];o.length>1&&(o=Zs(o,r,e)),n[t]=o})}}),n},t}(),ku=function(){function t(t,e){var n=this;this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(function(t){n.states[t.name]=new xu(t.style,t.options&&t.options.params||{})}),Ru(this.states,"true","1"),Ru(this.states,"false","0"),e.transitions.forEach(function(e){n.transitionFactories.push(new Iu(t,e,n.states))}),this.fallbackTransition=new Iu(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[function(t,e){return!0}],options:null,queryCount:0,depCount:0},this.states)}return Object.defineProperty(t.prototype,"containsQueries",{get:function(){return this.ast.queryCount>0},enumerable:!0,configurable:!0}),t.prototype.matchTransition=function(t,e,n,r){return this.transitionFactories.find(function(i){return i.match(t,e,n,r)})||null},t.prototype.matchStyles=function(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)},t}();function Ru(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}var Pu=new pu,Nu=function(){function t(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}return t.prototype.register=function(t,e){var n=[],r=au(this._driver,e,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: "+n.join("\n"));this._animations[t]=r},t.prototype._buildPlayer=function(t,e,n){var r=t.element,i=gs(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)},t.prototype.create=function(t,e,n){var r=this;void 0===n&&(n={});var i,o=[],a=this._animations[t],s=new Map;if(a?(i=mu(this._driver,e,a,"ng-enter","ng-leave",{},{},n,Pu,o)).forEach(function(t){var e=Es(s,t.element,{});t.postStyleProps.forEach(function(t){return e[t]=null})}):(o.push("The requested animation doesn't exist or has already been destroyed"),i=[]),o.length)throw new Error("Unable to create the animation due to the following errors: "+o.join("\n"));s.forEach(function(t,e){Object.keys(t).forEach(function(n){t[n]=r._driver.computeStyle(e,n,De)})});var u=vs(i.map(function(t){var e=s.get(t.element);return r._buildPlayer(t,{},e)}));return this._playersById[t]=u,u.onDestroy(function(){return r.destroy(t)}),this.players.push(u),u},t.prototype.destroy=function(t){var e=this._getPlayer(t);e.destroy(),delete this._playersById[t];var n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)},t.prototype._getPlayer=function(t){var e=this._playersById[t];if(!e)throw new Error("Unable to find the timeline player referenced by "+t);return e},t.prototype.listen=function(t,e,n,r){var i=ws(e,"","","");return bs(this._getPlayer(t),n,i,r),function(){}},t.prototype.command=function(t,e,n,r){if("register"!=n)if("create"!=n){var i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}else this.create(t,e,r[0]||{});else this.register(t,r[0])},t}(),ju=[],Mu={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Fu={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Lu="__ng_removed",Bu=function(){function t(t,e){void 0===e&&(e=""),this.namespaceId=e;var n=t&&t.hasOwnProperty("value");if(this.value=function(t){return null!=t?t:null}(n?t.value:t),n){var r=Us(t);delete r.value,this.options=r}else this.options={};this.options.params||(this.options.params={})}return Object.defineProperty(t.prototype,"params",{get:function(){return this.options.params},enumerable:!0,configurable:!0}),t.prototype.absorbOptions=function(t){var e=t.params;if(e){var n=this.options.params;Object.keys(e).forEach(function(t){null==n[t]&&(n[t]=e[t])})}},t}(),Vu=new Bu("void"),Uu=function(){function t(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Yu(e,this._hostClassName)}return t.prototype.listen=function(t,e,n,r){var i,o=this;if(!this._triggers.hasOwnProperty(e))throw new Error('Unable to listen on the animation trigger event "'+n+'" because the animation trigger "'+e+"\" doesn't exist!");if(null==n||0==n.length)throw new Error('Unable to listen on the animation trigger "'+e+'" because the provided event is undefined!');if("start"!=(i=n)&&"done"!=i)throw new Error('The provided animation trigger event "'+n+'" for the animation trigger "'+e+'" is not supported!');var a=Es(this._elementListeners,t,[]),s={name:e,phase:n,callback:r};a.push(s);var u=Es(this._engine.statesByElement,t,{});return u.hasOwnProperty(e)||(Yu(t,"ng-trigger"),Yu(t,"ng-trigger-"+e),u[e]=Vu),function(){o._engine.afterFlush(function(){var t=a.indexOf(s);t>=0&&a.splice(t,1),o._triggers[e]||delete u[e]})}},t.prototype.register=function(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)},t.prototype._getTrigger=function(t){var e=this._triggers[t];if(!e)throw new Error('The provided animation trigger "'+t+'" has not been registered!');return e},t.prototype.trigger=function(t,e,n,r){var i=this;void 0===r&&(r=!0);var o=this._getTrigger(e),a=new zu(this.id,e,t),s=this._engine.statesByElement.get(t);s||(Yu(t,"ng-trigger"),Yu(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,s={}));var u=s[e],c=new Bu(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&u&&c.absorbOptions(u.options),s[e]=c,u||(u=Vu),"void"===c.value||u.value!==c.value){var l=Es(this._engine.playersByElement,t,[]);l.forEach(function(t){t.namespaceId==i.id&&t.triggerName==e&&t.queued&&t.destroy()});var f=o.matchTransition(u.value,c.value,t,c.params),h=!1;if(!f){if(!r)return;f=o.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:f,fromState:u,toState:c,player:a,isFallbackTransition:h}),h||(Yu(t,"ng-animate-queued"),a.onStart(function(){Zu(t,"ng-animate-queued")})),a.onDone(function(){var e=i.players.indexOf(a);e>=0&&i.players.splice(e,1);var n=i._engine.playersByElement.get(t);if(n){var r=n.indexOf(a);r>=0&&n.splice(r,1)}}),this.players.push(a),l.push(a),a}if(!function(t,e){var n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(var i=0;i<n.length;i++){var o=n[i];if(!e.hasOwnProperty(o)||t[o]!==e[o])return!1}return!0}(u.params,c.params)){var p=[],d=o.matchStyles(u.value,u.params,p),y=o.matchStyles(c.value,c.params,p);p.length?this._engine.reportError(p):this._engine.afterFlush(function(){Ks(t,d),Qs(t,y)})}},t.prototype.deregister=function(t){var e=this;delete this._triggers[t],this._engine.statesByElement.forEach(function(e,n){delete e[t]}),this._elementListeners.forEach(function(n,r){e._elementListeners.set(r,n.filter(function(e){return e.name!=t}))})},t.prototype.clearElementCache=function(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);var e=this._engine.playersByElement.get(t);e&&(e.forEach(function(t){return t.destroy()}),this._engine.playersByElement.delete(t))},t.prototype._signalRemovalForInnerTriggers=function(t,e,n){var r=this;void 0===n&&(n=!1),this._engine.driver.query(t,".ng-trigger",!0).forEach(function(t){if(!t[Lu]){var n=r._engine.fetchNamespacesByElement(t);n.size?n.forEach(function(n){return n.triggerLeaveAnimation(t,e,!1,!0)}):r.clearElementCache(t)}})},t.prototype.triggerLeaveAnimation=function(t,e,n,r){var i=this,o=this._engine.statesByElement.get(t);if(o){var a=[];if(Object.keys(o).forEach(function(e){if(i._triggers[e]){var n=i.trigger(t,e,"void",r);n&&a.push(n)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&vs(a).onDone(function(){return i._engine.processLeaveNode(t)}),!0}return!1},t.prototype.prepareLeaveAnimationListeners=function(t){var e=this,n=this._elementListeners.get(t);if(n){var r=new Set;n.forEach(function(n){var i=n.name;if(!r.has(i)){r.add(i);var o=e._triggers[i].fallbackTransition,a=e._engine.statesByElement.get(t)[i]||Vu,s=new Bu("void"),u=new zu(e.id,i,t);e._engine.totalQueuedPlayers++,e._queue.push({element:t,triggerName:i,transition:o,fromState:a,toState:s,player:u,isFallbackTransition:!0})}})}},t.prototype.removeNode=function(t,e){var n=this,r=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e,!0),!this.triggerLeaveAnimation(t,e,!0)){var i=!1;if(r.totalAnimations){var o=r.players.length?r.playersByQueriedElement.get(t):[];if(o&&o.length)i=!0;else for(var a=t;a=a.parentNode;)if(r.statesByElement.get(a)){i=!0;break}}this.prepareLeaveAnimationListeners(t),i?r.markElementAsRemoved(this.id,t,!1,e):(r.afterFlush(function(){return n.clearElementCache(t)}),r.destroyInnerAnimations(t),r._onRemovalComplete(t,e))}},t.prototype.insertNode=function(t,e){Yu(t,this._hostClassName)},t.prototype.drainQueuedTransitions=function(t){var e=this,n=[];return this._queue.forEach(function(r){var i=r.player;if(!i.destroyed){var o=r.element,a=e._elementListeners.get(o);a&&a.forEach(function(e){if(e.name==r.triggerName){var n=ws(o,r.triggerName,r.fromState.value,r.toState.value);n._data=t,bs(r.player,e.phase,n,e.callback)}}),i.markedForDestroy?e._engine.afterFlush(function(){i.destroy()}):n.push(r)}}),this._queue=[],n.sort(function(t,n){var r=t.transition.ast.depCount,i=n.transition.ast.depCount;return 0==r||0==i?r-i:e._engine.driver.containsElement(t.element,n.element)?1:-1})},t.prototype.destroy=function(t){this.players.forEach(function(t){return t.destroy()}),this._signalRemovalForInnerTriggers(this.hostElement,t)},t.prototype.elementContainsData=function(t){var e=!1;return this._elementListeners.has(t)&&(e=!0),!!this._queue.find(function(e){return e.element===t})||e},t}(),qu=function(){function t(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=function(t,e){}}return t.prototype._onRemovalComplete=function(t,e){this.onRemovalComplete(t,e)},Object.defineProperty(t.prototype,"queuedPlayers",{get:function(){var t=[];return this._namespaceList.forEach(function(e){e.players.forEach(function(e){e.queued&&t.push(e)})}),t},enumerable:!0,configurable:!0}),t.prototype.createNamespace=function(t,e){var n=new Uu(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n},t.prototype._balanceNamespaceList=function(t,e){var n=this._namespaceList.length-1;if(n>=0){for(var r=!1,i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t},t.prototype.register=function(t,e){var n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n},t.prototype.registerTrigger=function(t,e,n){var r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++},t.prototype.destroy=function(t,e){var n=this;if(t){var r=this._fetchNamespace(t);this.afterFlush(function(){n.namespacesByHostElement.delete(r.hostElement),delete n._namespaceLookup[t];var e=n._namespaceList.indexOf(r);e>=0&&n._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(function(){return r.destroy(e)})}},t.prototype._fetchNamespace=function(t){return this._namespaceLookup[t]},t.prototype.fetchNamespacesByElement=function(t){var e=new Set,n=this.statesByElement.get(t);if(n)for(var r=Object.keys(n),i=0;i<r.length;i++){var o=n[r[i]].namespaceId;if(o){var a=this._fetchNamespace(o);a&&e.add(a)}}return e},t.prototype.trigger=function(t,e,n,r){if(Hu(e)){var i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1},t.prototype.insertNode=function(t,e,n,r){if(Hu(e)){var i=e[Lu];if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;var o=this.collectedLeaveElements.indexOf(e);o>=0&&this.collectedLeaveElements.splice(o,1)}if(t){var a=this._fetchNamespace(t);a&&a.insertNode(e,n)}r&&this.collectEnterElement(e)}},t.prototype.collectEnterElement=function(t){this.collectedEnterElements.push(t)},t.prototype.markElementAsDisabled=function(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Yu(t,"ng-animate-disabled")):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Zu(t,"ng-animate-disabled"))},t.prototype.removeNode=function(t,e,n){if(Hu(e)){var r=t?this._fetchNamespace(t):null;r?r.removeNode(e,n):this.markElementAsRemoved(t,e,!1,n)}else this._onRemovalComplete(e,n)},t.prototype.markElementAsRemoved=function(t,e,n,r){this.collectedLeaveElements.push(e),e[Lu]={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}},t.prototype.listen=function(t,e,n,r,i){return Hu(e)?this._fetchNamespace(t).listen(e,n,r,i):function(){}},t.prototype._buildInstruction=function(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)},t.prototype.destroyInnerAnimations=function(t){var e=this,n=this.driver.query(t,".ng-trigger",!0);n.forEach(function(t){return e.destroyActiveAnimationsForElement(t)}),0!=this.playersByQueriedElement.size&&(n=this.driver.query(t,".ng-animating",!0)).forEach(function(t){return e.finishActiveQueriedAnimationOnElement(t)})},t.prototype.destroyActiveAnimationsForElement=function(t){var e=this.playersByElement.get(t);e&&e.forEach(function(t){t.queued?t.markedForDestroy=!0:t.destroy()})},t.prototype.finishActiveQueriedAnimationOnElement=function(t){var e=this.playersByQueriedElement.get(t);e&&e.forEach(function(t){return t.finish()})},t.prototype.whenRenderingDone=function(){var t=this;return new Promise(function(e){if(t.players.length)return vs(t.players).onDone(function(){return e()});e()})},t.prototype.processLeaveNode=function(t){var e=this,n=t[Lu];if(n&&n.setForRemoval){if(t[Lu]=Mu,n.namespaceId){this.destroyInnerAnimations(t);var r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,n.setForRemoval)}this.driver.matchesElement(t,".ng-animate-disabled")&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(function(t){e.markElementAsDisabled(t,!1)})},t.prototype.flush=function(t){var e=this;void 0===t&&(t=-1);var n=[];if(this.newHostElements.size&&(this.newHostElements.forEach(function(t,n){return e._balanceNamespaceList(t,n)}),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(var r=0;r<this.collectedEnterElements.length;r++)Yu(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){var i=[];try{n=this._flushAnimations(i,t)}finally{for(r=0;r<i.length;r++)i[r]()}}else for(r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(function(t){return t()}),this._flushFns=[],this._whenQuietFns.length){var o=this._whenQuietFns;this._whenQuietFns=[],n.length?vs(n).onDone(function(){o.forEach(function(t){return t()})}):o.forEach(function(t){return t()})}},t.prototype.reportError=function(t){throw new Error("Unable to process animations due to the following failed trigger transitions\n "+t.join("\n"))},t.prototype._flushAnimations=function(t,e){var n=this,r=new pu,o=[],a=new Map,s=[],u=new Map,c=new Map,l=new Map,f=new Set;this.disabledNodes.forEach(function(t){f.add(t);for(var e=n.driver.query(t,".ng-animate-queued",!0),r=0;r<e.length;r++)f.add(e[r])});var h=this.bodyNode,p=Array.from(this.statesByElement.keys()),d=Gu(p,this.collectedEnterElements),y=new Map,m=0;d.forEach(function(t,e){var n="ng-enter"+m++;y.set(e,n),t.forEach(function(t){return Yu(t,n)})});for(var v=[],g=new Set,b=new Set,_=0;_<this.collectedLeaveElements.length;_++)(F=(M=this.collectedLeaveElements[_])[Lu])&&F.setForRemoval&&(v.push(M),g.add(M),F.hasAnimation?this.driver.query(M,".ng-star-inserted",!0).forEach(function(t){return g.add(t)}):b.add(M));var w=new Map,E=Gu(p,Array.from(g));E.forEach(function(t,e){var n="ng-leave"+m++;w.set(e,n),t.forEach(function(t){return Yu(t,n)})}),t.push(function(){d.forEach(function(t,e){var n=y.get(e);t.forEach(function(t){return Zu(t,n)})}),E.forEach(function(t,e){var n=w.get(e);t.forEach(function(t){return Zu(t,n)})}),v.forEach(function(t){n.processLeaveNode(t)})});for(var C=[],S=[],D=this._namespaceList.length-1;D>=0;D--)this._namespaceList[D].drainQueuedTransitions(e).forEach(function(t){var e=t.player,i=t.element;if(C.push(e),n.collectedEnterElements.length){var a=i[Lu];if(a&&a.setForMove)return void e.destroy()}var f=!h||!n.driver.containsElement(h,i),p=w.get(i),d=y.get(i),m=n._buildInstruction(t,r,d,p,f);if(m.errors&&m.errors.length)S.push(m);else{if(f)return e.onStart(function(){return Ks(i,m.fromStyles)}),e.onDestroy(function(){return Qs(i,m.toStyles)}),void o.push(e);if(t.isFallbackTransition)return e.onStart(function(){return Ks(i,m.fromStyles)}),e.onDestroy(function(){return Qs(i,m.toStyles)}),void o.push(e);m.timelines.forEach(function(t){return t.stretchStartingKeyframe=!0}),r.append(i,m.timelines),s.push({instruction:m,player:e,element:i}),m.queriedElements.forEach(function(t){return Es(u,t,[]).push(e)}),m.preStyleProps.forEach(function(t,e){var n=Object.keys(t);if(n.length){var r=c.get(e);r||c.set(e,r=new Set),n.forEach(function(t){return r.add(t)})}}),m.postStyleProps.forEach(function(t,e){var n=Object.keys(t),r=l.get(e);r||l.set(e,r=new Set),n.forEach(function(t){return r.add(t)})})}});if(S.length){var O=[];S.forEach(function(t){O.push("@"+t.triggerName+" has failed due to:\n"),t.errors.forEach(function(t){return O.push("- "+t+"\n")})}),C.forEach(function(t){return t.destroy()}),this.reportError(O)}var T=new Map,A=new Map;s.forEach(function(t){var e=t.element;r.has(e)&&(A.set(e,e),n._beforeAnimationBuild(t.player.namespaceId,t.instruction,T))}),o.forEach(function(t){var e=t.element;n._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(function(t){Es(T,e,[]).push(t),t.destroy()})});var I=v.filter(function(t){return Ju(t,c,l)}),x=new Map;Ku(x,this.driver,b,l,De).forEach(function(t){Ju(t,c,l)&&I.push(t)});var k=new Map;d.forEach(function(t,e){Ku(k,n.driver,new Set(t),c,ke)}),I.forEach(function(t){var e=x.get(t),n=k.get(t);x.set(t,Object(i.__assign)({},e,n))});var R=[],P=[],N={};s.forEach(function(t){var e=t.element,i=t.player,s=t.instruction;if(r.has(e)){if(f.has(e))return i.onDestroy(function(){return Qs(e,s.toStyles)}),i.disabled=!0,i.overrideTotalTime(s.totalTime),void o.push(i);var u=N;if(A.size>1){for(var c=e,l=[];c=c.parentNode;){var h=A.get(c);if(h){u=h;break}l.push(c)}l.forEach(function(t){return A.set(t,u)})}var p=n._buildAnimation(i.namespaceId,s,T,a,k,x);if(i.setRealPlayer(p),u===N)R.push(i);else{var d=n.playersByElement.get(u);d&&d.length&&(i.parentPlayer=vs(d)),o.push(i)}}else Ks(e,s.fromStyles),i.onDestroy(function(){return Qs(e,s.toStyles)}),P.push(i),f.has(e)&&o.push(i)}),P.forEach(function(t){var e=a.get(t.element);if(e&&e.length){var n=vs(e);t.setRealPlayer(n)}}),o.forEach(function(t){t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(var j=0;j<v.length;j++){var M,F=(M=v[j])[Lu];if(Zu(M,"ng-leave"),!F||!F.hasAnimation){var L=[];if(u.size){var B=u.get(M);B&&B.length&&L.push.apply(L,Object(i.__spread)(B));for(var V=this.driver.query(M,".ng-animating",!0),U=0;U<V.length;U++){var q=u.get(V[U]);q&&q.length&&L.push.apply(L,Object(i.__spread)(q))}}var z=L.filter(function(t){return!t.destroyed});z.length?Xu(this,M,z):this.processLeaveNode(M)}}return v.length=0,R.forEach(function(t){n.players.push(t),t.onDone(function(){t.destroy();var e=n.players.indexOf(t);n.players.splice(e,1)}),t.play()}),R},t.prototype.elementContainsData=function(t,e){var n=!1,r=e[Lu];return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n},t.prototype.afterFlush=function(t){this._flushFns.push(t)},t.prototype.afterFlushAnimationsDone=function(t){this._whenQuietFns.push(t)},t.prototype._getPreviousPlayers=function(t,e,n,r,i){var o=[];if(e){var a=this.playersByQueriedElement.get(t);a&&(o=a)}else{var s=this.playersByElement.get(t);if(s){var u=!i||"void"==i;s.forEach(function(t){t.queued||(u||t.triggerName==r)&&o.push(t)})}}return(n||r)&&(o=o.filter(function(t){return!(n&&n!=t.namespaceId||r&&r!=t.triggerName)})),o},t.prototype._beforeAnimationBuild=function(t,e,n){var r,o,a=e.element,s=e.isRemovalTransition?void 0:t,u=e.isRemovalTransition?void 0:e.triggerName,c=function(t){var r=t.element,i=r!==a,o=Es(n,r,[]);l._getPreviousPlayers(r,i,s,u,e.toState).forEach(function(t){var e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),o.push(t)})},l=this;try{for(var f=Object(i.__values)(e.timelines),h=f.next();!h.done;h=f.next())c(h.value)}catch(p){r={error:p}}finally{try{h&&!h.done&&(o=f.return)&&o.call(f)}finally{if(r)throw r.error}}Ks(a,e.fromStyles)},t.prototype._buildAnimation=function(t,e,n,r,i,o){var a=this,s=e.triggerName,u=e.element,c=[],l=new Set,f=new Set,h=e.timelines.map(function(e){var h=e.element;l.add(h);var p=h[Lu];if(p&&p.removedBeforeQueried)return new Ie(e.duration,e.delay);var d,y,m=h!==u,v=(d=(n.get(h)||ju).map(function(t){return t.getRealPlayer()}),y=[],function t(e,n){for(var r=0;r<e.length;r++){var i=e[r];i instanceof xe?t(i.players,n):n.push(i)}}(d,y),y).filter(function(t){return!!t.element&&t.element===h}),g=i.get(h),b=o.get(h),_=gs(0,a._normalizer,0,e.keyframes,g,b),w=a._buildPlayer(e,_,v);if(e.subTimeline&&r&&f.add(h),m){var E=new zu(t,s,h);E.setRealPlayer(w),c.push(E)}return w});c.forEach(function(t){Es(a.playersByQueriedElement,t.element,[]).push(t),t.onDone(function(){return function(t,e,n){var r;if(t instanceof Map){if(r=t.get(e)){if(r.length){var i=r.indexOf(n);r.splice(i,1)}0==r.length&&t.delete(e)}}else(r=t[e])&&(r.length&&(i=r.indexOf(n),r.splice(i,1)),0==r.length&&delete t[e]);return r}(a.playersByQueriedElement,t.element,t)})}),l.forEach(function(t){return Yu(t,"ng-animating")});var p=vs(h);return p.onDestroy(function(){l.forEach(function(t){return Zu(t,"ng-animating")}),Qs(u,e.toStyles)}),f.forEach(function(t){Es(r,t,[]).push(p)}),p},t.prototype._buildPlayer=function(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new Ie(t.duration,t.delay)},t}(),zu=function(){function t(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new Ie,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}return t.prototype.setRealPlayer=function(t){var e=this;this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(function(n){e._queuedCallbacks[n].forEach(function(e){return bs(t,n,void 0,e)})}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)},t.prototype.getRealPlayer=function(){return this._player},t.prototype.overrideTotalTime=function(t){this.totalTime=t},t.prototype.syncPlayerEvents=function(t){var e=this,n=this._player;n.triggerCallback&&t.onStart(function(){return n.triggerCallback("start")}),t.onDone(function(){return e.finish()}),t.onDestroy(function(){return e.destroy()})},t.prototype._queueEvent=function(t,e){Es(this._queuedCallbacks,t,[]).push(e)},t.prototype.onDone=function(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)},t.prototype.onStart=function(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)},t.prototype.onDestroy=function(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)},t.prototype.init=function(){this._player.init()},t.prototype.hasStarted=function(){return!this.queued&&this._player.hasStarted()},t.prototype.play=function(){!this.queued&&this._player.play()},t.prototype.pause=function(){!this.queued&&this._player.pause()},t.prototype.restart=function(){!this.queued&&this._player.restart()},t.prototype.finish=function(){this._player.finish()},t.prototype.destroy=function(){this.destroyed=!0,this._player.destroy()},t.prototype.reset=function(){!this.queued&&this._player.reset()},t.prototype.setPosition=function(t){this.queued||this._player.setPosition(t)},t.prototype.getPosition=function(){return this.queued?0:this._player.getPosition()},t.prototype.triggerCallback=function(t){var e=this._player;e.triggerCallback&&e.triggerCallback(t)},t}();function Hu(t){return t&&1===t.nodeType}function Qu(t,e){var n=t.style.display;return t.style.display=null!=e?e:"none",n}function Ku(t,e,n,r,i){var o=[];n.forEach(function(t){return o.push(Qu(t))});var a=[];r.forEach(function(n,r){var o={};n.forEach(function(t){var n=o[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r[Lu]=Fu,a.push(r))}),t.set(r,o)});var s=0;return n.forEach(function(t){return Qu(t,o[s++])}),a}function Gu(t,e){var n=new Map;if(t.forEach(function(t){return n.set(t,[])}),0==e.length)return n;var r=new Set(e),i=new Map;return e.forEach(function(t){var e=function t(e){if(!e)return 1;var o=i.get(e);if(o)return o;var a=e.parentNode;return o=n.has(a)?a:r.has(a)?1:t(a),i.set(e,o),o}(t);1!==e&&n.get(e).push(t)}),n}var Wu="$$classes";function Yu(t,e){if(t.classList)t.classList.add(e);else{var n=t[Wu];n||(n=t[Wu]={}),n[e]=!0}}function Zu(t,e){if(t.classList)t.classList.remove(e);else{var n=t[Wu];n&&delete n[e]}}function Xu(t,e,n){vs(n).onDone(function(){return t.processLeaveNode(e)})}function Ju(t,e,n){var r=n.get(t);if(!r)return!1;var i=e.get(t);return i?r.forEach(function(t){return i.add(t)}):e.set(t,r),n.delete(t),!0}var $u=function(){function t(t,e,n){var r=this;this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=function(t,e){},this._transitionEngine=new qu(t,e,n),this._timelineEngine=new Nu(t,e,n),this._transitionEngine.onRemovalComplete=function(t,e){return r.onRemovalComplete(t,e)}}return t.prototype.registerTrigger=function(t,e,n,r,i){var o=t+"-"+r,a=this._triggerCache[o];if(!a){var s=[],u=au(this._driver,i,s);if(s.length)throw new Error('The animation trigger "'+r+'" has failed to build due to the following errors:\n - '+s.join("\n - "));a=function(t,e){return new ku(t,e)}(r,u),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(e,r,a)},t.prototype.register=function(t,e){this._transitionEngine.register(t,e)},t.prototype.destroy=function(t,e){this._transitionEngine.destroy(t,e)},t.prototype.onInsert=function(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)},t.prototype.onRemove=function(t,e,n){this._transitionEngine.removeNode(t,e,n)},t.prototype.disableAnimations=function(t,e){this._transitionEngine.markElementAsDisabled(t,e)},t.prototype.process=function(t,e,n,r){if("@"==n.charAt(0)){var o=Object(i.__read)(Cs(n),2);this._timelineEngine.command(o[0],e,o[1],r)}else this._transitionEngine.trigger(t,e,n,r)},t.prototype.listen=function(t,e,n,r,o){if("@"==n.charAt(0)){var a=Object(i.__read)(Cs(n),2);return this._timelineEngine.listen(a[0],e,a[1],o)}return this._transitionEngine.listen(t,e,n,r,o)},t.prototype.flush=function(t){void 0===t&&(t=-1),this._transitionEngine.flush(t)},Object.defineProperty(t.prototype,"players",{get:function(){return this._transitionEngine.players.concat(this._timelineEngine.players)},enumerable:!0,configurable:!0}),t.prototype.whenRenderingDone=function(){return this._transitionEngine.whenRenderingDone()},t}(),tc=function(t){function e(e,n){var i=t.call(this)||this;return i._nextAnimationId=0,i._renderer=e.createRenderer(n.body,{id:"0",encapsulation:r.ViewEncapsulation.None,styles:[],data:{animation:[]}}),i}return Object(i.__extends)(e,t),e.prototype.build=function(t){var e=this._nextAnimationId.toString();this._nextAnimationId++;var n=Array.isArray(t)?Oe(t):t;return rc(this._renderer,null,e,"register",[n]),new ec(e,this._renderer)},e}(Ce),ec=function(t){function e(e,n){var r=t.call(this)||this;return r._id=e,r._renderer=n,r}return Object(i.__extends)(e,t),e.prototype.create=function(t,e){return new nc(this._id,t,e||{},this._renderer)},e}(Se),nc=function(){function t(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}return t.prototype._listen=function(t,e){return this._renderer.listen(this.element,"@@"+this.id+":"+t,e)},t.prototype._command=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return rc(this._renderer,this.element,this.id,t,e)},t.prototype.onDone=function(t){this._listen("done",t)},t.prototype.onStart=function(t){this._listen("start",t)},t.prototype.onDestroy=function(t){this._listen("destroy",t)},t.prototype.init=function(){this._command("init")},t.prototype.hasStarted=function(){return this._started},t.prototype.play=function(){this._command("play"),this._started=!0},t.prototype.pause=function(){this._command("pause")},t.prototype.restart=function(){this._command("restart")},t.prototype.finish=function(){this._command("finish")},t.prototype.destroy=function(){this._command("destroy")},t.prototype.reset=function(){this._command("reset")},t.prototype.setPosition=function(t){this._command("setPosition",t)},t.prototype.getPosition=function(){return 0},t}();function rc(t,e,n,r,i){return t.setProperty(e,"@@"+n+":"+r,i)}var ic=function(){function t(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=function(t,e){e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}return t.prototype.createRenderer=function(t,e){var n=this,r=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){var i=this._rendererCache.get(r);return i||(i=new oc("",r,this.engine),this._rendererCache.set(r,i)),i}var o=e.id,a=e.id+"-"+this._currentId;return this._currentId++,this.engine.register(a,t),e.data.animation.forEach(function(e){return n.engine.registerTrigger(o,a,t,e.name,e)}),new ac(this,a,r,this.engine)},t.prototype.begin=function(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()},t.prototype._scheduleCountTask=function(){var t=this;this.promise.then(function(){t._microtaskId++})},t.prototype.scheduleListenerCallback=function(t,e,n){var r=this;t>=0&&t<this._microtaskId?this._zone.run(function(){return e(n)}):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(function(){r._zone.run(function(){r._animationCallbacksBuffer.forEach(function(t){var e=Object(i.__read)(t,2);(0,e[0])(e[1])}),r._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))},t.prototype.end=function(){var t=this;this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(function(){t._scheduleCountTask(),t.engine.flush(t._microtaskId)}),this.delegate.end&&this.delegate.end()},t.prototype.whenRenderingDone=function(){return this.engine.whenRenderingDone()},t}(),oc=function(){function t(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?function(t){return e.destroyNode(t)}:null}return Object.defineProperty(t.prototype,"data",{get:function(){return this.delegate.data},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()},t.prototype.createElement=function(t,e){return this.delegate.createElement(t,e)},t.prototype.createComment=function(t){return this.delegate.createComment(t)},t.prototype.createText=function(t){return this.delegate.createText(t)},t.prototype.appendChild=function(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)},t.prototype.insertBefore=function(t,e,n){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,!0)},t.prototype.removeChild=function(t,e){this.engine.onRemove(this.namespaceId,e,this.delegate)},t.prototype.selectRootElement=function(t,e){return this.delegate.selectRootElement(t,e)},t.prototype.parentNode=function(t){return this.delegate.parentNode(t)},t.prototype.nextSibling=function(t){return this.delegate.nextSibling(t)},t.prototype.setAttribute=function(t,e,n,r){this.delegate.setAttribute(t,e,n,r)},t.prototype.removeAttribute=function(t,e,n){this.delegate.removeAttribute(t,e,n)},t.prototype.addClass=function(t,e){this.delegate.addClass(t,e)},t.prototype.removeClass=function(t,e){this.delegate.removeClass(t,e)},t.prototype.setStyle=function(t,e,n,r){this.delegate.setStyle(t,e,n,r)},t.prototype.removeStyle=function(t,e,n){this.delegate.removeStyle(t,e,n)},t.prototype.setProperty=function(t,e,n){"@"==e.charAt(0)&&"@.disabled"==e?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)},t.prototype.setValue=function(t,e){this.delegate.setValue(t,e)},t.prototype.listen=function(t,e,n){return this.delegate.listen(t,e,n)},t.prototype.disableAnimations=function(t,e){this.engine.disableAnimations(t,e)},t}(),ac=function(t){function e(e,n,r,i){var o=t.call(this,n,r,i)||this;return o.factory=e,o.namespaceId=n,o}return Object(i.__extends)(e,t),e.prototype.setProperty=function(t,e,n){"@"==e.charAt(0)?"."==e.charAt(1)&&"@.disabled"==e?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)},e.prototype.listen=function(t,e,n){var r,o,a,s=this;if("@"==e.charAt(0)){var u=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t),c=e.substr(1),l="";return"@"!=c.charAt(0)&&(c=(r=Object(i.__read)((o=c,a=o.indexOf("."),[o.substring(0,a),o.substr(a+1)]),2))[0],l=r[1]),this.engine.listen(this.namespaceId,u,c,l,function(t){s.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)},e}(oc),sc=function(t){function e(e,n,r){return t.call(this,e.body,n,r)||this}return Object(i.__extends)(e,t),e}($u);function uc(){return new Su}function cc(t,e,n){return new ic(t,e,n)}var lc=new r.InjectionToken("AnimationModuleType"),fc=function(){return function(){}}(),hc=r["\u0275crt"]({encapsulation:2,styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:.04}@media (hover:none){.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-flat-button,.mat-icon-button,.mat-stroked-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner{border:0}.mat-button[disabled],.mat-flat-button[disabled],.mat-icon-button[disabled],.mat-stroked-button[disabled]{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0,0,0);transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button[disabled]{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-focus-overlay,.mat-stroked-button .mat-button-ripple.mat-ripple{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0,0,0);transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab[disabled]{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0,0,0);transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab[disabled]{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button .mat-icon,.mat-icon-button i{line-height:24px}.mat-button-focus-overlay,.mat-button-ripple.mat-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-focus-overlay{opacity:0;transition:opacity .2s cubic-bezier(.35,0,.25,1),background-color .2s cubic-bezier(.35,0,.25,1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}@media (-ms-high-contrast:active){.mat-button-focus-overlay{background-color:#fff}}@media (-ms-high-contrast:black-on-white){.mat-button-focus-overlay{background-color:#000}}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:block;font-size:inherit;width:2.5em;height:2.5em}@media (-ms-high-contrast:active){.mat-button,.mat-fab,.mat-flat-button,.mat-icon-button,.mat-mini-fab,.mat-raised-button{outline:solid 1px}}"],data:{}});function pc(t){return r["\u0275vid"](2,[r["\u0275qud"](402653184,1,{ripple:0}),(t()(),r["\u0275eld"](1,0,null,null,1,"span",[["class","mat-button-wrapper"]],null,null,null,null,null)),r["\u0275ncd"](null,0),(t()(),r["\u0275eld"](3,0,null,null,1,"div",[["class","mat-button-ripple mat-ripple"],["matRipple",""]],[[2,"mat-button-ripple-round",null],[2,"mat-ripple-unbounded",null]],null,null,null,null)),r["\u0275did"](4,212992,[[1,4]],0,ve,[r.ElementRef,r.NgZone,St,[2,me],[2,lc]],{centered:[0,"centered"],disabled:[1,"disabled"],trigger:[2,"trigger"]},null),(t()(),r["\u0275eld"](5,0,null,null,0,"div",[["class","mat-button-focus-overlay"]],null,null,null,null,null))],function(t,e){var n=e.component;t(e,4,0,n.isIconButton,n._isRippleDisabled(),n._getHostElement())},function(t,e){var n=e.component;t(e,3,0,n.isRoundButton||n.isIconButton,r["\u0275nov"](e,4).unbounded)})}var dc=function(){function t(t,e,n){this.http=t,this.db=e,this.router=n,this.constraints={video:!0},this.actions=!1,this.displayStream=!0,this.captureCollectionRef=this.db.collection("captures")}return t.prototype.ngOnInit=function(){var t=this;navigator.mediaDevices&&navigator.mediaDevices.getUserMedia&&navigator.mediaDevices.getUserMedia(this.constraints).then(function(e){t.video.nativeElement.srcObject=e,t.video.nativeElement.play(),t.video.nativeElement.addEventListener("playing",function(){var e=t.video.nativeElement,n=e.offsetHeight;t.width=e.offsetWidth,t.height=n,t.actions=!0})})},t.prototype.capture=function(){this.displayStream=!1,this.canvas.nativeElement.getContext("2d").drawImage(this.video.nativeElement,0,0,this.width,this.height),this.video.nativeElement.srcObject.getVideoTracks().forEach(function(t){return t.stop()})},t.prototype.retakePhoto=function(){var t=this;this.displayStream=!0,this.actions=!1,navigator.mediaDevices&&navigator.mediaDevices.getUserMedia&&navigator.mediaDevices.getUserMedia(this.constraints).then(function(e){t.video.nativeElement.srcObject=e,t.video.nativeElement.play(),t.video.nativeElement.addEventListener("playing",function(){var e=t.video.nativeElement,n=e.offsetHeight;t.width=e.offsetWidth,t.height=n,t.actions=!0})})},t.prototype.usePhoto=function(){var t=this,e=this.canvas.nativeElement.toDataURL("image/jpeg"),n=(new Date).getTime();this.http.post("https://api.cloudinary.com/v1_1/picturecloud7/image/upload",{file:e,upload_preset:"ng_pwa"}).subscribe(function(e){e&&t.captureCollectionRef.add({public_id:e.public_id,uploaded:n}).then(function(){t.router.navigateByUrl("/")})})},t.prototype.ngOnDestroy=function(){this.actions=!1,this.video&&this.video.nativeElement.srcObject.getVideoTracks().forEach(function(t){return t.stop()})},t}(),yc=function(){return function(){}}(),mc=function(){return function(){}}(),vc=function(){function t(t){var e=this;this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?function(){e.headers=new Map,t.split("\n").forEach(function(t){var n=t.indexOf(":");if(n>0){var r=t.slice(0,n),i=r.toLowerCase(),o=t.slice(n+1).trim();e.maybeSetNormalizedName(r,i),e.headers.has(i)?e.headers.get(i).push(o):e.headers.set(i,[o])}})}:function(){e.headers=new Map,Object.keys(t).forEach(function(n){var r=t[n],i=n.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(e.headers.set(i,r),e.maybeSetNormalizedName(n,i))})}:this.headers=new Map}return t.prototype.has=function(t){return this.init(),this.headers.has(t.toLowerCase())},t.prototype.get=function(t){this.init();var e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null},t.prototype.keys=function(){return this.init(),Array.from(this.normalizedNames.values())},t.prototype.getAll=function(t){return this.init(),this.headers.get(t.toLowerCase())||null},t.prototype.append=function(t,e){return this.clone({name:t,value:e,op:"a"})},t.prototype.set=function(t,e){return this.clone({name:t,value:e,op:"s"})},t.prototype.delete=function(t,e){return this.clone({name:t,value:e,op:"d"})},t.prototype.maybeSetNormalizedName=function(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)},t.prototype.init=function(){var e=this;this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(function(t){return e.applyUpdate(t)}),this.lazyUpdate=null))},t.prototype.copyFrom=function(t){var e=this;t.init(),Array.from(t.headers.keys()).forEach(function(n){e.headers.set(n,t.headers.get(n)),e.normalizedNames.set(n,t.normalizedNames.get(n))})},t.prototype.clone=function(e){var n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n},t.prototype.applyUpdate=function(t){var e=t.name.toLowerCase();switch(t.op){case"a":case"s":var n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);var r=("a"===t.op?this.headers.get(e):void 0)||[];r.push.apply(r,Object(i.__spread)(n)),this.headers.set(e,r);break;case"d":var o=t.value;if(o){var a=this.headers.get(e);if(!a)return;0===(a=a.filter(function(t){return-1===o.indexOf(t)})).length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,a)}else this.headers.delete(e),this.normalizedNames.delete(e)}},t.prototype.forEach=function(t){var e=this;this.init(),Array.from(this.normalizedNames.keys()).forEach(function(n){return t(e.normalizedNames.get(n),e.headers.get(n))})},t}(),gc=function(){function t(){}return t.prototype.encodeKey=function(t){return bc(t)},t.prototype.encodeValue=function(t){return bc(t)},t.prototype.decodeKey=function(t){return decodeURIComponent(t)},t.prototype.decodeValue=function(t){return decodeURIComponent(t)},t}();function bc(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}var _c=function(){function t(t){void 0===t&&(t={});var e,n,r,o=this;if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new gc,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=(e=t.fromString,n=this.encoder,r=new Map,e.length>0&&e.split("&").forEach(function(t){var e=t.indexOf("="),o=Object(i.__read)(-1==e?[n.decodeKey(t),""]:[n.decodeKey(t.slice(0,e)),n.decodeValue(t.slice(e+1))],2),a=o[0],s=o[1],u=r.get(a)||[];u.push(s),r.set(a,u)}),r)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(function(e){var n=t.fromObject[e];o.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}return t.prototype.has=function(t){return this.init(),this.map.has(t)},t.prototype.get=function(t){this.init();var e=this.map.get(t);return e?e[0]:null},t.prototype.getAll=function(t){return this.init(),this.map.get(t)||null},t.prototype.keys=function(){return this.init(),Array.from(this.map.keys())},t.prototype.append=function(t,e){return this.clone({param:t,value:e,op:"a"})},t.prototype.set=function(t,e){return this.clone({param:t,value:e,op:"s"})},t.prototype.delete=function(t,e){return this.clone({param:t,value:e,op:"d"})},t.prototype.toString=function(){var t=this;return this.init(),this.keys().map(function(e){var n=t.encoder.encodeKey(e);return t.map.get(e).map(function(e){return n+"="+t.encoder.encodeValue(e)}).join("&")}).join("&")},t.prototype.clone=function(e){var n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat([e]),n},t.prototype.init=function(){var t=this;null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(function(e){return t.map.set(e,t.cloneFrom.map.get(e))}),this.updates.forEach(function(e){switch(e.op){case"a":case"s":var n=("a"===e.op?t.map.get(e.param):void 0)||[];n.push(e.value),t.map.set(e.param,n);break;case"d":if(void 0===e.value){t.map.delete(e.param);break}var r=t.map.get(e.param)||[],i=r.indexOf(e.value);-1!==i&&r.splice(i,1),r.length>0?t.map.set(e.param,r):t.map.delete(e.param)}}),this.cloneFrom=this.updates=null)},t}();function wc(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function Ec(t){return"undefined"!=typeof Blob&&t instanceof Blob}function Cc(t){return"undefined"!=typeof FormData&&t instanceof FormData}var Sc=function(){function t(t,e,n,r){var i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new vc),this.params){var o=this.params.toString();if(0===o.length)this.urlWithParams=e;else{var a=e.indexOf("?");this.urlWithParams=e+(-1===a?"?":a<e.length-1?"&":"")+o}}else this.params=new _c,this.urlWithParams=e}return t.prototype.serializeBody=function(){return null===this.body?null:wc(this.body)||Ec(this.body)||Cc(this.body)||"string"==typeof this.body?this.body:this.body instanceof _c?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()},t.prototype.detectContentTypeHeader=function(){return null===this.body?null:Cc(this.body)?null:Ec(this.body)?this.body.type||null:wc(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof _c?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null},t.prototype.clone=function(e){void 0===e&&(e={});var n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,a=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,s=void 0!==e.reportProgress?e.reportProgress:this.reportProgress,u=e.headers||this.headers,c=e.params||this.params;return void 0!==e.setHeaders&&(u=Object.keys(e.setHeaders).reduce(function(t,n){return t.set(n,e.setHeaders[n])},u)),e.setParams&&(c=Object.keys(e.setParams).reduce(function(t,n){return t.set(n,e.setParams[n])},c)),new t(n,r,o,{params:c,headers:u,reportProgress:s,responseType:i,withCredentials:a})},t}(),Dc=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({}),Oc=function(){return function(t,e,n){void 0===e&&(e=200),void 0===n&&(n="OK"),this.headers=t.headers||new vc,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}(),Tc=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,e)||this;return n.type=Dc.ResponseHeader,n}return Object(i.__extends)(e,t),e.prototype.clone=function(t){return void 0===t&&(t={}),new e({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})},e}(Oc),Ac=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,e)||this;return n.type=Dc.Response,n.body=void 0!==e.body?e.body:null,n}return Object(i.__extends)(e,t),e.prototype.clone=function(t){return void 0===t&&(t={}),new e({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})},e}(Oc),Ic=function(t){function e(e){var n=t.call(this,e,0,"Unknown Error")||this;return n.name="HttpErrorResponse",n.ok=!1,n.message=n.status>=200&&n.status<300?"Http failure during parsing for "+(e.url||"(unknown url)"):"Http failure response for "+(e.url||"(unknown url)")+": "+e.status+" "+e.statusText,n.error=e.error||null,n}return Object(i.__extends)(e,t),e}(Oc);function xc(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}var kc=function(){function t(t){this.handler=t}return t.prototype.request=function(t,e,n){var r,i=this;if(void 0===n&&(n={}),t instanceof Sc)r=t;else{var o;o=n.headers instanceof vc?n.headers:new vc(n.headers);var a=void 0;n.params&&(a=n.params instanceof _c?n.params:new _c({fromObject:n.params})),r=new Sc(t,e,void 0!==n.body?n.body:null,{headers:o,params:a,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}var s=Rt(r).pipe(Ar(function(t){return i.handler.handle(t)}));if(t instanceof Sc||"events"===n.observe)return s;var u=s.pipe(Gt(function(t){return t instanceof Ac}));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return u.pipe(Object(Zt.a)(function(t){if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return u.pipe(Object(Zt.a)(function(t){if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return u.pipe(Object(Zt.a)(function(t){if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return u.pipe(Object(Zt.a)(function(t){return t.body}))}case"response":return u;default:throw new Error("Unreachable: unhandled observe type "+n.observe+"}")}},t.prototype.delete=function(t,e){return void 0===e&&(e={}),this.request("DELETE",t,e)},t.prototype.get=function(t,e){return void 0===e&&(e={}),this.request("GET",t,e)},t.prototype.head=function(t,e){return void 0===e&&(e={}),this.request("HEAD",t,e)},t.prototype.jsonp=function(t,e){return this.request("JSONP",t,{params:(new _c).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})},t.prototype.options=function(t,e){return void 0===e&&(e={}),this.request("OPTIONS",t,e)},t.prototype.patch=function(t,e,n){return void 0===n&&(n={}),this.request("PATCH",t,xc(n,e))},t.prototype.post=function(t,e,n){return void 0===n&&(n={}),this.request("POST",t,xc(n,e))},t.prototype.put=function(t,e,n){return void 0===n&&(n={}),this.request("PUT",t,xc(n,e))},t}(),Rc=function(){function t(t,e){this.next=t,this.interceptor=e}return t.prototype.handle=function(t){return this.interceptor.intercept(t,this.next)},t}(),Pc=new r.InjectionToken("HTTP_INTERCEPTORS"),Nc=function(){function t(){}return t.prototype.intercept=function(t,e){return e.handle(t)},t}(),jc=/^\)\]\}',?\n/,Mc=function(){return function(){}}(),Fc=function(){function t(){}return t.prototype.build=function(){return new XMLHttpRequest},t}(),Lc=function(){function t(t){this.xhrFactory=t}return t.prototype.handle=function(t){var e=this;if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new Et.a(function(n){var r=e.xhrFactory.build();if(r.open(t.method,t.urlWithParams),t.withCredentials&&(r.withCredentials=!0),t.headers.forEach(function(t,e){return r.setRequestHeader(t,e.join(","))}),t.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){var i=t.detectContentTypeHeader();null!==i&&r.setRequestHeader("Content-Type",i)}if(t.responseType){var o=t.responseType.toLowerCase();r.responseType="json"!==o?o:"text"}var a=t.serializeBody(),s=null,u=function(){if(null!==s)return s;var e=1223===r.status?204:r.status,n=r.statusText||"OK",i=new vc(r.getAllResponseHeaders()),o=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(r)||t.url;return s=new Tc({headers:i,status:e,statusText:n,url:o})},c=function(){var e=u(),i=e.headers,o=e.status,a=e.statusText,s=e.url,c=null;204!==o&&(c=void 0===r.response?r.responseText:r.response),0===o&&(o=c?200:0);var l=o>=200&&o<300;if("json"===t.responseType&&"string"==typeof c){var f=c;c=c.replace(jc,"");try{c=""!==c?JSON.parse(c):null}catch(h){c=f,l&&(l=!1,c={error:h,text:c})}}l?(n.next(new Ac({body:c,headers:i,status:o,statusText:a,url:s||void 0})),n.complete()):n.error(new Ic({error:c,headers:i,status:o,statusText:a,url:s||void 0}))},l=function(t){var e=u().url,i=new Ic({error:t,status:r.status||0,statusText:r.statusText||"Unknown Error",url:e||void 0});n.error(i)},f=!1,h=function(e){f||(n.next(u()),f=!0);var i={type:Dc.DownloadProgress,loaded:e.loaded};e.lengthComputable&&(i.total=e.total),"text"===t.responseType&&r.responseText&&(i.partialText=r.responseText),n.next(i)},p=function(t){var e={type:Dc.UploadProgress,loaded:t.loaded};t.lengthComputable&&(e.total=t.total),n.next(e)};return r.addEventListener("load",c),r.addEventListener("error",l),t.reportProgress&&(r.addEventListener("progress",h),null!==a&&r.upload&&r.upload.addEventListener("progress",p)),r.send(a),n.next({type:Dc.Sent}),function(){r.removeEventListener("error",l),r.removeEventListener("load",c),t.reportProgress&&(r.removeEventListener("progress",h),null!==a&&r.upload&&r.upload.removeEventListener("progress",p)),r.abort()}})},t}(),Bc=new r.InjectionToken("XSRF_COOKIE_NAME"),Vc=new r.InjectionToken("XSRF_HEADER_NAME"),Uc=function(){return function(){}}(),qc=function(){function t(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}return t.prototype.getToken=function(){if("server"===this.platform)return null;var t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Object(o["\u0275parseCookieValue"])(t,this.cookieName),this.lastCookieString=t),this.lastToken},t}(),zc=function(){function t(t,e){this.tokenService=t,this.headerName=e}return t.prototype.intercept=function(t,e){var n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);var r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)},t}(),Hc=function(){function t(t,e){this.backend=t,this.injector=e,this.chain=null}return t.prototype.handle=function(t){if(null===this.chain){var e=this.injector.get(Pc,[]);this.chain=e.reduceRight(function(t,e){return new Rc(t,e)},this.backend)}return this.chain.handle(t)},t}(),Qc=function(){function t(){}var e;return e=t,t.disable=function(){return{ngModule:e,providers:[{provide:zc,useClass:Nc}]}},t.withOptions=function(t){return void 0===t&&(t={}),{ngModule:e,providers:[t.cookieName?{provide:Bc,useValue:t.cookieName}:[],t.headerName?{provide:Vc,useValue:t.headerName}:[]]}},t}(),Kc=function(){return function(){}}(),Gc=r["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function Wc(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,[[1,0],["video",1]],null,1,"video",[["autoplay",""],["class","mat-card-image"],["id","video"],["mat-card-image",""]],null,null,null,null,null)),r["\u0275did"](1,16384,null,0,Xn,[],null,null)],null,null)}function Yc(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,2,"button",[["color","primary"],["mat-raised-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.capture()&&r),r},pc,hc)),r["\u0275did"](1,180224,null,0,we,[r.ElementRef,St,ie,[2,lc]],{color:[0,"color"]},null),(t()(),r["\u0275ted"](-1,0,["Capture Photo"]))],function(t,e){t(e,1,0,"primary")},function(t,e){t(e,0,0,r["\u0275nov"](e,1).disabled||null,"NoopAnimations"===r["\u0275nov"](e,1)._animationMode)})}function Zc(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,2,"button",[["color","warn"],["mat-raised-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.retakePhoto()&&r),r},pc,hc)),r["\u0275did"](1,180224,null,0,we,[r.ElementRef,St,ie,[2,lc]],{color:[0,"color"]},null),(t()(),r["\u0275ted"](-1,0,["Retake Photo"]))],function(t,e){t(e,1,0,"warn")},function(t,e){t(e,0,0,r["\u0275nov"](e,1).disabled||null,"NoopAnimations"===r["\u0275nov"](e,1)._animationMode)})}function Xc(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,2,"button",[["color","accent"],["mat-raised-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.usePhoto()&&r),r},pc,hc)),r["\u0275did"](1,180224,null,0,we,[r.ElementRef,St,ie,[2,lc]],{color:[0,"color"]},null),(t()(),r["\u0275ted"](-1,0,["Use photo"]))],function(t,e){t(e,1,0,"accent")},function(t,e){t(e,0,0,r["\u0275nov"](e,1).disabled||null,"NoopAnimations"===r["\u0275nov"](e,1)._animationMode)})}function Jc(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,7,"mat-card-actions",[["class","mat-card-actions"]],[[2,"mat-card-actions-align-end",null]],null,null,null,null)),r["\u0275did"](1,16384,null,0,Yn,[],null,null),(t()(),r["\u0275and"](16777216,null,null,1,null,Yc)),r["\u0275did"](3,16384,null,0,o.NgIf,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),r["\u0275and"](16777216,null,null,1,null,Zc)),r["\u0275did"](5,16384,null,0,o.NgIf,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),r["\u0275and"](16777216,null,null,1,null,Xc)),r["\u0275did"](7,16384,null,0,o.NgIf,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,3,0,n.displayStream),t(e,5,0,!n.displayStream),t(e,7,0,!n.displayStream)},function(t,e){t(e,0,0,"end"===r["\u0275nov"](e,1).align)})}function $c(t){return r["\u0275vid"](0,[r["\u0275qud"](671088640,1,{video:0}),r["\u0275qud"](402653184,2,{canvas:0}),(t()(),r["\u0275eld"](2,0,null,null,19,"mat-card",[["class","z-depth center mat-card"],["flex","50"]],null,null,null,Ra,ka)),r["\u0275did"](3,49152,null,0,Jn,[],null,null),(t()(),r["\u0275eld"](4,0,null,0,7,"mat-card-header",[["class","mat-card-header"]],null,null,null,Na,Pa)),r["\u0275did"](5,49152,null,0,$n,[],null,null),(t()(),r["\u0275eld"](6,0,null,1,2,"mat-card-title",[["class","mat-card-title"]],null,null,null,null,null)),r["\u0275did"](7,16384,null,0,Gn,[],null,null),(t()(),r["\u0275ted"](-1,null,["Smile - and take a selfie \ud83d\udcf1"])),(t()(),r["\u0275eld"](9,0,null,1,2,"mat-card-subtitle",[["class","mat-card-subtitle"]],null,null,null,null,null)),r["\u0275did"](10,16384,null,0,Wn,[],null,null),(t()(),r["\u0275ted"](-1,null,["The image will be deleted after the workshop"])),(t()(),r["\u0275and"](16777216,null,0,1,null,Wc)),r["\u0275did"](13,16384,null,0,o.NgIf,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),r["\u0275eld"](14,0,[[2,0],["canvas",1]],0,1,"canvas",[["class","mat-card-image"],["id","canvas"],["mat-card-image",""]],[[8,"width",0],[8,"height",0],[8,"hidden",0]],null,null,null,null)),r["\u0275did"](15,16384,null,0,Xn,[],null,null),(t()(),r["\u0275eld"](16,0,null,0,3,"mat-card-content",[["class","mat-card-content"]],null,null,null,null,null)),r["\u0275did"](17,16384,null,0,Kn,[],null,null),(t()(),r["\u0275eld"](18,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,[" Snap away! "])),(t()(),r["\u0275and"](16777216,null,0,1,null,Jc)),r["\u0275did"](21,16384,null,0,o.NgIf,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,13,0,n.displayStream),t(e,21,0,n.actions)},function(t,e){var n=e.component;t(e,14,0,n.width,n.height,n.displayStream)})}function tl(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,1,"app-capture",[],null,null,null,$c,Gc)),r["\u0275did"](1,245760,null,0,dc,[kc,us,Xo],null,null)],function(t,e){t(e,1,0)},null)}var el=r["\u0275ccf"]("app-capture",dc,tl,{},{},[]),nl=r["\u0275crt"]({encapsulation:2,styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}@media (-ms-high-contrast:active){.mat-snack-bar-container{border:solid 1px}}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}"],data:{animation:[{type:7,name:"state",definitions:[{type:0,name:"void, hidden",styles:{type:6,styles:{transform:"scale(0.8)",opacity:0},offset:null},options:void 0},{type:0,name:"visible",styles:{type:6,styles:{transform:"scale(1)",opacity:1},offset:null},options:void 0},{type:1,expr:"* => visible",animation:{type:4,styles:null,timings:"150ms cubic-bezier(0, 0, 0.2, 1)"},options:null},{type:1,expr:"* => void, * => hidden",animation:{type:4,styles:{type:6,styles:{opacity:0},offset:null},timings:"75ms cubic-bezier(0.4, 0.0, 1, 1)"},options:null}],options:{}}]}});function rl(t){return r["\u0275vid"](0,[(t()(),r["\u0275and"](0,null,null,0))],null,null)}function il(t){return r["\u0275vid"](0,[r["\u0275qud"](402653184,1,{_portalOutlet:0}),(t()(),r["\u0275and"](16777216,null,null,1,null,rl)),r["\u0275did"](2,212992,[[1,4]],0,Le,[r.ComponentFactoryResolver,r.ViewContainerRef],{portal:[0,"portal"]},null)],function(t,e){t(e,2,0,"")},null)}function ol(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,1,"snack-bar-container",[["class","mat-snack-bar-container"]],[[1,"role",0],[40,"@state",0]],[["component","@state.done"]],function(t,e,n){var i=!0;return"component:@state.done"===e&&(i=!1!==r["\u0275nov"](t,1).onAnimationEnd(n)&&i),i},il,nl)),r["\u0275did"](1,180224,null,0,Hn,[r.NgZone,r.ElementRef,r.ChangeDetectorRef,qn],null,null)],null,function(t,e){t(e,0,0,r["\u0275nov"](e,1)._role,r["\u0275nov"](e,1)._animationState)})}var al=r["\u0275ccf"]("snack-bar-container",Hn,ol,{},{},[]),sl=r["\u0275crt"]({encapsulation:2,styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;height:100%;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}"],data:{}});function ul(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,3,"div",[["class","mat-simple-snackbar-action"]],null,null,null,null,null)),(t()(),r["\u0275eld"](1,0,null,null,2,"button",[["mat-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.action()&&r),r},pc,hc)),r["\u0275did"](2,180224,null,0,we,[r.ElementRef,St,ie,[2,lc]],null,null),(t()(),r["\u0275ted"](3,0,["",""]))],null,function(t,e){var n=e.component;t(e,1,0,r["\u0275nov"](e,2).disabled||null,"NoopAnimations"===r["\u0275nov"](e,2)._animationMode),t(e,3,0,n.data.action)})}function cl(t){return r["\u0275vid"](2,[(t()(),r["\u0275eld"](0,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),r["\u0275ted"](1,null,["",""])),(t()(),r["\u0275and"](16777216,null,null,1,null,ul)),r["\u0275did"](3,16384,null,0,o.NgIf,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(t,e){t(e,3,0,e.component.hasAction)},function(t,e){t(e,1,0,e.component.data.message)})}function ll(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,1,"simple-snack-bar",[["class","mat-simple-snackbar"]],null,null,null,cl,sl)),r["\u0275did"](1,49152,null,0,zn,[Vn,Un],null,null)],null,null)}var fl=r["\u0275ccf"]("simple-snack-bar",zn,ll,{},{},[]),hl=r["\u0275crt"]({encapsulation:0,styles:[[".main-div[_ngcontent-%COMP%]{height:100vh;display:flex;justify-content:center}.offline[_ngcontent-%COMP%]{width:100%;margin:0;padding:0;background-color:red;top:0;left:0;text-align:center;height:50px;line-height:50px;font-weight:700;color:#fff}.navigation[_ngcontent-%COMP%]{width:100%;margin:0;text-align:center;height:50px;line-height:50px;font-weight:700;color:#fff}"]],data:{}});function pl(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,8,"div",[["class","navigation"]],null,null,null,null,null)),(t()(),r["\u0275eld"](1,0,null,null,3,"button",[["color","primary"],["mat-raised-button",""],["routerLink","/"]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r["\u0275nov"](t,2).onClick()&&i),i},pc,hc)),r["\u0275did"](2,16384,null,0,Jo,[Xo,Vi,[8,null],r.Renderer2,r.ElementRef],{routerLink:[0,"routerLink"]},null),r["\u0275did"](3,180224,null,0,we,[r.ElementRef,St,ie,[2,lc]],{color:[0,"color"]},null),(t()(),r["\u0275ted"](-1,0,["Feed"])),(t()(),r["\u0275eld"](5,0,null,null,3,"button",[["color","primary"],["mat-raised-button",""],["routerLink","/capture"]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r["\u0275nov"](t,6).onClick()&&i),i},pc,hc)),r["\u0275did"](6,16384,null,0,Jo,[Xo,Vi,[8,null],r.Renderer2,r.ElementRef],{routerLink:[0,"routerLink"]},null),r["\u0275did"](7,180224,null,0,we,[r.ElementRef,St,ie,[2,lc]],{color:[0,"color"]},null),(t()(),r["\u0275ted"](-1,0,["Capture"])),(t()(),r["\u0275eld"](9,0,null,null,2,"div",[["class","main-div"]],null,null,null,null,null)),(t()(),r["\u0275eld"](10,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),r["\u0275did"](11,212992,null,0,na,[ea,r.ViewContainerRef,r.ComponentFactoryResolver,[8,null],r.ChangeDetectorRef],null,null)],function(t,e){t(e,2,0,"/"),t(e,3,0,"primary"),t(e,6,0,"/capture"),t(e,7,0,"primary"),t(e,11,0)},function(t,e){t(e,1,0,r["\u0275nov"](e,3).disabled||null,"NoopAnimations"===r["\u0275nov"](e,3)._animationMode),t(e,5,0,r["\u0275nov"](e,7).disabled||null,"NoopAnimations"===r["\u0275nov"](e,7)._animationMode)})}function dl(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,1,"app-root",[],null,null,null,pl,hl)),r["\u0275did"](1,49152,null,0,rr,[],null,null)],null,null)}var yl=r["\u0275ccf"]("app-root",rr,dl,{},{},[]),ml=n("O/bx"),vl=function(){return function(){}}(),gl=r["\u0275cmf"](nr,[rr],function(t){return r["\u0275mod"]([r["\u0275mpd"](512,r.ComponentFactoryResolver,r["\u0275CodegenComponentFactoryResolver"],[[8,[Ta,ys,el,al,fl,yl]],[3,r.ComponentFactoryResolver],r.NgModuleRef]),r["\u0275mpd"](5120,r.LOCALE_ID,r["\u0275angular_packages_core_core_s"],[[3,r.LOCALE_ID]]),r["\u0275mpd"](4608,o.NgLocalization,o.NgLocaleLocalization,[r.LOCALE_ID,[2,o["\u0275angular_packages_common_common_a"]]]),r["\u0275mpd"](5120,r.APP_ID,r["\u0275angular_packages_core_core_h"],[]),r["\u0275mpd"](5120,r.IterableDiffers,r["\u0275angular_packages_core_core_q"],[]),r["\u0275mpd"](5120,r.KeyValueDiffers,r["\u0275angular_packages_core_core_r"],[]),r["\u0275mpd"](4608,it,ot,[o.DOCUMENT]),r["\u0275mpd"](6144,r.Sanitizer,null,[it]),r["\u0275mpd"](4608,X,$,[]),r["\u0275mpd"](5120,S,function(t,e,n,r,i,o,a,s){return[new Y(t,e,n),new rt(r),new tt(i,o,a,s)]},[o.DOCUMENT,r.NgZone,r.PLATFORM_ID,o.DOCUMENT,o.DOCUMENT,X,r["\u0275Console"],[2,J]]),r["\u0275mpd"](4608,D,D,[S,r.NgZone]),r["\u0275mpd"](135680,A,A,[o.DOCUMENT]),r["\u0275mpd"](4608,j,j,[D,A,r.APP_ID]),r["\u0275mpd"](4608,Ms,js,[]),r["\u0275mpd"](5120,Cu,uc,[]),r["\u0275mpd"](4608,$u,sc,[o.DOCUMENT,Ms,Cu]),r["\u0275mpd"](5120,r.RendererFactory2,cc,[j,$u,r.NgZone]),r["\u0275mpd"](6144,T,null,[A]),r["\u0275mpd"](4608,r.Testability,r.Testability,[r.NgZone]),r["\u0275mpd"](5120,Vi,ba,[Xo]),r["\u0275mpd"](4608,aa,aa,[]),r["\u0275mpd"](6144,ia,null,[aa]),r["\u0275mpd"](135680,sa,sa,[Xo,r.NgModuleFactoryLoader,r.Compiler,r.Injector,ia]),r["\u0275mpd"](4608,oa,oa,[]),r["\u0275mpd"](5120,ua,da,[Xo,o.ViewportScroller,ca]),r["\u0275mpd"](5120,Ca,Ea,[_a]),r["\u0275mpd"](5120,r.APP_BOOTSTRAP_LISTENER,function(t){return[t]},[Ca]),r["\u0275mpd"](4608,Ce,tc,[r.RendererFactory2,y]),r["\u0275mpd"](4608,Uc,qc,[o.DOCUMENT,r.PLATFORM_ID,Bc]),r["\u0275mpd"](4608,zc,zc,[Uc,Vc]),r["\u0275mpd"](5120,Pc,function(t){return[t]},[zc]),r["\u0275mpd"](4608,Fc,Fc,[]),r["\u0275mpd"](6144,Mc,null,[Fc]),r["\u0275mpd"](4608,Lc,Lc,[Mc]),r["\u0275mpd"](6144,mc,null,[Lc]),r["\u0275mpd"](4608,yc,Hc,[mc,r.Injector]),r["\u0275mpd"](4608,kc,kc,[yc]),r["\u0275mpd"](4608,Pn,Pn,[gn,Dn,r.ComponentFactoryResolver,kn,Sn,r.Injector,r.NgZone,o.DOCUMENT,Ia,[2,o.Location]]),r["\u0275mpd"](5120,Nn,jn,[Pn]),r["\u0275mpd"](5120,Za,Xa,[Wa,[2,Ya]]),r["\u0275mpd"](4608,us,us,[Wa,[2,Ya],[2,es],[2,rs],r.PLATFORM_ID,r.NgZone,[2,ns]]),r["\u0275mpd"](5120,Ma.Cloudinary,ml.createCloudinary,[ml.CLOUDINARY_LIB,ml.CLOUDINARY_CONFIGURATION]),r["\u0275mpd"](1073742336,o.CommonModule,o.CommonModule,[]),r["\u0275mpd"](1024,r.ErrorHandler,dt,[]),r["\u0275mpd"](1024,r.NgProbeToken,function(){return[ha()]},[]),r["\u0275mpd"](512,_a,_a,[r.Injector]),r["\u0275mpd"](1024,r.APP_INITIALIZER,function(t,e){return[(n=t,w("probe",C),w("coreTokens",Object(i.__assign)({},E,(n||[]).reduce(function(t,e){return t[e.name]=e.token,t},{}))),function(){return C}),wa(e)];var n},[[2,r.NgProbeToken],_a]),r["\u0275mpd"](512,r.ApplicationInitStatus,r.ApplicationInitStatus,[[2,r.APP_INITIALIZER]]),r["\u0275mpd"](131584,r.ApplicationRef,r.ApplicationRef,[r.NgZone,r["\u0275Console"],r.Injector,r.ErrorHandler,r.ComponentFactoryResolver,r.ApplicationInitStatus]),r["\u0275mpd"](1073742336,r.ApplicationModule,r.ApplicationModule,[r.ApplicationRef]),r["\u0275mpd"](1073742336,yt,yt,[[3,yt]]),r["\u0275mpd"](1024,la,ma,[[3,Xo]]),r["\u0275mpd"](512,gi,bi,[]),r["\u0275mpd"](512,ea,ea,[]),r["\u0275mpd"](256,ca,{},[]),r["\u0275mpd"](1024,o.LocationStrategy,ya,[o.PlatformLocation,[2,o.APP_BASE_HREF],ca]),r["\u0275mpd"](512,o.Location,o.Location,[o.LocationStrategy]),r["\u0275mpd"](512,r.Compiler,r.Compiler,[]),r["\u0275mpd"](512,r.NgModuleFactoryLoader,r.SystemJsNgModuleLoader,[r.Compiler,[2,r.SystemJsNgModuleLoaderConfig]]),r["\u0275mpd"](1024,Ho,function(){return[[{path:"",component:ls},{path:"capture",component:dc}]]},[]),r["\u0275mpd"](1024,Xo,ga,[r.ApplicationRef,gi,ea,o.Location,r.Injector,r.NgModuleFactoryLoader,r.Compiler,Ho,ca,[2,Ko],[2,qo]]),r["\u0275mpd"](1073742336,pa,pa,[[2,la],[2,Xo]]),r["\u0275mpd"](1073742336,vl,vl,[]),r["\u0275mpd"](1073742336,fc,fc,[]),r["\u0275mpd"](1073742336,Qc,Qc,[]),r["\u0275mpd"](1073742336,Kc,Kc,[]),r["\u0275mpd"](1073742336,xa,xa,[]),r["\u0275mpd"](1073742336,ae,ae,[[2,oe],[2,J]]),r["\u0275mpd"](1073742336,Dt,Dt,[]),r["\u0275mpd"](1073742336,ge,ge,[]),r["\u0275mpd"](1073742336,Ee,Ee,[]),r["\u0275mpd"](1073742336,tr,tr,[]),r["\u0275mpd"](1073742336,Be,Be,[]),r["\u0275mpd"](1073742336,cn,cn,[]),r["\u0275mpd"](1073742336,Mn,Mn,[]),r["\u0275mpd"](1073742336,Qn,Qn,[]),r["\u0275mpd"](1073742336,ml.CloudinaryModule,ml.CloudinaryModule,[]),r["\u0275mpd"](1073742336,Ja,Ja,[]),r["\u0275mpd"](1073742336,cs,cs,[]),r["\u0275mpd"](1073742336,nr,nr,[]),r["\u0275mpd"](256,r["\u0275APP_ROOT"],!0,[]),r["\u0275mpd"](256,lc,"NoopAnimations",[]),r["\u0275mpd"](256,Bc,"XSRF-TOKEN",[]),r["\u0275mpd"](256,Vc,"X-XSRF-TOKEN",[]),r["\u0275mpd"](256,Wa,{apiKey:"AIzaSyCOHbFDmmaYYbMjxFstuDu1sth1VgRu9DM",authDomain:"ng-pwa-d812e.firebaseapp.com",databaseURL:"https://ng-pwa-d812e.firebaseio.com",projectId:"ng-pwa-d812e",storageBucket:"",messagingSenderId:"1065365724703"},[]),r["\u0275mpd"](256,Ya,void 0,[]),r["\u0275mpd"](256,ml.CLOUDINARY_LIB,{Cloudinary:er.Cloudinary},[]),r["\u0275mpd"](256,ml.CLOUDINARY_CONFIGURATION,{cloud_name:"picturecloud7",secure:!0},[])])});Object(r.enableProdMode)(),pt().bootstrapModuleFactory(gl).catch(function(t){return console.error(t)})},zVF4:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("mrSG"),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(t,e){if(!t)throw a(e)},a=function(t){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},s=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},u={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],a=i+1<t.length,s=a?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=(15&s)<<2|c>>6,f=63&c;u||(f=64,a||(l=64)),r.push(n[o>>2],n[(3&o)<<4|s>>4],n[l],n[f])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(s(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(s=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(1023&a))}else{o=t[n++];var s=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0,s=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();r.push(o<<2|a>>4),64!=s&&(r.push(a<<4&240|s>>2),64!=u&&r.push(s<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},c=function(t){try{return u.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function l(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&(t[n]=l(t[n],e[n]));return t}var f=function(){function t(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function h(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}var p="FirebaseError",d=function(t){function e(n,r){var i=t.call(this,r)||this;return i.code=n,i.name=p,Object.setPrototypeOf(i,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(i,y.prototype.create),i}return r.__extends(e,t),e}(Error),y=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t,e){void 0===e&&(e={});for(var n=this.service+"/"+t,r=this.errors[t],i=r?function(t,e){return t.replace(m,function(t,n){var r=e[n];return null!=r?r.toString():"<"+n+"?>"})}(r,e):"Error",o=new d(n,this.serviceName+": "+i+" ("+n+")."),a=0,s=Object.keys(e);a<s.length;a++){var u=s[a];"_"!==u.slice(-1)&&(u in o&&console.warn('Overwriting FirebaseError base field "'+u+'" can cause unexpected behavior.'),o[u]=e[u])}return o},t}(),m=/\{\$([^}]+)}/g;function v(t){return JSON.parse(t)}var g=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=v(c(o[0])||""),n=v(c(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(a){}return{header:e,claims:n,data:r,signature:i}},b=function(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])},_=function(t,e){return b(e,function(e,n){t[e]=n}),t},w=function(t,e,n){for(var r in t)if(e.call(n,t[r],r,t))return r},E=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++)n[r]=4294967295&((f=n[r-3]^n[r-8]^n[r-14]^n[r-16])<<1|f>>>31);var i,o,a=this.chain_[0],s=this.chain_[1],u=this.chain_[2],c=this.chain_[3],l=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(i=c^s&(u^c),o=1518500249):(i=s^u^c,o=1859775393):r<60?(i=s&u|c&(s|u),o=2400959708):(i=s^u^c,o=3395469782);var f=(a<<5|a>>>27)+i+l+o+n[r]&4294967295;l=c,c=u,u=4294967295&(s<<30|s>>>2),s=a,a=f}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0==o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o==this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o==this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},t}(),C=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=S),void 0===r.error&&(r.error=S),void 0===r.complete&&(r.complete=S);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function S(){}function D(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return t+" failed: "+r+" argument "}e.CONSTANTS=i,e.Deferred=f,e.ErrorFactory=y,e.FirebaseError=d,e.Sha1=E,e.assert=o,e.assertionError=a,e.async=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then(function(){t.apply(void 0,n)}).catch(function(t){e&&e(t)})}},e.base64=u,e.base64Decode=c,e.base64Encode=function(t){var e=s(t);return u.encodeByteArray(e,!0)},e.clone=function(t){return _({},t)},e.contains=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.createSubscribe=function(t,e){var n=new C(t,e);return n.subscribe.bind(n)},e.decode=g,e.deepCopy=function(t){return l(void 0,t)},e.deepExtend=l,e.errorPrefix=D,e.every=function(t,e){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&!e(n,t[n]))return!1;return!0},e.extend=_,e.findKey=w,e.findValue=function(t,e,n){var r=w(t,e,n);return r&&t[r]},e.forEach=b,e.getAnyKey=function(t){for(var e in t)return e},e.getCount=function(t){var e=0;for(var n in t)e++;return e},e.getUA=h,e.getValues=function(t){var e=[],n=0;for(var r in t)e[n++]=t[r];return e},e.isAdmin=function(t){var e=g(t).claims;return"object"==typeof e&&!0===e.admin},e.isBrowser=function(){return"undefined"!=typeof window},e.isEmpty=function(t){for(var e in t)return!1;return!0},e.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(h())},e.isNode=function(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}},e.isNodeSdk=function(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN},e.isNonNullObject=function(t){return"object"==typeof t&&null!==t},e.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},e.isValidFormat=function(t){var e=g(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},e.isValidTimestamp=function(t){var e,n,r=g(t).claims,i=Math.floor((new Date).getTime()/1e3);return"object"==typeof r&&(r.hasOwnProperty("nbf")?e=r.nbf:r.hasOwnProperty("iat")&&(e=r.iat),n=r.hasOwnProperty("exp")?r.exp:e+86400),i&&e&&n&&i>=e&&i<=n},e.issuedAtTime=function(t){var e=g(t).claims;return"object"==typeof e&&e.hasOwnProperty("iat")?e.iat:null},e.jsonEval=v,e.map=function(t,e,n){var r={};for(var i in t)r[i]=e.call(n,t[i],i,t);return r},e.patchProperty=function(t,e,n){t[e]=n},e.querystring=function(t){var e=[];return b(t,function(t,n){Array.isArray(n)?n.forEach(function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}),e.length?"&"+e.join("&"):""},e.querystringDecode=function(t){var e={};return t.replace(/^\?/,"").split("&").forEach(function(t){if(t){var n=t.split("=");e[n[0]]=n[1]}}),e},e.safeGet=function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]},e.stringLength=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e},e.stringToByteArray=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;o(++r<t.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(t.charCodeAt(r)-56320)}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},e.stringify=function(t){return JSON.stringify(t)},e.validateArgCount=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")},e.validateCallback=function(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(D(t,e,r)+"must be a valid function.")},e.validateContextObject=function(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(D(t,e,r)+"must be a valid context object.")},e.validateNamespace=function(t,e,n,r){if((!r||n)&&"string"!=typeof n)throw new Error(D(t,e,r)+"must be a valid firebase namespace.")}},zZ0H:function(t,e){t.exports=function(t){return t}},zoYe:function(t,e,n){var r=n("nmnc"),i=n("eUgh"),o=n("Z0cm"),a=n("/9aa"),s=r?r.prototype:void 0,u=s?s.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(o(e))return i(e,t)+"";if(a(e))return u?u.call(e):"";var n=e+"";return"0"==n&&1/e==-1/0?"-0":n}},zotm:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("rPjj"),i=n("Fxb1");function o(t,e,n,o,a){if(void 0===a&&(a=new r.a(t,n,o)),!a.closed)return Object(i.a)(e)(a)}},zqxM:function(t,e,n){var r=n("LqpT"),i=n("XGnz"),o=n("EA7m"),a=n("3L66"),s=o(function(t,e){return a(t)?r(t,i(e,1,a,!0)):[]});t.exports=s}},[[0,0]]]);